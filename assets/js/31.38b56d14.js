(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{1001:function(s,n,e){s.exports=e.p+"assets/img/2018-08-272.02.49.fb8ed76f.png"},1002:function(s,n,e){s.exports=e.p+"assets/img/2018-08-272.30.40.961728e7.png"},1003:function(s,n,e){s.exports=e.p+"assets/img/2018-08-273.02.57.c535ae0f.png"},1004:function(s,n,e){s.exports=e.p+"assets/img/2018-08-273.19.43.d0442bc1.png"},1005:function(s,n,e){s.exports=e.p+"assets/img/2018-08-274.52.41.f2bbd2e1.png"},1006:function(s,n,e){s.exports=e.p+"assets/img/2018-08-278.27.32.bf05bb02.png"},1007:function(s,n,e){s.exports=e.p+"assets/img/2018-08-278.47.42.d489ad10.png"},1008:function(s,n,e){s.exports=e.p+"assets/img/2018-08-279.32.39.f849557e.png"},1009:function(s,n,e){s.exports=e.p+"assets/img/2018-08-2710.02.21.82db4060.png"},1010:function(s,n,e){s.exports=e.p+"assets/img/2018-08-2710.11.56.aca21445.png"},1011:function(s,n,e){s.exports=e.p+"assets/img/2018-08-2711.05.07.2ab35429.png"},1012:function(s,n){s.exports="data:image/png;base64,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"},1013:function(s,n,e){s.exports=e.p+"assets/img/2018-08-285.12.04.d49ef62b.png"},2400:function(s,n,e){"use strict";e.r(n);var a=e(9),r=Object(a.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"一-用户个人中心页面中-我的课程页面的开发"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-用户个人中心页面中-我的课程页面的开发"}},[s._v("#")]),s._v(" （一）"),a("strong",[a("code",[s._v("用户个人中心页面中 我的课程页面的开发")])])]),s._v(" "),a("p",[a("img",{attrs:{src:e(1001),alt:"Alt text"}})]),s._v(" "),a("ul",[a("li",[s._v("将usercenter-mycourse.html拷贝到templates/users下面，继承usercenter-base.html页面")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{% extends \'users/usercenter-base.html\' %}\n\n{% block title %}\n    我的课程\n{% endblock %}\n\n{% block custom_bread %}\n<section>\n\t<div class="wp">\n\t\t<ul  class="crumbs">\n\t\t\t<li><a href="{% url \'index\' %}">首页</a>></li>\n\t\t\t<li><a href="{% url \'users:user_info\' %}">个人中心</a>></li>\n            <li><a>我的课程</a>></li>\n\n\t\t</ul>\n\t</div>\n</section>\n{% endblock %}\n\n{% block right_content %}\n    <div class="right" >\n\t\t<div class="personal_des Releasecont">\n\t\t\t<div class="head">\n\t\t\t\t<h1>我的课程</h1>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="personal_des permessage">\n\t\t\t<div class="companycenter">\n\t\t\t\t<div class="group_list brief">\n                    {% for course in courses %}\n                    <div class="module1_5 box">\n                            <a href="{% url \'courses:course_detail\' course.id %}">\n                                <img width="214" height="190" class="scrollLoading" data-url="{{ MEDIA_URL }}{{ course.image }}" src="{{ MEDIA_URL }}{{ course.image }}"/>\n                            </a>\n                            <div class="des">\n                                <a href="{% url \'courses:course_detail\' course.id %}"><h2>{{ course.desc }}</h2></a>\n                                <span class="fl">难度：<i class="key">{{ course.get_degree_display }}</i></span>\n                                <span class="fr">学习人数：{{ course.students }}</span>\n                            </div>\n                            <div class="bottom">\n                                <span class="fl">{{ course.course_org.name }}</span>\n                                <span class="star fr  notlogin" data-favid="15">{{ course.fav_num }}</span>\n                            </div>\n                        </div>\n                    {% endfor %}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n{% endblock %}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br")])]),a("ul",[a("li",[s._v("编辑urls.py文件")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 用户中心我的课程\nurl(r'^mycourse/', MyCourseView.as_view(), name=\"mycourse\"),\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("编辑views.py文件")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('# 我的课程页面处理逻辑\nclass MyCourseView(LoginRequiredMixin,View):\n    def get(self, request):\n        user_courses = UserCourse.objects.filter(user=request.user)\n        courses = [user_course.course for user_course in user_courses]\n\n        return  render(request, \'users/usercenter-mycourse.html\', {\n            "user_course": user_courses,\n            "courses": courses,\n        })\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("ul",[a("li",[s._v("在usercenter-base.html中给其一个跳转链接")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<li {% if request.path|slice:'15' == '/users/mycourse' %} class=\"active2\" {% endif %}><a href=\"{% url 'users:mycourse' %}\">我的课程</a></li>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"二-用户个人中心页面中-我的收藏页面的开发"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-用户个人中心页面中-我的收藏页面的开发"}},[s._v("#")]),s._v(" （二）"),a("strong",[a("code",[s._v("用户个人中心页面中 我的收藏页面的开发")])])]),s._v(" "),a("p",[a("img",{attrs:{src:e(1002),alt:"Alt text"}})]),s._v(" "),a("ul",[a("li",[s._v("将"),a("code",[s._v("usercenter-fav-course.html、usercenter-fav-org.html、usercenter-fav-teacher.html")]),s._v("三个页面拷贝到users/tmplates目录下")]),s._v(" "),a("li",[s._v("编辑urls.py文件")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 用户中心我的收藏---机构课程\nurl(r'^myfav/org/', MyFavOrgView.as_view(), name=\"myfav_org\"),\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("编辑views.py文件")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 我的收藏---课程机构\nclass MyFavOrgView(LoginRequiredMixin,View):\n    def get(self, request):\n        user_favs = UserFavorite.objects.filter(user=request.user, fav_type=2) # 返回一个收藏机构类实例\n        org_ids = [user_fav.fav_id for user_fav in user_favs]\n        orgs = [CourseOrg.objects.get(id=org_id) for org_id in org_ids]\n\n        return render(request, 'users/usercenter-fav-org.html', {\n            \"orgs\": orgs,\n        })\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("ul",[a("li",[s._v("在usercenter-base.html中给其一个跳转链接")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<li {% if request.path|slice:'12' == '/users/myfav' %} class=\"active2\" {% endif %}><a href=\"{% url 'users:myfav_org' %}\">我的收藏</a></li>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("编辑urls.py文件")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 用户中心我的收藏---授课讲师\nurl(r'^myfav/teacher/', MyFavTeacherView.as_view(), name=\"myfav_teacher\"),\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("编辑views.py文件")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 我的收藏---授课老师\nclass MyFavTeacherView(LoginRequiredMixin,View):\n    def get(self, request):\n        user_favs = UserFavorite.objects.filter(user=request.user, fav_type=3)\n        teacher_ids = [user_fav.fav_id for user_fav in user_favs]\n        teachers = [Teacher.objects.get(id=org_id) for org_id in teacher_ids]\n\n        return render(request, 'users/usercenter-fav-teacher.html', {\n            \"teachers\": teachers,\n        })\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("ul",[a("li",[s._v("编辑urls.py文件")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 用户中心我的收藏---公开课程\nurl(r'^myfav/course/', MyFavCourseView.as_view(), name=\"myfav_course\"),\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("编辑views.py文件")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 我的收藏---公开课程\nclass MyFavCourseView(LoginRequiredMixin,View):\n    def get(self, request):\n        user_favs = UserFavorite.objects.filter(user=request.user, fav_type=1)\n        course_ids = [user_fav.fav_id for user_fav in user_favs]\n        courses = [Course.objects.get(id=org_id) for org_id in course_ids]\n\n        return render(request, 'users/usercenter-fav-course.html', {\n            \"courses\": courses,\n        })\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("ul",[a("li",[s._v("分别在"),a("code",[s._v("我的收藏区域")]),s._v("设置跳转链接， 举个例子， 点击授课老师，跳转到"),a("code",[s._v("usercenter-fav-teacher.html")]),s._v("页面\n"),a("img",{attrs:{src:e(1003),alt:"Alt text"}})])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<div class="head">\n    <ul class="tab_header messagehead">\n        <li class="active"><a href="{% url \'users:myfav_org\' %}">课程机构</a### </li>\n        <li ><a href="{% url \'users:myfav_teacher\' %}">授课教师 </a></li>\n        <li><a href="{% url \'users:myfav_course\' %}">公开课程</a></li>\n    </ul>\n</div>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"三-用户个人中心页面中-我的消息页面的开发"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-用户个人中心页面中-我的消息页面的开发"}},[s._v("#")]),s._v(" （三）"),a("strong",[a("code",[s._v("用户个人中心页面中 我的消息页面的开发")])])]),s._v(" "),a("p",[a("img",{attrs:{src:e(1004),alt:"Alt text"}})]),s._v(" "),a("ul",[a("li",[s._v("编辑urls.py文件")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 用户中心我的消息\nurl(r'^mymsg/', MyMessageView.as_view(), name=\"mymsg\"),\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("编辑views.py文件")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 我的消息\nclass MyMessageView(LoginRequiredMixin,View):\n    def get(self, request):\n        all_messages = UserMessage.objects.filter(user=request.user.id)\n\n        # 只要访问了这个链接， 会将所有的消息设置为已读\n        all_unread_messages = UserMessage.objects.filter(user=request.user.id, has_read=False)\n        for unread_messages in all_unread_messages:\n            unread_messages.has_read = True\n            unread_messages.save()\n\n        # 对消息进行分页\n        try:  # 默认是第一页，如果有page参数，那么page就是传递进来的参数\n            page = request.GET.get('page', 1)\n        except PageNotAnInteger:\n            page = 1\n\n        p = Paginator(all_messages, per_page=1, request=request)  # 通过所有机构的记录创建分页器\n\n        messages = p.page(page)  # 翻页器默认从第一页显示\n\n        return render(request, 'users/usercenter-message.html', {\n            \"all_messages\": messages,\n        })\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("ul",[a("li",[s._v("在usercenter-base.html页面给其一个跳转链接")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<li {% if request.path|slice:'12' == '/users/mymsg' %} class=\"active2\" {% endif %}><a href=\"{% url 'users:mymsg' %}\" style=\"position: relative;\">我的消息</a></li>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("当每一次用户注册成功的时候，在RegisterView中给用户发送一条消息，将这个消息保存到UserMessage这个model中")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('# 如果注册成功，给用户发送一条消息\nuser_message = UserMessage()\nuser_message.user = user_profile.id\nuser_message.message = "欢迎来到Dee Future教学平台"\nuser_message.save()\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("设置让小喇叭显示消息数量")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('1：在UserProfile中添加如下内容：\n\n    # todo: 获取用户未读消息的数量， 使得user可以调用这个函数获得未读消息的记录对象集合\n    def get_unread_nums(self):\n        from operation.models import UserMessage  # 避免发生循环导入\n        return UserMessage.objects.filter(has_read=False, user=self.id).count()\n\n2：在有小喇叭的base页面，获取用户消息的数量\n<a href="{% url \'users:mymsg\' %}">\n\t<div class="msg-num">{{ request.user.get_unread_nums }}</div>\n</a>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("ul",[a("li",[s._v("这里需要注意的是："),a("code",[s._v("在开发过程中，在operation的models.py文件里面，我们导入了UserProfile 这个model，那么如果，在users的models.py文件里面再导入UserMessage这个model，就会出现循环导入，那么程序会报错")]),s._v("因此："),a("code",[s._v("在设计models的时候，需要考虑到这一点，将model之间的导入放入一个公共的APP的models里面进行，这个项目中，抽象出来一个operation这个APP，就是防止在models直接出现循环导入")]),s._v("。如果避免不了循环导入的话，使用下面这种方式，在函数调用的时候再导入对应的model，这样就可以有效防止模块的循环导入了")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("def get_unread_nums(self):\n\tfrom operation.models import UserMessage  # 避免发生循环导入\n    return UserMessage.objects.filter(has_read=False, user=self.id).count()\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"四-点击用户头像-退出按钮开发"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四-点击用户头像-退出按钮开发"}},[s._v("#")]),s._v(" （四）"),a("strong",[a("code",[s._v("点击用户头像，退出按钮开发")])])]),s._v(" "),a("p",[a("img",{attrs:{src:e(1005),alt:"Alt text"}})]),s._v(" "),a("ul",[a("li",[s._v("当用户点击退出的时候，跳转到index页面即可")]),s._v(" "),a("li",[s._v("编辑users的urls.py文件")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("url(r'^logout/',LogoutView.as_view() , name='logout'),\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("编辑views.py文件")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("class LogoutView(View):\n    def get(self, request):\n        logout(request) # 使用Django的logout函数\n        from django.core.urlresolvers import reverse\n        return HttpResponseRedirect(reverse('index'))\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("在前端页面中有"),a("code",[s._v("退出")]),s._v("按钮的地方，配置好跳转链接")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<a class="fr" href="{% url \'users:logout\' %}">退出</a>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"六-对首页的开发-以后重构的时候-把首页的开发放在最前面开发"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六-对首页的开发-以后重构的时候-把首页的开发放在最前面开发"}},[s._v("#")]),s._v(" （六）"),a("strong",[a("code",[s._v("对首页的开发 (以后重构的时候，把首页的开发放在最前面开发)")])])]),s._v(" "),a("ul",[a("li",[s._v("编辑项目下的urls.py")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("url(r'^$', IndexView.as_view(), name='index'),\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("编辑views.py文件")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('#TODO： 开始写首页的逻辑\nclass IndexView(View):\n    def get(self, request):\n\n        # 取出轮播图页面\n        all_banners = Banner.objects.all().order_by("-index")\n\n        # 取出所有的课程，显示在轮播图的课程，不显示在轮播图的课程\n        all_courses = Course.objects.all()\n        unbanner_courses = all_courses.filter(is_banner=False)[:6]\n        banner_courses = all_courses.filter(is_banner=True)[:5]\n\n        # 取出所有的机构\n        all_orgs = CourseOrg.objects.all()[:15]\n\n\n\n        return render(request, \'index.html\', {\n\n            "all_banners": all_banners,\n            "all_courses": all_courses,\n            "unbanner_courses": unbanner_courses,\n            "banner_courses": banner_courses,\n            "all_orgs": all_orgs,\n\n        })\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("ul",[a("li",[s._v("首页的HTML，这里的"),a("code",[s._v("forloop.counter|add:2")]),s._v("用到了Django的模板语言，forloop.counter从1开始计数，加上2就是3，那么"),a("code",[s._v("forloop.counter|add:2")]),s._v("就等于3。 "),a("code",[s._v("{% if forloop.counter|divisibleby:'5' %} class=\"five\" {% endif %}")]),s._v("就是判断是否循环次数能够被5整除，如果能够被5整除，那么就加上five这个class")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{% extends "base.html" %}\n{% load staticfiles %}\n\n{% block title %}\n    欢迎来到Dee Future 教学系统\n{% endblock %}\n\n{% block custom_bread %}\n{% endblock %}\n\n{% block custom_js %}\n    <script type="text/javascript" src="{% static \'js/index.js\' %}"><\/script>\n{% endblock %}\n\n\n\n{% block content %}\n    <div class="banner">\n        <div class="wp">\n            <div class="fl">\n                <div class="imgslide">\n                    <ul class="imgs">\n                        {% for banner in all_banners %}\n                        <li>\n                            <a href="{{ banner.url }}">\n                                <img width="1200" height="478"\n                                     src="{{ MEDIA_URL }}{{ banner.image }}"/>\n                            </a>\n                        </li>\n                        {% endfor %}\n\n                    </ul>\n                </div>\n                <div class="unslider-arrow prev"></div>\n                <div class="unslider-arrow next"></div>\n            </div>\n\n        </div>\n\n\n    </div>\n    <section>\n        <div class="wp">\n            <ul class="feature">\n                <li class="feature1">\n                    <img class="pic" src="{% static "images/feature1.png" %}"/>\n                    <p class="center">专业权威</p>\n                </li>\n                <li class="feature2">\n                    <img class="pic" src="{% static \'images/feature2.png\' %}"/>\n\t\t\t\t\t<p class="center" >课程最新</p>\n                </li>\n                <li class="feature3">\n                    <img class="pic" src="{% static "images/feature3.png" %}"/>\n                    <p class="center">名师授课</p>\n                </li>\n                <li class="feature4">\n                    <img class="pic" src="{% static \'images/feature4.png\' %}"/>\n                    <p class="center">数据真实</p>\n                </li>\n            </ul>\n        </div>\n    </section>\n    <section>\n        <div class="module">\n            <div class="wp">\n                <h1>公开课程</h1>\n                <div class="module1 eachmod">\n                    <div class="module1_1 left">\n                        <img width="228" height="614" src="{% static "images/module1_1.png" %}" />\n                        <p class="fisrt_word">名师授课<br/>专业权威</p>\n                        <a class="more" href="{% url \'courses:course_list\' %}">查看更多课程 ></a>\n                    </div>\n                    <div class="right group_list">\n                        <div class="module1_2 box">\n                            <div class="imgslide2">\n                                <ul class="imgs">\n\n                                    {% for banner_course in banner_courses %}\n                                    <li>\n                                        <a href="{% url \'courses:course_detail\' banner_course.id %}">\n                                            <img width="470" height="300" src="{{ MEDIA_URL }}{{ banner_course.image }}"/>\n                                        </a>\n                                    </li>\n                                    {% endfor %}\n\n\n                                </ul>\n                            </div>\n                            <div class="unslider-arrow2 prev"></div>\n                            <div class="unslider-arrow2 next"></div>\n                        </div>\n                        {% for course in unbanner_courses %}\n                        <div class="module1_{{ forloop.counter|add:2 }} box">\n                            <a href="{% url \'courses:course_detail\' course.id %}">\n                                <img width="233" height="190" src="{{ MEDIA_URL }}{{ course.image }}"/>\n                            </a>\n                            <div class="des">\n                                <a href="{% url \'courses:course_detail\' course.id %}">\n                                    <h2 title="django入门">{{ course.name }}</h2>\n                                </a>\n                                <span class="fl">难度：<i class="key">{{ course.get_degree_display }}</i></span>\n                                <span class="fr">学习人数：{{ course.students }}</span>\n                            </div>\n                            <div class="bottom">\n                                <span class="fl" title="Dee Future">{{ course.course_org.name }}</span>\n                                <span class="star fr">{{ course.click_nums }}</span>\n                            </div>\n                        </div>\n                        {% endfor %}\n                    </div>\n                </div>\n            </div>\n        </div>\n    </section>\n    <section>\n        <div class="module greybg">\n            <div class="wp">\n                <h1>课程机构</h1>\n                <div class="module3 eachmod">\n                    <div class="module3_1 left">\n                        <img width="228" height="463" src="/static/images/module3_1.jpg"/>\n                        <p class="fisrt_word">名校来袭<br/>权威认证</p>\n                        <a class="more" href="{% url \'org:org_list\' %}">查看更多机构 ></a>\n                    </div>\n                    <div class="right">\n                        <ul>\n\n                            {% for org in all_orgs %}\n                            <li {% if forloop.counter|divisibleby:\'5\' %} class="five" {% endif %}>\n                                <a href="{% url \'org:org_home\' org.id %}">\n                                    <div class="company">\n                                        <img width="184" height="100" src="{{ MEDIA_URL }}{{ org.image }}"/>\n                                        <div class="score">\n                                            <div class="circle">\n                                                <h2>{{ org.tag }}</h2>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <p><span class="key" title="{{ org.name }}">{{ org.name }}</span></p>\n                                </a>\n                            </li>\n                            {% endfor %}\n\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </section>\n{% endblock %}\n\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br"),a("span",{staticClass:"line-number"},[s._v("100")]),a("br"),a("span",{staticClass:"line-number"},[s._v("101")]),a("br"),a("span",{staticClass:"line-number"},[s._v("102")]),a("br"),a("span",{staticClass:"line-number"},[s._v("103")]),a("br"),a("span",{staticClass:"line-number"},[s._v("104")]),a("br"),a("span",{staticClass:"line-number"},[s._v("105")]),a("br"),a("span",{staticClass:"line-number"},[s._v("106")]),a("br"),a("span",{staticClass:"line-number"},[s._v("107")]),a("br"),a("span",{staticClass:"line-number"},[s._v("108")]),a("br"),a("span",{staticClass:"line-number"},[s._v("109")]),a("br"),a("span",{staticClass:"line-number"},[s._v("110")]),a("br"),a("span",{staticClass:"line-number"},[s._v("111")]),a("br"),a("span",{staticClass:"line-number"},[s._v("112")]),a("br"),a("span",{staticClass:"line-number"},[s._v("113")]),a("br"),a("span",{staticClass:"line-number"},[s._v("114")]),a("br"),a("span",{staticClass:"line-number"},[s._v("115")]),a("br"),a("span",{staticClass:"line-number"},[s._v("116")]),a("br"),a("span",{staticClass:"line-number"},[s._v("117")]),a("br"),a("span",{staticClass:"line-number"},[s._v("118")]),a("br"),a("span",{staticClass:"line-number"},[s._v("119")]),a("br"),a("span",{staticClass:"line-number"},[s._v("120")]),a("br"),a("span",{staticClass:"line-number"},[s._v("121")]),a("br"),a("span",{staticClass:"line-number"},[s._v("122")]),a("br"),a("span",{staticClass:"line-number"},[s._v("123")]),a("br"),a("span",{staticClass:"line-number"},[s._v("124")]),a("br"),a("span",{staticClass:"line-number"},[s._v("125")]),a("br"),a("span",{staticClass:"line-number"},[s._v("126")]),a("br"),a("span",{staticClass:"line-number"},[s._v("127")]),a("br"),a("span",{staticClass:"line-number"},[s._v("128")]),a("br"),a("span",{staticClass:"line-number"},[s._v("129")]),a("br"),a("span",{staticClass:"line-number"},[s._v("130")]),a("br"),a("span",{staticClass:"line-number"},[s._v("131")]),a("br"),a("span",{staticClass:"line-number"},[s._v("132")]),a("br"),a("span",{staticClass:"line-number"},[s._v("133")]),a("br"),a("span",{staticClass:"line-number"},[s._v("134")]),a("br"),a("span",{staticClass:"line-number"},[s._v("135")]),a("br"),a("span",{staticClass:"line-number"},[s._v("136")]),a("br"),a("span",{staticClass:"line-number"},[s._v("137")]),a("br"),a("span",{staticClass:"line-number"},[s._v("138")]),a("br"),a("span",{staticClass:"line-number"},[s._v("139")]),a("br"),a("span",{staticClass:"line-number"},[s._v("140")]),a("br"),a("span",{staticClass:"line-number"},[s._v("141")]),a("br"),a("span",{staticClass:"line-number"},[s._v("142")]),a("br"),a("span",{staticClass:"line-number"},[s._v("143")]),a("br"),a("span",{staticClass:"line-number"},[s._v("144")]),a("br"),a("span",{staticClass:"line-number"},[s._v("145")]),a("br"),a("span",{staticClass:"line-number"},[s._v("146")]),a("br"),a("span",{staticClass:"line-number"},[s._v("147")]),a("br"),a("span",{staticClass:"line-number"},[s._v("148")]),a("br"),a("span",{staticClass:"line-number"},[s._v("149")]),a("br"),a("span",{staticClass:"line-number"},[s._v("150")]),a("br"),a("span",{staticClass:"line-number"},[s._v("151")]),a("br"),a("span",{staticClass:"line-number"},[s._v("152")]),a("br"),a("span",{staticClass:"line-number"},[s._v("153")]),a("br")])]),a("ul",[a("li",[s._v("简要说明下"),a("code",[s._v("HttpResponseRedirect")]),s._v("应用场景,  如果底下这段代码，直接render的话，那么不会给index.html传递任何的数据，所以使用HttpResponseRedirect，重新去跳转到之前访问的模板，这样就会调用IndexView的处理逻辑，就会返回数据")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("if user:\n    if user.is_active:\n        login(request, user)\n        return HttpResponseRedirect(reverse('index'))\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"七-对404、500页面的开发"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#七-对404、500页面的开发"}},[s._v("#")]),s._v(" （七）"),a("strong",[a("code",[s._v("对404、500页面的开发")])])]),s._v(" "),a("ul",[a("li",[s._v("将404.html、500.html拷贝到templates的operation下面")]),s._v(" "),a("li",[s._v("配置全局的404、500页面， 编辑全局的urls.py")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('handler404 = "operation.views.page_not_found"\nhandler500 = "operation.views.server_error"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("由于在operation这个APP里面，views.py还没有用到。因此，编辑operation的views.py文件")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("from django.shortcuts import render\nfrom django.shortcuts import render_to_response\n\ndef page_not_found(request):\n    response = render_to_response('operation/404.html', {})\n    response.status_code = 404\n    return response\n\n\ndef server_error(request):\n    response = render_to_response('operation/500.html', {})\n    response.status_code = 500\n    return response\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("ul",[a("li",[s._v("修改settings的配置, 改为生产环境的配置")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("DEBUG = False\n\nALLOWED_HOSTS = ['*']\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("但是当你访问一个错误页面的时候，/static目录下面的静态文件无法加载\n"),a("img",{attrs:{src:e(1006),alt:"Alt text"}})]),s._v(" "),a("li",[s._v("这是因为当修改了"),a("code",[s._v("DEBUG = False")]),s._v(", 那么就是生产环境的配置，因此在setting目录中的"),a("code",[s._v("STATIC_URL = '/static/' STATICFILES_DIRS = (os.path.join(BASE_DIR, \"static\"), )")]),s._v(", 这样的指定静态文件路径的方式就会失效，因为这样指定静态文件，只是适用于开发环境。那么就可以给静态文件配置一个url，像访问上传文件的路径一样访问静态文件")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('1: 在settings文件中添加：将os.path.join(BASE_DIR, "static")的值赋值给变量STATIC_ROOT\nSTATIC_ROOT = os.path.join(BASE_DIR, "static")\n\n2：并且注释掉STATICFILES_DIRS\n# STATICFILES_DIRS = (os.path.join(BASE_DIR, "static"), )\n\n3：在项目目录下的urls.py文件中导入STATIC_ROOT，且配置访问url\nurl(r\'^static/(?P<path>.*)\', serve, {\'document_root\': STATIC_ROOT}),\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("ul",[a("li",[s._v("此时再次刷新，静态文件可以被找到了\n"),a("img",{attrs:{src:e(1007),alt:"Alt text"}})])]),s._v(" "),a("h3",{attrs:{id:"八-xadmin对用户的权限管理-已经后续对用户观看视频的权限管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#八-xadmin对用户的权限管理-已经后续对用户观看视频的权限管理"}},[s._v("#")]),s._v(" （八）"),a("strong",[a("code",[s._v("xadmin对用户的权限管理，已经后续对用户观看视频的权限管理")])])]),s._v(" "),a("ul",[a("li",[s._v("xadmin对注册用户有权限管理机制，可以直接给用户设置每个APP的model的增删改查权限，也可以设置组权限\n"),a("img",{attrs:{src:e(1008),alt:"Alt text"}}),s._v(" "),a("img",{attrs:{src:e(1009),alt:"Alt text"}})]),s._v(" "),a("li",[s._v("但是这里让某个用户指定用户组比较特别，如果是在组中添加用户，那么是创建新的用户，而不是让这个用户具有组的权限，必须点击用户，在用户的设置中设置某个用户属于哪个组, 必须要点击其为蓝色之后再保存，这个用户才会具有组的权限\n"),a("img",{attrs:{src:e(1010),alt:"Alt text"}})])]),s._v(" "),a("h3",{attrs:{id:"九-如果项目在笔记本运行-且debug-false-的话-那么是无法访问xadmin的静态文件的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#九-如果项目在笔记本运行-且debug-false-的话-那么是无法访问xadmin的静态文件的"}},[s._v("#")]),s._v(" （九）"),a("strong",[a("code",[s._v("如果项目在笔记本运行，且DEBUG = False 的话，那么是无法访问xadmin的静态文件的")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("如果在本地开发的过程中，要使用xadmin，那么DEBUG 必须设置为 True，设置为True之后，才能够访问xadmin的静态文件\n例如：http://0.0.0.0:12345/static/xadmin/vendor/jquery/jquery.js\nxadmin自动会将自己的目录地址拼接到static/目录下面，这样就能够访问到了，且必须在 DEBUG = True 的条件下\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("blockquote",[a("p",[s._v("（十）"),a("strong",[a("code",[s._v("对xadmin的设置")])])])]),s._v(" "),a("ul",[a("li",[s._v("1：编辑adminx.py文件，修改icon， 修改icorn需要在font awesome官网下载字体图标的css, 拷贝到xadmin/vendor/font awesome/下面，这里的 'fa fa-magic' 就是官网css样式的名称，需要在官网查询")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("model_icon = 'fa fa-magic'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("2: 设置在后台排序，让这个表的数据，在后台按照某个字段排序")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('ordering = ["-click_nums"] \n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("3：字段只读，和不可见")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(" # todo: 设置哪些字段是只读的，无法在后台修改\nreadonly_fields = ['students', 'fav_num']\n\n# todo: 设置哪些字段可以在model管理器列表页的时候就可以修改对应的值，不需要点击进去\nlist_editable = ['degree', 'desc']\n\n# TODO：设置哪些字段不显示，不让看见\nexclude = ['click_nums']\n\n# todo: 注明在后台显示的字段信息， 注意，这里添加了一个get_lesson_num和go_to_baidu函数，来显示课程的章节数\nlist_display = ['name', 'desc', 'degree', 'learn_times', 'students', 'fav_num', 'image', 'click_nums',\"course_org\", 'add_time', 'get_lesson_num', 'go_to_baidu']\n如果要显示get_lesson_num的中文名，需要get_lesson_num.short_description=\"填写字段名称\"\n\n# todo: 设置这个model管理器的刷新时间\nrefresh_times = [3,5]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("ul",[a("li",[s._v("4： xadmin的inline嵌套（只能一层嵌套）")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("class LessonInline(object):\n    model = Lesson\n    extra = 0\n\n\n\nclass CourseResourceInline(object):\n    model = CourseResource\n    extra = 0\n\nclass CourseAdmin(object):\n    list_display = ['name', 'desc', 'degree', 'learn_times', 'students', 'fav_num', 'image', 'click_nums', \"course_org\"]\n    search_fields = ['name', 'desc', 'detail', 'degree', 'learn_times', 'students', 'fav_num', 'image', 'click_nums','add_time']\n    list_filter = ['name', 'desc', 'detail', 'degree', 'learn_times', 'students', 'fav_num', 'image', 'click_nums',\n                   'course_org', 'add_time']\n    ordering = [\"-click_nums\"]\n    readonly_fields = ['students', 'fav_num']\n    list_editable = ['degree', 'desc']\n    exclude = ['click_nums']\n    inlines = [LessonInline, CourseResourceInline]  # 添加这个，在xadmin中就可以实现嵌套\n    refresh_times = [3, 5]\n    style_fields = {\"detail\": \"ueditor\"}\n    import_excel = True\n    model_icon = 'fa fa-book'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("p",[a("img",{attrs:{src:e(1011),alt:"Alt text"}})]),s._v(" "),a("ul",[a("li",[s._v("5：在xadmin中实现，一张表呈现出两张表的内容，如下图\n"),a("img",{attrs:{src:e(1012),alt:"Alt text"}})])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1： 编辑models.py\n# 这个BannerCourse有一个proxy，表示只是映射到Course的数据，并不会创建一张表， 而是一张虚表\nclass BannerCourse(Course):\n    class Meta:\n        verbose_name = u\"轮播课程\"\n        verbose_name_plural = verbose_name\n        proxy = True\n\n2: 编辑adminx.py， 添加\nclass BannerCourseAdmin(object):\n    list_display = ['name', 'desc', 'degree', 'learn_times', 'students', 'fav_num', 'image', 'click_nums', \"course_org\",'add_time']\n    search_fields = ['name', 'desc', 'detail', 'degree', 'learn_times', 'students', 'fav_num', 'image', 'click_nums','add_time']\n    list_filter = ['name', 'desc', 'detail', 'degree', 'learn_times', 'students', 'fav_num', 'image', 'click_nums','course_org', 'add_time']\n    ordering = [\"-click_nums\"]\n    readonly_fields = ['students', 'fav_num']\n    exclude = ['click_nums']\n    inlines = [LessonInline, CourseResourceInline]\n    model_icon = 'fa fa-magic'\n\t\n\t# TODO： 重载父类的queryset方法， 完成对is_banner字段的过滤\n    def queryset(self):\n        qs = super(BannerCourseAdmin, self).queryset()\n        qs = qs.filter(is_banner=True)\n        return qs\n\n\n3： 那么CourseAdmin就可以这样改，使得BannerCourseAdmin与CourseAdmin分开管理\nclass CourseAdmin(object):\n    list_display = ['name', 'desc', 'degree', 'learn_times', 'students', 'fav_num', 'image', 'click_nums', \"course_org\"]\n    search_fields = ['name', 'desc', 'detail', 'degree', 'learn_times', 'students', 'fav_num', 'image', 'click_nums',\n                     'add_time']\n    list_filter = ['name', 'desc', 'detail', 'degree', 'learn_times', 'students', 'fav_num', 'image', 'click_nums',\n                   'course_org', 'add_time']\n    ordering = [\"-click_nums\"]\n    readonly_fields = ['students', 'fav_num']\n    list_editable = ['degree', 'desc']\n    exclude = ['click_nums']\n    inlines = [LessonInline, CourseResourceInline]\n    refresh_times = [3, 5]\n    style_fields = {\"detail\": \"ueditor\"}\n    import_excel = True\n    model_icon = 'fa fa-book'\n\n    # TODO： 重载父类的方法， 完成对is_banner字段的过滤\n    def queryset(self):\n        qs = super(CourseAdmin, self).queryset()\n        qs = qs.filter(is_banner=False)\n        return qs\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br")])]),a("ul",[a("li",[s._v("实现每次添加一个课程的时候，让这个课程的所属机构数加一")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("在CourseAdmin中添加如下代码：\n\n    # todo: 当这个model调用save方法，会调用这个逻辑， 可以让这个课程课程所属的机构的课程数加一\n    def save_models(self):\n        from organization.models import CourseOrg\n        course = self.new_obj  # 获取save的course实例\n        course.save() # 先保存到数据库中\n        if course.course_org is not None:\n            course_org = course.course_org # 拿到机构\n            course_org.course_nums = Course.objects.filter(course_org=course_org).count() # 拿到这个机构对应的所有课程数\n            course_org.save()  # 保存\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("blockquote",[a("p",[s._v("（十一）"),a("strong",[a("code",[s._v("对xadmin中设置主题样式不生效的问题件")])])])]),s._v(" "),a("ul",[a("li",[s._v("在users的adminx.py文件中添加了如下配置, 发现use_bootswatch并没有生效， 原因是httplib2请求的地址无法访问到，因此改用requests库访问，"),a("code",[s._v("pip install requests")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("class BaseSetting(object):\n    enable_themes = True\n    use_bootswatch = True\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("编辑xadmin/plugins/themes.py文件， 修改如下配置即可")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ex_themes = []\n# 这里改动了下\ntry:\n    flag = True\n    if flag:\n        content = requests.get(\"https://bootswatch.com/api/3.json\")\n        if six.PY3:\n            content = content.text.decode()\n        watch_themes = json.loads(content.text)['themes']\n    else:\n        content = requests.get(\"https://bootswatch.com/api/3.json\")\n        if six.PY3:\n            content = content.text.decode()\n        watch_themes = json.loads(content.text)['themes']\n    ex_themes.extend([\n        {'name': t['name'], 'description': t['description'],\n            'css': t['cssMin'], 'thumbnail': t['thumbnail']}\n        for t in watch_themes])\nexcept Exception as e:\n    print(e)\ncache.set(THEME_CACHE_KEY, json.dumps(ex_themes), 24 * 3600)\nthemes.extend(ex_themes)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("blockquote",[a("p",[s._v("（十二）"),a("strong",[a("code",[s._v("NGINX + Supervisor + UWSGI 上线Django项目")])])])]),s._v(" "),a("ul",[a("li",[a("strong",[a("code",[s._v("先聊一聊WSGI网关接口")])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("WSGI是一种WEB服务器  <网关接口### 。 是一个Web服务器（如nginx）与应用服务器（如uWSGI）通信的一种规范（协议）。\n\n在生产环境中使用WSGI作为python web的服务器。Python Web服务器网关接口，是Python应用程序或框架和Web服务器之间的一种接口，被广泛接受。WSGI没有官方的实现, 因为WSGI更像一个协议，只要遵照这些协议，WSGI应用(Application)都可以在任何服务器(Server)上运行。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[a("strong",[a("code",[s._v("再聊一聊uWSGI Python Web的服务器")])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("uWSGI实现了WSGI的所有接口，是一个快速、自我修复、开发人员和系统管理员友好的服务器。uWSGI代码完全用C编写，效率高、性能稳定。\n\nuwsgi是一种线路协议而不是通信协议，在此常用于在uWSGI服务器与其他网络服务器的数据通信。uwsgi协议是一个uWSGI服务器自有的协议，它用于定义传输信息的类型。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[a("strong",[a("code",[s._v("最后聊一聊为什么要使用uWSGI服务器")])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Django 是一个 Web 框架，框架的作用在于处理 request 和 reponse，其他的不是框架所关心的内容。所以怎么部署 Django 不是 Django 所需要关心的。\n\nDjango 所提供的是一个开发服务器，这个开发服务器，没有经过安全测试，而且使用的是 Python 自带的 simple HTTPServer 创建的，在安全性和效率上都是不行的\n\n而uWSGI 是一个全功能的 HTTP 服务器，他要做的就是把 HTTP 协议转化成语言支持的网络协议。比如把 HTTP 协议转化成 WSGI 协议，让 Python 可以直接使用。 \nuwsgi 是一种 uWSGI 的内部协议，使用二进制方式和其他应用程序进行通信。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ul",[a("li",[a("strong",[a("code",[s._v("让本地的Django运行在CentOS服务器上")])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1：在github上创建一个空仓库\n\n2： 在本地项目目录导出依赖\npip freeze ### requirements.txt\n\n3：将本地git初始化，提交到github仓库\necho \"# Dee_Future\" >### README.md\ngit init\ngit add README.md\ngit commit -m \"first commit\"\ngit remote add origin git@github.com:yinhuanyi/Dee_Future.git\ngit push -u origin master\n\n4：创建新的虚拟化环境\npyenv virtualenv 2.7.14 Dee_Future2.7.14\n\n5：在/app项目下，将gitlab仓库代码克隆到本地\ngit clone git@github.com:yinhuanyi/Dee_Future.git\n\n6：进入到项目目录Dee_Future\ncd Dee_Future\n\n7：绑定虚拟环境\npyenv local Dee_Future2.7.14\n\n8：安装依赖\npip install -r requirements.txt\n\n9：将本地数据库导入到生产数据库\ncreate database Dee_Future;\ngrant all on  Dee_Future.* to 'dee_future'@'%' identified by '你懂的';\nflush privileges;\n\n10：在本地使用Navicat连接Dee_Future数据库, 且将本地的数据库的表导入到生产数据库中（点击工具，选择数据传输）\n\n11：修改Django的settings.py文件，修改数据库、把开发模式设置为生产模式\n\n\nDEBUG = False\n#DEBUG = True\nALLOWED_HOSTS = ['*']\n#ALLOWED_HOSTS = []\n\nDATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.mysql',\n        'NAME': 'Dee_Future',\n        'USER': 'dee_future',\n        'PASSWORD': 'yhy3426356',\n        'HOST': '127.0.0.1',\n        'PORT': 3306,\n    }\n}\n\n\n\n\n12：修改urls.py文件\nfrom settings import MEDIA_ROOT, STATIC_ROOT    # 生产环境打开，开发环境注释\nurl(r'^static/(?P<path>.*)', serve, {'document_root': STATIC_ROOT}),     # 生产环境打开，开发环境注释\n\n\n13：收集静态文件，将静态文件全部拷贝到settings.py文件中指定的static目录中\npython manage.py collectstatic\n\n14：运行Django， 使用浏览器访问是否部署完毕\npython manage.py runserver 0.0.0.0:9000\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br")])]),a("ul",[a("li",[s._v("安装uwsgi服务器且测试（在系统的Python环境和项目使用的虚拟环境中安装都uwsgi服务器，如果虚拟环境不安装会出现"),a("code",[s._v("No module named site")]),s._v("错误）")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1：安装\nyum install python-devel （必须安装Python开发包）\npip install uwsgi\n\n2：测试\nvi test.py 内容如下\ndef application(env, start_response):\n    start_response('200 OK', [('Content-Type','text/html')])\n    return \"Hello World\"\n\n3：运行uwsgi\nuwsgi --http 0.0.0.0:9000 --wsgi-file test.py\n\n4：浏览器访问\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("ul",[a("li",[s._v("创建uwsgi服务器ini格式配置文件/etc/uwsgi.ini (如果使用supervisor监控uwsgi服务器，daemonize这个不要写)")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[uwsgi]\n# 地址和端口号，例如：socket = 127.0.0.1:50000 这里使用unix sock 与 NGINX 交互，加速socket读写\nsocket = /app/Dee_Future/DeeFuture.sock \n# 设置socket权限， 确保NGINX对socket有读写权限\nchmod-socket = 666\n# 项目目录\nchdir = /app/Dee_Future\n# 项目的wsgi接口，\nmodule = Future_Edu.wsgi\n# 启用主进程，允许主进程存在\nmaster = true   \n# 开启的工作进程数量, 与processes是一样的意思\nworkers = 4\n# 当服务器退出的时候自动清理环境，删除unix socket文件和pid文件\nvaccum = true\n# Python虚拟环境\nvirtualenv = /root/.pyenv/versions/Dee_Future2.7.14\n# 如果使用supervisor监控uwsgi服务器，这个不要写，如果写了，那么uwsgi在后台运行，那么，supervisor将无法监控到uwsgi程序，使进程在后台运行，并将日志打到指定的日志文件或者udp服务器\ndaemonize = /var/log/uwsgi/deefuture.log\n# 以固定的文件大小（单位B），切割日志文件\nlog-maxsize = 50000000\n# 创建pid文件\nsafe-pidfile = /var/run/uwsgi/project.pid\n# 当服务器启动是切割日志, 最后是保留\nlog-truncate = true\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("ul",[a("li",[s._v("启动uwsgi服务器，让其socket监听9000端口，如果访问正常，那么杀掉主进程，")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("/root/.pyenv/versions/Dee_Future2.7.14/bin/uwsgi --http "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:9000  --ini /etc/uwsgi.ini "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" -9 "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v("  /var/run/uwsgi/project.pid"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("配置NGINX服务器"),a("code",[s._v("deefuture.yhyblog.cn.conf")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(" server {\n        listen       80;\n        server_name deefuture.yhyblog.cn;\n\n        include /etc/nginx/default.d/*.conf;\n\n         # 静态文件\n        location  /static/ {\n           alias /app/Dee_Future/static/;\n        }\n\n        # 上传的媒介\n        location  /media {\n           alias /app/Dee_Future/media;\n        }\n\n        location / {\n            uwsgi_pass  unix:/app/Dee_Future/DeeFuture.sock;\n            include     /etc/nginx/uwsgi_params;\n            proxy_set_header   Host    $host;\n            proxy_set_header   X-Real-IP   $remote_addr;\n            proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\n        }\n        error_page 404 /404.html;\n            location = /40x.html {\n        }\n\n        error_page 500 502 503 504 /50x.html;\n            location = /50x.html {\n        }\n    }\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br")])]),a("ul",[a("li",[a("p",[s._v("使用"),a("code",[s._v("deefuture.yhyblog.cn")]),s._v("访问服务")])]),s._v(" "),a("li",[a("p",[a("strong",[a("code",[s._v("安装supervisor管理uwsgi服务器，实现进程监控自动重启（系统Python环境下安装）")])])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("\tsupervisor管理进程，是通过fork/exec的方式将这些被管理的进程当作supervisor的子进程来启动，所以我们只需要将要管理进程的可执行文件的路径添加到supervisor的配置文件中就好了。此时被管理进程被视为supervisor的子进程，若该子进程异常中断，则父进程可以准确的获取子进程异常中断的信息，通过在配置文件中设置autostart=ture，可以实现对异常中断的子进程的自动重启。\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1.安装\nyum install -y supervisor\n\n2:创建默认配置文件\necho_supervisord_conf  ### /etc/supervisord.conf\n\n3：编辑主配置文件\n[include]\nfiles = /etc/supervisord.d/*.ini\n\n4：创建子进程管理配置文件内容如下\nvi /etc/supervisord.d/deefuture.ini\n\n[program:deefuture]\n# 指定子进程启动命令\ncommand=/root/.pyenv/versions/Dee_Future2.7.14/bin/uwsgi --ini /etc/uwsgi.ini\n# 指定子进程家目录\ndirectory=/app/Dee_Future\n# 启动几个进程\nnumprocs=1 \n# 随着supervisord的启动而启动\nautostart=true\n# 自动重启。。当然要选上了\nautorestart=true\n# 启动失败时的最多重试次数\nstartretries=10 \n# 启动3秒后没有异常退出，就当作已经正常启动了\nstartsecs=3\n# 日志保存路径\nstdout_logfile=/var/log/supervisor/deefuture_stdout_.log\nstderr_logfile=/var/log/supervisor/deefuture_stderr_.log\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br")])]),a("ul",[a("li",[s._v("启动supervisord， 会将子程序直接托起")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("systemctl start supervisord\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[a("strong",[s._v("supervisorctl命令")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("supervisorctl stop programxxx，停止某一个进程(programxxx)，programxxx 为 [program:beepkg] 里配置的值，这个示例就是 beepkg。\nsupervisorctl start programxxx，启动某个进程。\nsupervisorctl restart programxxx，重启某个进程。\nsupervisorctl status，查看进程状态。\nsupervisorctl stop groupworker ，重启所有属于名为 groupworker 这个分组的进程(start,restart 同理)。\nsupervisorctl stop all，停止全部进程，注：start、restart、stop 都不会载入最新的配置文件。\nsupervisorctl reload，载入最新的配置文件，停止原有进程并按新的配置启动、管理所有进程。\nsupervisorctl update，根据最新的配置文件，启动新配置或有改动的进程，配置没有改动的进程不会受影响而重启。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("ul",[a("li",[a("strong",[s._v("Supervisor控制台")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("在/etc/supervisord.conf中修改[inet_http_server]的参数\n\n[inet_http_server]         ; inet (TCP) server disabled by default\nport=127.0.0.1:9001        ; (ip_address:port specifier, *:port for all iface)\nusername=robby             ; (default is no username (open server))\npassword=yhy3426356              ; (default is no password (open server))\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[a("img",{attrs:{src:e(1013),alt:"Alt text"}})]),s._v(" "),a("blockquote",[a("p",[s._v("（十三）"),a("strong",[a("code",[s._v("阿里云无法使用25端口发送邮件的处理方式")])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('# 由于阿里云无法使用25端口，因此使用465端口\nEMAIL_USE_SSL = True\nEMAIL_HOST = \'smtp.163.com\'  \nEMAIL_PORT = 465\nEMAIL_HOST_USER = "yinhuanyi_cn@163.com"\nEMAIL_HOST_PASSWORD = "xxxxxxxx"\nEMAIL_FROM = EMAIL_HOST_USER\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])])])}),[],!1,null,null,null);n.default=r.exports}}]);