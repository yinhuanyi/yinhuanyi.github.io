(window.webpackJsonp=window.webpackJsonp||[]).push([[411],{2315:function(s,e,a){"use strict";a.r(e);var n=a(9),t=Object(n.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"一-django-model-模型建立"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-django-model-模型建立"}},[s._v("#")]),s._v(" 一：Django Model 模型建立")]),s._v(" "),a("h3",{attrs:{id:"一-django-model数据模型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-django-model数据模型"}},[s._v("#")]),s._v(" (一)：Django Model数据模型")]),s._v(" "),a("ul",[a("li",[s._v("概念")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("\tDjango Model层是Django的数据模型层，每一个Model类就是数据库中的一张表\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("注意点")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1：model一般都是定义在不同的APP的models.py模块文件中，可以是一个，也可以是多个\n\n2：不同model之间可以相互关联，类似表直接的关联\n\n3：APP中一旦定义了model，必须将此APP添加到settings文件中\n\n4：且运行makemigrations检查model更新和migrate同步数据模型在数据库中建表 \n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h3",{attrs:{id:"二-定义第一个数据model模型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-定义第一个数据model模型"}},[s._v("#")]),s._v(" (二)：定义第一个数据model模型")]),s._v(" "),a("ul",[a("li",[s._v("在courses APP中创建Course Model")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('from django.db import models\nclass Course(models.Model):\n    name = models.CharField(max_length=50, verbose_name="课程名")\n    desc = models.CharField(max_length=300, verbose_name=u"课程描述")\n    degree = models.CharField(choices=(("primary", \'初级\'), ("middle","中级"), ("junior", "高级")), max_length=10, verbose_name=\'课程难度\')\n    students = models.IntegerField(default=0, verbose_name="学习人数")\n    # 需要安装pillow，图片处理库\n    image = models.ImageField(upload_to="courses/%Y/%m", verbose_name="课程图片", max_length=100)\n\t\n    class Meta:\n        verbose_name = "课程"\n        verbose_name_plural = verbose_name\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("ul",[a("li",[s._v("在数据库中生成数据表")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("makemigrations检查model更新和migrate\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("登录数据库检查表")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> desc courses_course;\n+----------+--------------+------+-----+---------+----------------+\n| Field    | Type         | Null | Key | Default | Extra          |\n+----------+--------------+------+-----+---------+----------------+\n| id       | int(11)      | NO   | PRI | NULL    | auto_increment |\n| name     | varchar(50)  | NO   |     | NULL    |                |\n| desc     | varchar(300) | NO   |     | NULL    |                |\n| degree   | varchar(10)  | NO   |     | NULL    |                |\n| students | int(11)      | NO   |     | NULL    |                |\n| image    | varchar(100) | NO   |     | NULL    |                |\n+----------+--------------+------+-----+---------+----------------+\n6 rows in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("ul",[a("li",[s._v("等价的SQL")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("create table courses_course(\n\tid int not null primary key,\n\tname varchar(50),\n\tdesc varchar(300),\n\tdegree varchar(10),\n\tstudents int(11),\n\timage varchar(100),\n);\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"三-field-字段类型-自行查阅官方文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-field-字段类型-自行查阅官方文档"}},[s._v("#")]),s._v(" (三)：Field 字段类型（自行查阅官方文档）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("IntegerField\nCharField\nImageField\n...\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])])}),[],!1,null,null,null);e.default=t.exports}}]);