(window.webpackJsonp=window.webpackJsonp||[]).push([[309],{1673:function(s,t,a){s.exports=a.p+"assets/img/2021-01-024.22.36.204ec3e9.png"},2632:function(s,t,a){"use strict";a.r(t);var n=a(9),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"一-基准测试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-基准测试"}},[s._v("#")]),s._v(" 一：基准测试")]),s._v(" "),n("ul",[n("li",[s._v("什么是基准测试")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("基准测试是针对系统的一种压力测试\n但基于测试不关心业务逻辑，更加简单直接，没有真实条件\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("ul",[n("li",[s._v("基准测试的相关指标")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("："),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("QPS")]),s._v("：每秒钟处理完成的请求次数\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("："),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TPS")]),s._v("：每秒钟执行完成的事务次数\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("：响应时长：一次请求所需的平均响应时间\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("：并发量：系统能够同时处理的请求数\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h2",{attrs:{id:"二-sysbench基准测试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二-sysbench基准测试"}},[s._v("#")]),s._v(" 二：Sysbench基准测试")]),s._v(" "),n("h3",{attrs:{id:"一-sysbench基本操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-sysbench基本操作"}},[s._v("#")]),s._v(" "),n("code",[s._v("(一) Sysbench基本操作")])]),s._v(" "),n("ul",[n("li",[s._v("线程测试")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("sysbench "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("test"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("threads "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("num"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("threads"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("thread"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("yields"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("thread"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("locks"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" run\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("CPU测试")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("sysbench "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("test"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("cpu "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("cpu"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("max"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("prime"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20000")]),s._v(" run\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("数据库测试")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("sysbench "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("test"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("oltp "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("mysql"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("table"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("engine"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("myisam "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("oltp"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("table"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("size"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100000")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("磁盘测试")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("sysbench "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("test"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("fileio "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("num"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("threads"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("file"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("total"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("size"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("G "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("file"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("test"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("mode"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("rndrw run\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"二-sysbench安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二-sysbench安装"}},[s._v("#")]),s._v(" "),n("code",[s._v("(二) Sysbench安装")])]),s._v(" "),n("ul",[n("li",[s._v("安装依赖包")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("yum install "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("y automake libtool mysql"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("devel\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("安装sysbench（https://github.com/akopytov/sysbench#linux）")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("curl "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s https"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("packagecloud"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("io"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("install"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("repositories"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("akopytov"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sysbench"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("script"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rpm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sh "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" sudo bash\nyum "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("y install sysbench\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"三-sysbench命令行对一个pxc分片测试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三-sysbench命令行对一个pxc分片测试"}},[s._v("#")]),s._v(" "),n("code",[s._v("(三) Sysbench命令行对一个PXC分片测试")])]),s._v(" "),n("ul",[n("li",[s._v("基本语法")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("sysbench script "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("基于haproxy四层负载对PXC测试")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("： 修改haproxy的配置文件，修改为"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PXC")]),s._v("的地址\nlisten proxy"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("mysql\n    # 访问的"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IP")]),s._v("地址\n    bind "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("\n    # 网络协议\n    mode tcp\n    # 负载均衡算法\n    balance roundrobin\n    # 日志格式\n    option tcplog\n    # 负载均衡\n    server mysql1 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".100")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".231")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v(" check port "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v(" weight "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" maxconn "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),s._v("\n    server mysql2 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".100")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".107")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v(" check port "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v(" weight "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" maxconn "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),s._v("\n    option tcpka # 使用keepalive检查死链\n\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("：在"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PXC")]),s._v("中创建sbtest数据库\ncreate database sbtest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("：基于sysbench生成数据\nsysbench "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("share"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sysbench"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tests"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("include"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("oltp_legacy"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("oltp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lua "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("mysql"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("host"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".100")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".178")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("mysql"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("port"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("mysql"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("user"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("mysql"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("password"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("oltp"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("tables"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("count"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("oltp"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("table"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("size"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100000")]),s._v(" prepare\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("：基于sysbench测试"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PXC")]),s._v("\nsysbench "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("share"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sysbench"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tests"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("include"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("oltp_legacy"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("oltp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lua "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("mysql"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("host"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".100")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".178")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("mysql"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("port"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("mysql"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("user"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("mysql"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("password"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("oltp"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("test"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("mode"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("complex "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("threads"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("time"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("report"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("interval"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" run "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("### mysql_sysbench"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("log\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("：最后查看报表\ncat mysql_sysbench"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("log\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br")])]),n("ul",[n("li",[s._v("测试标准")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("数据表 ### "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n单表数据量 ### "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v("万行\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h2",{attrs:{id:"三-tpcc-mysql压力测试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三-tpcc-mysql压力测试"}},[s._v("#")]),s._v(" 三：tpcc-mysql压力测试")]),s._v(" "),n("h3",{attrs:{id:"一-tpcc-mysql"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-tpcc-mysql"}},[s._v("#")]),s._v(" "),n("code",[s._v("(一) tpcc-mysql")])]),s._v(" "),n("ul",[n("li",[s._v("概念")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("由Percona基于tpcc规范设计的产品，专门用于MySQL压力测试\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("数据模型如下")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(1673),alt:"Alt text"}})]),s._v(" "),n("h3",{attrs:{id:"二-准备工作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二-准备工作"}},[s._v("#")]),s._v(" "),n("code",[s._v("(二) 准备工作")])]),s._v(" "),n("ul",[n("li",[s._v("修改"),n("code",[s._v("/etc/my.cnf")]),s._v("，允许不符合规定的表模型")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("pxc_strict_mode"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DISABLED")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("安装"),n("code",[s._v("gcc")]),s._v("编译器")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("yum install "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("y gcc mysql"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("devel\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("下载tpcc-mysql(https://github.com/Percona-Lab/tpcc-mysql), 且编译")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("cd src\nmake\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("ul",[n("li",[s._v("PXC中创建tpcc逻辑库")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("create database tpcc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("在tpcc-mysql/schema2目录中有四个SQL文件, 需要使用"),n("code",[s._v("create_table.sql")]),s._v("创建表，"),n("code",[s._v("add_fkey_idx.sql")]),s._v("创建约束")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@sysbench schema2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# ll\ntotal "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("rw"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("r"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("r"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1518")]),s._v(" Jan "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2017")]),s._v(" add_fkey_idx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sql\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("rw"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("r"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("r"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("317")]),s._v(" Jan "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2017")]),s._v(" count"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sql\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("rw"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("r"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("r"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3484")]),s._v(" Jan "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2017")]),s._v(" create_table"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sql\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("rw"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("r"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("r"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("763")]),s._v(" Jan "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2017")]),s._v(" drop_cons"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sql\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("ul",[n("li",[s._v("在tpcc数据库中，执行"),n("code",[s._v("create_table.sql")]),s._v("建表语句")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("use tpcc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SET")]),s._v(" @"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OLD_UNIQUE_CHECKS")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("@@"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("UNIQUE_CHECKS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("UNIQUE_CHECKS")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SET")]),s._v(" @"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OLD_FOREIGN_KEY_CHECKS")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("@@"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FOREIGN_KEY_CHECKS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FOREIGN_KEY_CHECKS")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ndrop table "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" exists warehouse"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ncreate table "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("warehouse")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\nw_id smallint not "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nw_name "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nw_street_1 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nw_street_2 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nw_city "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nw_state "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nw_zip "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nw_tax "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("decimal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nw_ytd "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("decimal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ndrop table "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" exists district"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ncreate table "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("district")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\nd_id tinyint not "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nd_w_id smallint not "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nd_name "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nd_street_1 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nd_street_2 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nd_city "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nd_state "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nd_zip "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nd_tax "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("decimal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nd_ytd "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("decimal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nd_next_o_id int "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ndrop table "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" exists customer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ncreate table "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("customer")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\nc_id int not "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nc_d_id tinyint not "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nc_w_id smallint not "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nc_first "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nc_middle "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nc_last "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nc_street_1 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nc_street_2 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nc_city "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nc_state "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nc_zip "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nc_phone "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nc_since datetime"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nc_credit "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nc_credit_lim bigint"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nc_discount "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("decimal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nc_balance "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("decimal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nc_ytd_payment "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("decimal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nc_payment_cnt smallint"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nc_delivery_cnt smallint"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nc_data text "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ndrop table "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" exists history"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ncreate table "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\nh_c_id int"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nh_c_d_id tinyint"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nh_c_w_id smallint"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nh_d_id tinyint"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nh_w_id smallint"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nh_date datetime"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nh_amount "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("decimal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nh_data "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ndrop table "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" exists new_orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ncreate table "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("new_orders")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\nno_o_id int not "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nno_d_id tinyint not "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nno_w_id smallint not "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ndrop table "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" exists orders"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ncreate table "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("orders")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\no_id int not "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \no_d_id tinyint not "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \no_w_id smallint not "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\no_c_id int"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\no_entry_d datetime"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\no_carrier_id tinyint"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\no_ol_cnt tinyint"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \no_all_local tinyint "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ndrop table "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" exists order_line"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ncreate table "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("order_line")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" \nol_o_id int not "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nol_d_id tinyint not "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nol_w_id smallint not "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nol_number tinyint not "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nol_i_id int"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nol_supply_w_id smallint"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nol_delivery_d datetime"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nol_quantity tinyint"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nol_amount "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("decimal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \nol_dist_info "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ndrop table "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" exists item"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ncreate table "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("item")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\ni_id int not "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \ni_im_id int"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \ni_name "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \ni_price "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("decimal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \ni_data "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ndrop table "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" exists stock"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\ncreate table "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("stock")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\ns_i_id int not "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \ns_w_id smallint not "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \ns_quantity smallint"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \ns_dist_01 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \ns_dist_02 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\ns_dist_03 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\ns_dist_04 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \ns_dist_05 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \ns_dist_06 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \ns_dist_07 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \ns_dist_08 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \ns_dist_09 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \ns_dist_10 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("char")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \ns_ytd "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("decimal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \ns_order_cnt smallint"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \ns_remote_cnt smallint"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\ns_data "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TABLE")]),s._v(" warehouse "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ADD")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONSTRAINT")]),s._v(" pkey_warehouse "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PRIMARY")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("KEY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TABLE")]),s._v(" district  "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ADD")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONSTRAINT")]),s._v(" pkey_district  "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PRIMARY")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("KEY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("d_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" d_w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TABLE")]),s._v(" customer  "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ADD")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONSTRAINT")]),s._v(" pkey_customer  "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PRIMARY")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("KEY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" c_d_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" c_w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TABLE")]),s._v(" new_orders "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ADD")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONSTRAINT")]),s._v(" pkey_new_orders "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PRIMARY")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("KEY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("no_o_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" no_d_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" no_w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TABLE")]),s._v(" orders    "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ADD")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONSTRAINT")]),s._v(" pkey_orders    "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PRIMARY")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("KEY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("o_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" o_d_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" o_w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TABLE")]),s._v(" order_line "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ADD")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONSTRAINT")]),s._v(" pkey_order_line "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PRIMARY")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("KEY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ol_o_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ol_d_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ol_w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ol_number"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TABLE")]),s._v(" item "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ADD")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONSTRAINT")]),s._v(" pkey_item "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PRIMARY")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("KEY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TABLE")]),s._v(" stock "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ADD")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONSTRAINT")]),s._v(" pkey_stock "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PRIMARY")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("KEY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s_i_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("s_w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SET")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FOREIGN_KEY_CHECKS")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("@"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OLD_FOREIGN_KEY_CHECKS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SET")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("UNIQUE_CHECKS")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("@"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OLD_UNIQUE_CHECKS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br"),n("span",{staticClass:"line-number"},[s._v("99")]),n("br"),n("span",{staticClass:"line-number"},[s._v("100")]),n("br"),n("span",{staticClass:"line-number"},[s._v("101")]),n("br"),n("span",{staticClass:"line-number"},[s._v("102")]),n("br"),n("span",{staticClass:"line-number"},[s._v("103")]),n("br"),n("span",{staticClass:"line-number"},[s._v("104")]),n("br"),n("span",{staticClass:"line-number"},[s._v("105")]),n("br"),n("span",{staticClass:"line-number"},[s._v("106")]),n("br"),n("span",{staticClass:"line-number"},[s._v("107")]),n("br"),n("span",{staticClass:"line-number"},[s._v("108")]),n("br"),n("span",{staticClass:"line-number"},[s._v("109")]),n("br"),n("span",{staticClass:"line-number"},[s._v("110")]),n("br"),n("span",{staticClass:"line-number"},[s._v("111")]),n("br"),n("span",{staticClass:"line-number"},[s._v("112")]),n("br"),n("span",{staticClass:"line-number"},[s._v("113")]),n("br"),n("span",{staticClass:"line-number"},[s._v("114")]),n("br"),n("span",{staticClass:"line-number"},[s._v("115")]),n("br"),n("span",{staticClass:"line-number"},[s._v("116")]),n("br"),n("span",{staticClass:"line-number"},[s._v("117")]),n("br"),n("span",{staticClass:"line-number"},[s._v("118")]),n("br"),n("span",{staticClass:"line-number"},[s._v("119")]),n("br"),n("span",{staticClass:"line-number"},[s._v("120")]),n("br"),n("span",{staticClass:"line-number"},[s._v("121")]),n("br"),n("span",{staticClass:"line-number"},[s._v("122")]),n("br"),n("span",{staticClass:"line-number"},[s._v("123")]),n("br"),n("span",{staticClass:"line-number"},[s._v("124")]),n("br"),n("span",{staticClass:"line-number"},[s._v("125")]),n("br"),n("span",{staticClass:"line-number"},[s._v("126")]),n("br"),n("span",{staticClass:"line-number"},[s._v("127")]),n("br"),n("span",{staticClass:"line-number"},[s._v("128")]),n("br"),n("span",{staticClass:"line-number"},[s._v("129")]),n("br"),n("span",{staticClass:"line-number"},[s._v("130")]),n("br"),n("span",{staticClass:"line-number"},[s._v("131")]),n("br"),n("span",{staticClass:"line-number"},[s._v("132")]),n("br"),n("span",{staticClass:"line-number"},[s._v("133")]),n("br"),n("span",{staticClass:"line-number"},[s._v("134")]),n("br"),n("span",{staticClass:"line-number"},[s._v("135")]),n("br"),n("span",{staticClass:"line-number"},[s._v("136")]),n("br"),n("span",{staticClass:"line-number"},[s._v("137")]),n("br"),n("span",{staticClass:"line-number"},[s._v("138")]),n("br"),n("span",{staticClass:"line-number"},[s._v("139")]),n("br"),n("span",{staticClass:"line-number"},[s._v("140")]),n("br"),n("span",{staticClass:"line-number"},[s._v("141")]),n("br"),n("span",{staticClass:"line-number"},[s._v("142")]),n("br"),n("span",{staticClass:"line-number"},[s._v("143")]),n("br")])]),n("ul",[n("li",[s._v("在tpcc数据库中，执行"),n("code",[s._v("add_fkey_idx.sql")]),s._v("约束语句")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SET")]),s._v(" @"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OLD_UNIQUE_CHECKS")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("@@"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("UNIQUE_CHECKS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("UNIQUE_CHECKS")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SET")]),s._v(" @"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OLD_FOREIGN_KEY_CHECKS")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("@@"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FOREIGN_KEY_CHECKS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FOREIGN_KEY_CHECKS")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TABLE")]),s._v(" district  "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ADD")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONSTRAINT")]),s._v(" fkey_district_1 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FOREIGN")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("KEY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("d_w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("REFERENCES")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("warehouse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TABLE")]),s._v(" customer "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ADD")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONSTRAINT")]),s._v(" fkey_customer_1 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FOREIGN")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("KEY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c_d_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" c_w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("REFERENCES")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("district")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("d_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" d_w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TABLE")]),s._v(" history  "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ADD")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONSTRAINT")]),s._v(" fkey_history_1 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FOREIGN")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("KEY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("h_c_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" h_c_d_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" h_c_w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("REFERENCES")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("customer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" c_d_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" c_w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TABLE")]),s._v(" history  "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ADD")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONSTRAINT")]),s._v(" fkey_history_2 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FOREIGN")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("KEY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("h_d_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" h_w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("REFERENCES")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("district")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("d_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" d_w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TABLE")]),s._v(" new_orders "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ADD")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONSTRAINT")]),s._v(" fkey_new_orders_1 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FOREIGN")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("KEY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("no_o_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("no_d_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("no_w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("REFERENCES")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("orders")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("o_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" o_d_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" o_w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TABLE")]),s._v(" orders "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ADD")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONSTRAINT")]),s._v(" fkey_orders_1 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FOREIGN")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("KEY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("o_c_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("o_d_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("o_w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("REFERENCES")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("customer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("c_d_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("c_w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TABLE")]),s._v(" order_line "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ADD")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONSTRAINT")]),s._v(" fkey_order_line_1 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FOREIGN")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("KEY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ol_o_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("ol_d_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("ol_w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("REFERENCES")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("orders")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("o_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" o_d_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" o_w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TABLE")]),s._v(" order_line "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ADD")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONSTRAINT")]),s._v(" fkey_order_line_2 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FOREIGN")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("KEY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ol_i_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("ol_supply_w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("REFERENCES")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("stock")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s_i_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("s_w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TABLE")]),s._v(" stock "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ADD")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONSTRAINT")]),s._v(" fkey_stock_1 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FOREIGN")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("KEY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s_w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("REFERENCES")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("warehouse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TABLE")]),s._v(" stock "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ADD")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONSTRAINT")]),s._v(" fkey_stock_2 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FOREIGN")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("KEY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s_i_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("REFERENCES")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("item")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CREATE")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("INDEX")]),s._v(" idx_customer "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ON")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("customer")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c_w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("c_d_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("c_last"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("c_first"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CREATE")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("INDEX")]),s._v(" idx_orders "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ON")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("orders")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("o_w_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("o_d_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("o_c_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("o_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SET")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FOREIGN_KEY_CHECKS")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("@"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OLD_FOREIGN_KEY_CHECKS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SET")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("UNIQUE_CHECKS")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("@"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OLD_UNIQUE_CHECKS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br")])]),n("ul",[n("li",[s._v("使用tpcc创建测试数据")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("# "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("w表示创建一种商品数据\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tpcc_load "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("h "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".100")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".178")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d tpcc "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("u root "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("w "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("ul",[n("li",[s._v("使用tpcc对测试数据进行测试")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("# "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("c 表示并发连接数，"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("r表示数据库的预热时间， "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("l表示测试的时间 \n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tpcc_start "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("h "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".100")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".178")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d tpcc "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("u root "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("w "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("c "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("r "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("l "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("600")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" ### tpcc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("log \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])])}),[],!1,null,null,null);t.default=r.exports}}]);