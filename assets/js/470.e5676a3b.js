(window.webpackJsonp=window.webpackJsonp||[]).push([[470],{2403:function(s,n,a){"use strict";a.r(n);var e=a(9),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"一-python-2-7-升级到3-6-django从1-9升级到1-11"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-python-2-7-升级到3-6-django从1-9升级到1-11"}},[s._v("#")]),s._v(" （一）"),a("strong",[a("code",[s._v("Python 2.7 升级到3.6 ， Django从1.9升级到1.11")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1：Python3不再使用MySQL-python， 使用mysqlclient\nMySQL-python mysqlclient\n\n2：修改settings文件中的TEMPLATES， media上下文处理器的路径对比与Django1.9修改了，Django 1.11改为如下路径\n'django.template.context_processors.media', \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"二-django-2-0开发注意"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-django-2-0开发注意"}},[s._v("#")]),s._v(" （二）"),a("strong",[a("code",[s._v("Django 2.0开发注意")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1. 安装依赖包\n    新装\n        pip install requests\n    重装\n        django-crispy-forms\n        django-formtools\n        django-import-export\n        django-simple-captcha\n        django-pure-pagination\n2. 拷贝django2分支下的xadmin和djangoueditor源码\n   \n3. 所有model的外键需要加上on_delete的行为 改为 on_delete=models.CASCADE\n\n4. from django.core.urlresolvers import reverse 全部改为 from django.urls import reverse\n\n5. url中关于include的地方全部改为 url(r'^course/', include(('courses.urls','courses'), namespace=\"course\"))的模式\n\n6. 说明一下 urls.py中url(r'^captcha/', include('captcha.urls')), 一定不能加namespace也不能用上面的模式，保持原来模式就行了\n\n7. 将settings中的MIDDLEWARE_CLASSES 改为 MIDDLEWARE并删除'django.contrib.auth.middleware.SessionAuthenticationMiddleware' 这一行\n\n8. 课程中关于request.user.is_authenticated()中的地方要改为request.user.is_authenticated\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("h3",{attrs:{id:"二-django-开发过程的注意事项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-django-开发过程的注意事项"}},[s._v("#")]),s._v(" （二）"),a("strong",[a("code",[s._v("Django 开发过程的注意事项")])])]),s._v(" "),a("ul",[a("li",[s._v("如何删除Django中的表")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1：先在数据库中将表删除\n2：注释对应的model\n3：执行命令：\n\tpython manage.py makemigrations\n\tpython manage.py migrate --fake\n4: 去掉model注释重新创建表\n\tpython manage.py makemigrations   \n\tpython manage.py migrate\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("ul",[a("li",[s._v("Model中的 null 与blank 的区别")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1：null 如果为True,Django在数据库中会将空值(empty)存储为 NULL,默认为 False\n\n2：blank 如何为True, 字段可以为空，默认为False \n\n3：null与blank的区别在于：null是数据库的范围，而blank是用于验证。如果一个字段的 blank=True ，Django 在进行表单数据验证时，会允许该字段是空值。如果字段的 blank=False ，该字段就是必填的。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("自定义的主键")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("默认情况下，Django 会给每个 model 添加下面这个字段:\nid = models.AutoField(primary_key=True)\n这是一个自增主键字段,如果你想指定一个自定义主键字段，只要在某个字段上指定 primary_key=True 即可。如果 Django 看到你显式地设置了 Field.primary_key，就不会自动添加 id 列,每个 model 只要有一个字段指定 primary_key=True 就可以了。（可以自定义也可以保持默认自动增加的主键\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);