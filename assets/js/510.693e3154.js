(window.webpackJsonp=window.webpackJsonp||[]).push([[510],{2485:function(t,e,a){"use strict";a.r(e);var s=a(9),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h3",{attrs:{id:"一-shell与mysql的交互"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-shell与mysql的交互"}},[t._v("#")]),t._v(" 一：Shell与MySQL的交互")]),t._v(" "),a("h3",{attrs:{id:"一-语法格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-语法格式"}},[t._v("#")]),t._v(" (一)：语法格式")]),t._v(" "),a("ul",[a("li",[t._v("mysql命令行参数")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("参数意义")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-u")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("用户名")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-p")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("用户密码")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-h")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("服务器IP地址")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-D")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("连接的数据库")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-N")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("不输出列信息")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-B")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("使用tab键替代默认交互分隔符")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-e")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("执行SQL语句")])])])]),t._v(" "),a("ul",[a("li",[t._v("其他选项")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("参数意义")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-E")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("垂直输出")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-H")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("以HTML格式输出")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-X")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("以XML格式输出")])])])]),t._v(" "),a("h3",{attrs:{id:"二-示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-示例"}},[t._v("#")]),t._v(" (二)：示例")]),t._v(" "),a("ul",[a("li",[t._v("使用"),a("code",[t._v("-e")]),t._v("选项指定SQL语句")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('mysql -uroot -hlocalhost -pyhy3426356 -D mysql -e "select user,host from user;"  \n+---------------+-----------+\n| user          | host      |\n+---------------+-----------+\n| admin         | %         |\n| article       | %         |\n| dee_future    | %         |\n+---------------+-----------+\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("ul",[a("li",[t._v("使用"),a("code",[t._v("-B -N")]),t._v("选项不输出竖线分隔符（每一列以空格分隔）")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('mysql -uroot -hlocalhost -pyhy3426356 -D -N -B  mysql -e "select user,host from user;"\nuser\thost\nadmin\t%\narticle\t%\ndee_future\t%\ndevops\t%\ndjangoblog\t%\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("h3",{attrs:{id:"三-示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-示例"}},[t._v("#")]),t._v(" (三)：示例")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("从外部文件中读取数据，写入到数据库中")])]),t._v(" "),a("li",[a("p",[t._v("data.txt内容")])])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1001 Jerry 1991-12-12 male\n1002 Robby 1991-10-02 male\n1003 Toggle 1991-10-02 female\n1004 Soggle 1991-10-02 female\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("ul",[a("li",[t._v("insert.sh（这里的while read会读取每一行文本数据）")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('#!/bin/bash\n\nUSER="root"\nPASSWORD="123456"\nHOST="192.168.23.2"\n\nMYSQL_CONN="mysql -u"$USER" -h"$HOST" -p"$PASSWORD""\n\ncat data.txt | while read id name birth gender; do\n\t"$MYSQL_CONN" -e "insert into shool.student values (\'$id\', \'$name\', \'$birth\', \'$gender\')"\ndone\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("ul",[a("li",[t._v("如果data.txt文件的字段分隔符是 :，那么在脚本中直接需要设置分隔符("),a("code",[t._v("IFS是环境变量的分隔符")]),t._v(")")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('IFS=":"\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h3",{attrs:{id:"二-shell与mysql的交互"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-shell与mysql的交互"}},[t._v("#")]),t._v(" 二：Shell与MySQL的交互")]),t._v(" "),a("h3",{attrs:{id:"一-mysqldump备份数据表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-mysqldump备份数据表"}},[t._v("#")]),t._v(" (一)：mysqldump备份数据表")]),t._v(" "),a("ul",[a("li",[t._v("参数")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("参数意义")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-u")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("用户名")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-p")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("用户密码")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-h")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("服务器IP地址")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-d")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("等价于"),a("code",[t._v("--no-data")]),t._v(" 表示只导出表结构")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-t")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("等价于"),a("code",[t._v("--no-create-info")]),t._v(" 只导出数据，不导出建表语句")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-A")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("等价于"),a("code",[t._v("--all-databases")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-B")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("等价于"),a("code",[t._v("--databases")]),t._v(" 导出一个或多个数据库")])])])])])}),[],!1,null,null,null);e.default=n.exports}}]);