(window.webpackJsonp=window.webpackJsonp||[]).push([[283],{1392:function(s,n,a){s.exports=a.p+"assets/img/2020-03-151.54.56.f210a78d.png"},2476:function(s,n,a){"use strict";a.r(n);var e=a(9),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"一-tornado-web框架"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一-tornado-web框架"}},[s._v("#")]),s._v(" 一：Tornado web框架")]),s._v(" "),e("h3",{attrs:{id:"一-tornado中的web开发"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一-tornado中的web开发"}},[s._v("#")]),s._v(" (一)： tornado中的web开发")]),s._v(" "),e("ul",[e("li",[s._v("下面代码涉及的知识点有：")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1: 给路由规则设置name名称，需要使用到tornado.web.URLSpec这个类，这个路由匹配的tuple其实就是一个URLSpec实例\nfrom tornado.web import URLSpec\nURLSpec(r\"/\", MainHandler, name='index')\n\n2：给路由设置参数变量，同时让前端请求满足加/结尾或不加/结尾都可以。且给Handler的initialize方法传递参数{'name': 'Robby'}\nURLSpec(r\"/login/(?P<user_id>[0-9]+)/?\", LoginHandler, {'name': 'Robby'}, name='login')\n\n# 在get方法中，取user_id的值如下\nclass LoginHandler(RequestHandler):\n    async def get(self, *args, **kwargs):\n        user_id = kwargs.get('user_id')\n\n# initialize方法不能写成协程的方式，会报错：RuntimeWarning: coroutine 'LoginHandler.initialize' was never awaited\nclass LoginHandler(RequestHandler):\n    def initialize(self, name):\n        self.db_name = name\n\n\n3：可以使用self.reverse_url()方法跳转实现内部跳转，这里的\"login\"是路由的name，方向解析为/login/1/?\nprint(self.reverse_url(\"login\", 1))\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br")])]),e("ul",[e("li",[s._v("具体代码如下")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("from tornado.ioloop import IOLoop\nfrom tornado.web import RequestHandler, Application, URLSpec\n\n\n# 这里的RequestHandler类似于Django中的View\nclass MainHandler(RequestHandler):\n    async def get(self, *args, **kwargs):\n        # 页面跳转\n        self.redirect(self.reverse_url('login', 1))\n\n    async def post(self, *args, **kwargs):\n        pass\n\n    async def patch(self, *args, **kwargs):\n        pass\n\n    async def put(self, *args, **kwargs):\n        pass\n\n    async def delete(self, *args, **kwargs):\n        pass\n\n\nclass LoginHandler(RequestHandler):\n    # 这个方法不能定义为协程，如果定义为了协程会报错：RuntimeWarning: coroutine 'LoginHandler.initialize' was never awaited\n    def initialize(self, name):\n        self.db_name = name\n\n    async def get(self, *args, **kwargs):\n        user_id = kwargs.get('user_id')\n        # 反向解析/login/1/?\n        print(self.reverse_url(\"login\", 1))\n        self.write(\"{user_id} Login To System!\".format(user_id=user_id))\n\n\n# tornado里面的路由匹配规则是一个tuple，这个tuple其实就是一个URLSpec实例\nurls = [\n    URLSpec(r\"/\", MainHandler, name='index'),\n    # 以?结尾，那么访问的时候，可以加斜杆或不加斜杆\n    # 这里在路由匹配的时候，传递的{'name': 'Robby'}，会传递到initialize方法中\n    URLSpec(r\"/login/(?P<user_id>[0-9]+)/?\", LoginHandler, {'name': 'Robby'}, name='login'),\n]\n\n\nif __name__ == \"__main__\":\n    # 创建app，且配置路由, debug=True目的是修改了代码，服务器自动重启\n    app = Application(handlers=urls, debug=True)\n    # 监听端口\n    app.listen(8888)\n    # 启动事件循环\n    IOLoop.current().start()\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br"),e("span",{staticClass:"line-number"},[s._v("40")]),e("br"),e("span",{staticClass:"line-number"},[s._v("41")]),e("br"),e("span",{staticClass:"line-number"},[s._v("42")]),e("br"),e("span",{staticClass:"line-number"},[s._v("43")]),e("br"),e("span",{staticClass:"line-number"},[s._v("44")]),e("br"),e("span",{staticClass:"line-number"},[s._v("45")]),e("br"),e("span",{staticClass:"line-number"},[s._v("46")]),e("br"),e("span",{staticClass:"line-number"},[s._v("47")]),e("br"),e("span",{staticClass:"line-number"},[s._v("48")]),e("br"),e("span",{staticClass:"line-number"},[s._v("49")]),e("br"),e("span",{staticClass:"line-number"},[s._v("50")]),e("br"),e("span",{staticClass:"line-number"},[s._v("51")]),e("br")])]),e("h2",{attrs:{id:"二-tornado-web框架中命令行参数-配置参数的获取"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二-tornado-web框架中命令行参数-配置参数的获取"}},[s._v("#")]),s._v(" 二：Tornado web框架中命令行参数，配置参数的获取")]),s._v(" "),e("h3",{attrs:{id:"一-tornado-options包下的define-options"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一-tornado-options包下的define-options"}},[s._v("#")]),s._v(" (一)： tornado.options包下的define, options")]),s._v(" "),e("ul",[e("li",[s._v("说明")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1：define：定义一些可以在命令行或配置文件中传递的参数和类型\ndefine('port', default=8888, help='run on this port', type=int)\ndefine('debug', default=True, help='debug', type=bool)\n\n2: options：主要是获取参数\n\t①：从命令行中获取参数\n\toptions.parse_command_line()\n\t# 命令行运行tornado\n\tpython server.py --port=8080 --debug=True\n\t\n\t②：从配置文件中获取参数\n\toptions.parse_config_file('./conf.cfg')\n\t# 配置文件内容如下：\n\tport = 8002\n\tdebug = True\n\n3: 在server.py中，使用参数\napp = Application(handlers=urls, debug=options.debug)\napp.listen(options.port)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br")])]),e("ul",[e("li",[s._v("代码如下")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("from tornado.ioloop import IOLoop\nfrom tornado.web import RequestHandler, Application, URLSpec\nfrom tornado.options import define, options, parse_config_file\n\n\n# define，定义一些可以在命令行中传递的参数和类型\ndefine('port', default=8888, help='run on this port', type=int)\ndefine('debug', default=True, help='debug', type=bool)\n# 从脚本中获取参数，\n# options.parse_command_line()\noptions.parse_config_file('./conf.cfg')\n\n# 这里的RequestHandler类似于Django中的View\nclass MainHandler(RequestHandler):\n    async def get(self, *args, **kwargs):\n        # 页面跳转\n        self.redirect(self.reverse_url('login', 1))\n\n    async def post(self, *args, **kwargs):\n        pass\n\n    async def patch(self, *args, **kwargs):\n        pass\n\n    async def put(self, *args, **kwargs):\n        pass\n\n    async def delete(self, *args, **kwargs):\n        pass\n\n\nclass LoginHandler(RequestHandler):\n    # 这个方法不能定义为协程，如果定义为了协程会报错：RuntimeWarning: coroutine 'LoginHandler.initialize' was never awaited\n    def initialize(self, name):\n        self.db_name = name\n\n    async def get(self, *args, **kwargs):\n        user_id = kwargs.get('user_id')\n        # 反向解析/login/1/?\n        print(self.reverse_url(\"login\", 1))\n        self.write(\"{user_id} Login To System!\".format(user_id=user_id))\n\n\n# tornado里面的路由匹配规则是一个tuple，这个tuple其实就是一个URLSpec实例\nurls = [\n    URLSpec(r\"/\", MainHandler, name='index'),\n    # 以?结尾，那么访问的时候，可以加斜杆或不加斜杆\n    # 这里在路由匹配的时候，传递的{'name': 'Robby'}，会传递到initialize方法中\n    URLSpec(r\"/login/(?P<user_id>[0-9]+)/?\", LoginHandler, {'name': 'Robby'}, name='login'),\n]\n\n\nif __name__ == \"__main__\":\n    # 创建app，且配置路由, debug=True目的是修改了代码，服务器自动重启\n    app = Application(handlers=urls, debug=options.debug)\n    # 监听端口\n    app.listen(options.port)\n    # 启动事件循环\n    IOLoop.current().start()\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br"),e("span",{staticClass:"line-number"},[s._v("40")]),e("br"),e("span",{staticClass:"line-number"},[s._v("41")]),e("br"),e("span",{staticClass:"line-number"},[s._v("42")]),e("br"),e("span",{staticClass:"line-number"},[s._v("43")]),e("br"),e("span",{staticClass:"line-number"},[s._v("44")]),e("br"),e("span",{staticClass:"line-number"},[s._v("45")]),e("br"),e("span",{staticClass:"line-number"},[s._v("46")]),e("br"),e("span",{staticClass:"line-number"},[s._v("47")]),e("br"),e("span",{staticClass:"line-number"},[s._v("48")]),e("br"),e("span",{staticClass:"line-number"},[s._v("49")]),e("br"),e("span",{staticClass:"line-number"},[s._v("50")]),e("br"),e("span",{staticClass:"line-number"},[s._v("51")]),e("br"),e("span",{staticClass:"line-number"},[s._v("52")]),e("br"),e("span",{staticClass:"line-number"},[s._v("53")]),e("br"),e("span",{staticClass:"line-number"},[s._v("54")]),e("br"),e("span",{staticClass:"line-number"},[s._v("55")]),e("br"),e("span",{staticClass:"line-number"},[s._v("56")]),e("br"),e("span",{staticClass:"line-number"},[s._v("57")]),e("br"),e("span",{staticClass:"line-number"},[s._v("58")]),e("br"),e("span",{staticClass:"line-number"},[s._v("59")]),e("br")])]),e("h2",{attrs:{id:"三-tornado-中的requesthandler"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三-tornado-中的requesthandler"}},[s._v("#")]),s._v(" 三：Tornado 中的RequestHandler")]),s._v(" "),e("h3",{attrs:{id:"一-requesthandler中的常用方法-这些方法在处理请求的时候-会被调用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一-requesthandler中的常用方法-这些方法在处理请求的时候-会被调用"}},[s._v("#")]),s._v(" "),e("code",[s._v("(一)：RequestHandler中的常用方法")]),s._v("(这些方法在处理请求的时候，会被调用)")]),s._v(" "),e("ul",[e("li",[s._v("类实例化的初始化方法，当这个Handler类初始化的会被调用，参数db_type来自URLSpec中的kwargs")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("class MainHandler(RequestHandler):\n    def initialize(self, db_type):\n        self.db_type = db_type\n        print(db_type)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("ul",[e("li",[s._v("预处理方法和清理方法，这个两个方法会在处理请求之前和处理请求之后被调用")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("    # 处理请求之前调用的方法\n    def prepare(self):\n        pass\n\n    # 关闭句柄，清理内存\n    def on_finish(self):\n        pass\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("ul",[e("li",[s._v("Http请求方法")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("\t# get请求：http://127.0.0.1:8888/login/robby?name=robby&name=robby1\n    async def get(self, *args, **kwargs):\n        # 获取到最后一个参数的值'robby1'\n        name = self.get_query_argument('name')\n        # 获取到最后一个参数值的列表['robby', 'robby1']\n        name_list = self.get_query_arguments('name')\n        \n        # 获取这个方法获取请求的参数，在get和post都适用\n        # 获取到最后一个参数的值'robby1'\n        data1 = self.get_argument('name')\n        # 获取到最后一个参数值的列表['robby', 'robby1']\n        data2 = self.get_arguments('name')\n   \n    # result = requests.post('http://127.0.0.1:8888/login/robby', json={\"name\": \"robby\", \"age\": 20})\n    async def post(self, *args, **kwargs):\n        try:\n            # 获取json\n            params = self.request.body.decode(\"utf8\")\n            data = json.loads(params)\n            print(data)\n        except Exception as e:\n            # 设置响应码为500\n            self.set_status(500)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br")])]),e("ul",[e("li",[s._v("处理set_status这种输出方法，还有：")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("write()方法，finish()方法，redirect()方法，write_error()方法\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"四-tornado-中的requesthandler的子类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四-tornado-中的requesthandler的子类"}},[s._v("#")]),s._v(" 四：Tornado 中的RequestHandler的子类")]),s._v(" "),e("h3",{attrs:{id:"一-requesthandler的子类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一-requesthandler的子类"}},[s._v("#")]),s._v(" (一)：RequestHandler的子类")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1：RedirectHandler：永久重定向handler\n2：StaticFileHandler：静态文件handler\n3：FallbackHandler：可以在Tornado中混合使用其他HTTP服务器\n4：ErrorHandler：生成指定状态码的错误响应\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h3",{attrs:{id:"二-redirecthandler类-永久重定向"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二-redirecthandler类-永久重定向"}},[s._v("#")]),s._v(" "),e("code",[s._v("(二)：RedirectHandler类")]),s._v("(永久重定向)")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("urls = [\n    # 永久重定向，301跳转，当用户请求/的时候，永久跳转到/index\n    URLSpec(r\"/\", RedirectHandler, {'url': '/index'}),\n]\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h3",{attrs:{id:"三-staticfilehandler类-配置静态文件路由"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三-staticfilehandler类-配置静态文件路由"}},[s._v("#")]),s._v(" "),e("code",[s._v("(三)：StaticFileHandler类")]),s._v("(配置静态文件路由)")]),s._v(" "),e("ul",[e("li",[s._v("方法一")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('# 前端直接访问请求：http://127.0.0.1:8888/static3/test.png\nurls = [\n    # 配置static3的静态文件\n    URLSpec(r"/static3/(.*)", StaticFileHandler, {"path": "/Users/yinhuanyi/Python_Project/tornado_project"}),\n]\n\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("ul",[e("li",[s._v("方法二")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('也可以在Application中配置settings，指定静态文件\nsettings = {\n    "static_path": "/Users/yinhuanyi/Python_Project/tornado_project",\n    "static_url_prefix": \'/static2/\'\n}\n\nif __name__ == "__main__":\n    # settings用来配置应用\n    app = Application(handlers=urls, debug=True, **settings)\n    app.listen(8888)\n    IOLoop.current().start()\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("h3",{attrs:{id:"四-fallbackhandler类-以后补充"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四-fallbackhandler类-以后补充"}},[s._v("#")]),s._v(" "),e("code",[s._v("(四)：FallbackHandler类")]),s._v("(以后补充)")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"五-errorhandler类-以后补充"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#五-errorhandler类-以后补充"}},[s._v("#")]),s._v(" "),e("code",[s._v("(五)：ErrorHandler类")]),s._v("(以后补充)")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"五-tornado-中的template模板"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#五-tornado-中的template模板"}},[s._v("#")]),s._v(" 五：Tornado 中的template模板")]),s._v(" "),e("h3",{attrs:{id:"一-tornado模板的使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一-tornado模板的使用"}},[s._v("#")]),s._v(" (一)：tornado模板的使用")]),s._v(" "),e("p",[e("img",{attrs:{src:a(1392),alt:"Alt text"}})]),s._v(" "),e("ul",[e("li",[s._v("请求处理代码")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("class IndexHandler(RequestHandler):\n    async def get(self, *args, **kwargs):\n\t    # 这里是将msg变量传递到模板中\n        self.render('index.html', msg='你好')\n        # self.render_string()\n\n# 如果项目中template是放在项目的根目录下，那么需要在settings配置中指定template目录的路径\nsettings = {\n    \"template_path\": \"template\"\n}\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("ul",[e("li",[s._v("index.html代码")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <title>Title</title>\n</head>\n<body>\n  <div style="color: green">\n    {{ msg }}\n  </div>\n</body>\n</html>\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("h3",{attrs:{id:"二-tornado模板内部配置和常用功能"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二-tornado模板内部配置和常用功能"}},[s._v("#")]),s._v(" (二)：tornado模板内部配置和常用功能")]),s._v(" "),e("ul",[e("li",[s._v("Tornador的template静态文件的映射使用static_url函数，函数代表settings中配置的"),e("code",[s._v("\"static_url_prefix\": '/static/'")])])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('<link type="text/css" rel="stylesheet" href="{{ static_url(\'css/public.css\') }}">\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("在settings中的配置")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("\"static_url_prefix\": '/static/',\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);