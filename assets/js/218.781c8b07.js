(window.webpackJsonp=window.webpackJsonp||[]).push([[218],{1797:function(s,n,a){s.exports=a.p+"assets/img/2021-12-3117.07.04.017d40d5.png"},1798:function(s,n,a){s.exports=a.p+"assets/img/2021-12-3117.08.09.132dbb03.png"},2704:function(s,n,a){"use strict";a.r(n);var t=a(9),e=Object(t.a)({},(function(){var s=this,n=s.$createElement,t=s._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"一-rabbitmq-基于erlang语言研发"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一-rabbitmq-基于erlang语言研发"}},[s._v("#")]),s._v(" 一：RabbitMQ 基于erlang语言研发")]),s._v(" "),t("h3",{attrs:{id:"一-rabbit-mq-简要介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一-rabbit-mq-简要介绍"}},[s._v("#")]),s._v(" （一）Rabbit MQ 简要介绍")]),s._v(" "),t("ul",[t("li",[s._v("RabbitMQ 安装，配置")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("：安装\nyum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y rabbitmq-server\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("：主要程序介绍\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 管理插件的程序")]),s._v("\n/usr/sbin/rabbitmq-plugins\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务程序")]),s._v("\n/usr/sbin/rabbitmq-server\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 命令行接口程序")]),s._v("\n/usr/sbin/rabbitmqctl\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("：获取插件程序的帮助\nrabbitmq-plugins --help\n    list "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-v"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-m"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-E"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("pattern"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("plugin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n    disable "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("plugin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("：查看可用的插件，E表示：启动的插件，e表示：被依赖启动的插件\nrabbitmq-plugins list\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" amqp_client                       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),s._v(".5\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" cowboy                            "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.5")]),s._v(".0-rmq3.3.5-git4b93c2d\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" eldap                             "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),s._v(".5-gite309de4\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" mochiweb                          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.7")]),s._v(".0-rmq3.3.5-git680dba8\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" rabbitmq_amqp1_0                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),s._v(".5\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" rabbitmq_auth_backend_ldap        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),s._v(".5\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" rabbitmq_auth_mechanism_ssl       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),s._v(".5\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" rabbitmq_consistent_hash_exchange "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),s._v(".5\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" rabbitmq_federation               "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),s._v(".5\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" rabbitmq_federation_management    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),s._v(".5\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("E"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" rabbitmq_management               "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),s._v(".5\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" rabbitmq_management_agent         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),s._v(".5\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" rabbitmq_management_visualiser    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),s._v(".5\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" rabbitmq_mqtt                     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),s._v(".5\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" rabbitmq_shovel                   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),s._v(".5\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" rabbitmq_shovel_management        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),s._v(".5\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" rabbitmq_stomp                    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),s._v(".5\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" rabbitmq_test                     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),s._v(".5\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" rabbitmq_tracing                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),s._v(".5\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" rabbitmq_web_dispatch             "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),s._v(".5\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" rabbitmq_web_stomp                "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),s._v(".5\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" rabbitmq_web_stomp_examples       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),s._v(".5\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" sockjs                            "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v(".4-rmq3.3.5-git3132eb9\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" webmachine                        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.10")]),s._v(".3-rmq3.3.5-gite9359c7\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("：启用管理插件\nrabbitmq-plugins "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" rabbitmq_management\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("：启用了新插件，需要重启服务，但是在现在服务没有启动，因此直接启动\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置/etc/hosts文件，添加解析地址")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".23.10  rabbitmq\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动服务")]),s._v("\nsystemctl start rabbitmq-server\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("：查看服务监听的端口\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rabbitmq监听的端口")]),s._v("\n:::5672                 :::*                    LISTEN      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3989")]),s._v("/beam.smp\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rabbitmq_management监听的端口")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:15672           "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3989")]),s._v("/beam.smp\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rabbitmq 集群监听的端口")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:25672           "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3989")]),s._v("/beam.smp\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("：访问rabbitmq，用户名和密码都是guest\nhttp://192.168.23.10:15672\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("：通过这个web接口，可以实现对rabbitmq的管理\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br")])]),t("ul",[t("li",[s._v("虚拟主机介绍")])]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("虚拟主机功用：\n    隔离rabbitmq的各个组件\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ul",[t("li",[s._v("RabbitMQ 对外提供的配置接口介绍")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("：默认的引导文件，可以指日志文件，主配置文件等路径\n/usr/lib/rabbitmq_server-3.3.5/sbin/rabbitmq-defaults\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定主配置文件")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CONFIG_FILE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SYS_PREFIX}")]),s._v("/etc/rabbitmq/rabbitmq\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定日志文件")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LOG_BASE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SYS_PREFIX}")]),s._v("/var/log/rabbitmq\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定mnesia配置")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MNESIA_BASE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SYS_PREFIX}")]),s._v("/var/lib/rabbitmq/mnesia\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定插件配置文件")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ENABLED_PLUGINS_FILE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SYS_PREFIX}")]),s._v("/etc/rabbitmq/enabled_plugins\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定插件存放路径")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PLUGINS_DIR")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${RABBITMQ_HOME}")]),s._v('/plugins"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定环境变量配置文件")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CONF_ENV_FILE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${SYS_PREFIX}")]),s._v("/etc/rabbitmq/rabbitmq-env.conf\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("：主配置文件/etc/rabbitmq/rabbitmq.config\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("ul",[t("li",[s._v("rabbitmqctl 的常用命令")])]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('# 查看服务器的状态\nrabbitmqctl status\n\n# 查看环境变量\nrabbitmqctl  environment\n\n# 停止rabbitmq的应用\nrabbitmqctl stop_app\n\n# 启动rabbitmq的应用\nrabbitmqctl start_app\n\n# 添加用户\nrabbitmqctl add_user &lt;username> &lt;password>\nrabbitmqctl add_user uplooking 123456\n\n# 列出所有的用户\nrabbitmqctl list_users\n\n# 将用户设置为管理员用户\nrabbitmqctl set_user_tags uplooking administrator\n\n\n# 查看虚拟主机\nrabbitmqctl list_vhosts\n\n# 添加虚拟主机\nrabbitmqctl add_vhost /uplooking\nrabbitmqctl add_vhost /uplooking/ops\nrabbitmqctl add_vhost /uplooking/java\n\n# 删除虚拟主机\nrabbitmqctl delete_vhost /uplooking/java\n\n# 查看默认虚拟主机的权限\nrabbitmqctl list_permissions\n\n# 设置用户的权限，.* 表示分别对 组件的配置文件、读权限、写权限\nrabbitmqctl set_permissions -p /uplooking uplooking ".*" ".*" ".*"\n\n# 查看虚拟主机的权限\nrabbitmqctl list_permissions -p /uplooking\n\n# 组件查看\nrabbitmqctl list_queues -p /uplooking\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br")])]),t("h3",{attrs:{id:"二-haproxy-rabbit-集群-简要介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二-haproxy-rabbit-集群-简要介绍"}},[s._v("#")]),s._v(" （二）Haproxy + Rabbit 集群 简要介绍")]),s._v(" "),t("p",[t("img",{attrs:{src:a(1797),alt:"集群"}})]),s._v(" "),t("ul",[t("li",[s._v("准备两台主机（192.168.23.10--rabbitmq1，192.168.23.11--rabbitmq2）")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 两台主机都安装上rabbitMQ")]),s._v("\nyum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y rabbitmq-server\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 两台主机都配置/etc/hosts文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".23.10  rabbitmq1\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".23.11  rabbitmq2\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 两台主机都以集群的方式启动rabbitmq-server")]),s._v("\nrabbitmq-server -detached\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 此时查看 rabbitmqctl cluster_status ，会发现：两台主机在各自的集群上")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 因此，将rabbitmq1加入rabbitmq2的集群中，返过来也可以。先将rabbitmq1的服务停止，再加入到rabbitmq2的集群中，但是node2需要先将cookie文件拷贝到node1。如果碰到问题，需要将node2的rabbitmq进程kill掉，在启动rabbitmq-server服务")]),s._v("\nrabbitmqctl stop_app（在node1上执行）\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" /var/lib/rabbitmq/.erlang.cookie "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".23.10:/var/lib/rabbitmq/.erlang.cookie（在node2上执行）\nrabbitmqctl join_cluster "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rabbit@rabbitmq2"')]),s._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--ram"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("（在node1上执行, --ram表示是否为内存节点，如果不加为磁盘disc节点）\n\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 再次启动rabbitmq1")]),s._v("\nrabbitmqctl start_app\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 再次查看rabbitmq1的集群状态，会发现此时rabbitmq1的集群的集群名称为："rabbit@rabbitmq2"')]),s._v("\nrabbitmqctl cluster_status\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 返回web接口")]),s._v("\nhttp://192.168.23.10:15672\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 但是此时可能无法查看到rabbitmq2节点的信息，因为rabbitmq2没有启用rabbitmq_management插件，因此启用插件，在重启服务")]),s._v("\nrabbitmq-plugins "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" rabbitmq_management\nsystemctl restart rabbitmq-server\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 确保每一个节点的15672、25672、5672端口都是监听的")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" -lntup\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 此时这两个节点都是disc节点，可以修改为ram节点, 将rabbitmq2改为ram节点")]),s._v("\nrabbitmqctl stop_app\nrabbitmqctl change_cluster_node_type "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ram")]),s._v("\nrabbitmqctl start_app\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 再次查看集群状态，发现rabbitmq1已经为ram节点")]),s._v("\nrabbitmqctl cluster_status\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br")])]),t("p",[t("img",{attrs:{src:a(1798),alt:"rabbitmq"}})]),s._v(" "),t("ul",[t("li",[s._v("设置RabbitMQ镜像功能")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在rabbitmq2上创建队列镜像，镜像需要指定策略，策略是用来控制和修改群集范围的队列行为和Exchange行为的")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建了一个名为ha-allqueue策略,“^” 表示所有匹配所有队列名称,策略模式ha-mode为 all 即复制到所有节点，包含新增节点。")]),s._v("\nrabbitmqctl set_policy ha-allqueue "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'{"ha-mode":"all"}\'')]),s._v(" \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("ul",[t("li",[s._v("搭建haproxy服务器，实现TCP层调度（haproxy：192.168.23.12）")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在添加一条主机节点安装haproxy")]),s._v("\nyum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y haproxy\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改配置文件/etc/haproxy/haproxy.cfg")]),s._v("\nglobal\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定日志记录路径，这个local2是需要在/etc/rsyslog.conf文件中指定的，指定了日志存储路径之后，需要重启rsyslog服务哦")]),s._v("\n    log         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1 local2\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定haproxy的运行环境")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chroot")]),s._v("      /var/lib/haproxy\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定进程的pid")]),s._v("\n    pidfile     /var/run/haproxy.pid\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定单个进程的最大并发连接数")]),s._v("\n    maxconn     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4000")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定允许haproxy的用户")]),s._v("\n    user        haproxy\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定允许haproxy的组")]),s._v("\n    group       haproxy\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定haproxy以守护进程模式运行")]),s._v("\n    daemon\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置后台运行2个haproxy进程，但是后台运行了3个进程")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nbproc 2")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定Unix socket通信（基本没用过）")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# stats socket /var/lib/haproxy/stats")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这里是默认的选项,如何在listen段,backend段,frontend段中将这些选项按需求重新制定")]),s._v("\ndefaults\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定默认的模式")]),s._v("\n    mode                    http\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定日志信息使用全局指定的日志存储路径，全局日志是存储在rsyslog服务中")]),s._v("\n    log                     global\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将log日志记录到rsyslog日志服务器中，指定日志级别为notice级别")]),s._v("\n    log   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".23.10  local12 notice\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 日志格式可以不指定，有其默认的值")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#log-format  %T\\ %t\\ Some\\ Text  ")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定压缩类型")]),s._v("\n    compression algo "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("gzip")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定需要压缩的资源类型")]),s._v("\n    compression "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" text/html text/plain\n    option                  httplog\n    option                  dontlognull\n    option http-server-close\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在后端服务器中可以记录客户端的源IP地址，在日志中加上%{X-Forwarded-For}i")]),s._v("\n    option forwardfor       except "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1/8\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果后端服务器不提供服务，那么将会重新di")]),s._v("\n    option                  redispatch\n    retries                 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("timeout")]),s._v(" http-request    10s\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("timeout")]),s._v(" queue           1m\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("timeout")]),s._v(" connect         10s\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("timeout")]),s._v(" client          1m\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("timeout")]),s._v(" server          1m\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("timeout")]),s._v(" http-keep-alive 10s\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("timeout")]),s._v(" check           10s\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定接受10000个并发")]),s._v("\n    maxconn                 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# haproxy统计页面配置段")]),s._v("\nlisten stats \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定统计页面监听的端口")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("bind")]),s._v(" *:33559\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定统计页面运行的模式")]),s._v("\n    mode http\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定开启统计页面功能")]),s._v("\n    stats "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v("  \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果不设置URI,默认是/haproxy?stats")]),s._v("\n    stats uri /admin  \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定登入是提示信息，\\表示转义空白字符")]),s._v("\n    stats realm HAProxy"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v(" statistics\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定用户名和密码")]),s._v("\n    stats auth uplooking:123456  \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定统计页面自动刷新的时长")]),s._v("\n    stats refresh "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果用户认证成功，统计页面可以被访问")]),s._v("\n    stats admin "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" TRUE \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#隐藏统计页面上HAProxy的版本信息")]),s._v("\n    stats hide-version\n\nlisten rabbitmq_cluster \n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("bind")]),s._v(" *:5672\n    option tcplog\n    mode tcp\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("timeout")]),s._v(" client  3h\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("timeout")]),s._v(" server  3h\n    balance roundrobin\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# inter 2000 是健康状态检测的时间间隔，rise 2：2次请求成功认为服务器可用，fall 3：3次请求不成功认为服务器不可用")]),s._v("\n    server   mq1 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".23.10:5672 check inter 5s rise "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" fall "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("   \n    server   mq2 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".23.11:5672 check inter 5s rise "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" fall "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("：检测配置文件\nhaproxy -c -f /etc/haproxy/haproxy.cfg\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("：登入haproxy的管理界面查看是否rabbitmq集群开始工作了\nhttp://192.168.23.12:33559/admin\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br"),t("span",{staticClass:"line-number"},[s._v("69")]),t("br"),t("span",{staticClass:"line-number"},[s._v("70")]),t("br"),t("span",{staticClass:"line-number"},[s._v("71")]),t("br"),t("span",{staticClass:"line-number"},[s._v("72")]),t("br"),t("span",{staticClass:"line-number"},[s._v("73")]),t("br"),t("span",{staticClass:"line-number"},[s._v("74")]),t("br"),t("span",{staticClass:"line-number"},[s._v("75")]),t("br"),t("span",{staticClass:"line-number"},[s._v("76")]),t("br"),t("span",{staticClass:"line-number"},[s._v("77")]),t("br"),t("span",{staticClass:"line-number"},[s._v("78")]),t("br"),t("span",{staticClass:"line-number"},[s._v("79")]),t("br"),t("span",{staticClass:"line-number"},[s._v("80")]),t("br"),t("span",{staticClass:"line-number"},[s._v("81")]),t("br"),t("span",{staticClass:"line-number"},[s._v("82")]),t("br"),t("span",{staticClass:"line-number"},[s._v("83")]),t("br"),t("span",{staticClass:"line-number"},[s._v("84")]),t("br"),t("span",{staticClass:"line-number"},[s._v("85")]),t("br"),t("span",{staticClass:"line-number"},[s._v("86")]),t("br"),t("span",{staticClass:"line-number"},[s._v("87")]),t("br"),t("span",{staticClass:"line-number"},[s._v("88")]),t("br"),t("span",{staticClass:"line-number"},[s._v("89")]),t("br"),t("span",{staticClass:"line-number"},[s._v("90")]),t("br"),t("span",{staticClass:"line-number"},[s._v("91")]),t("br"),t("span",{staticClass:"line-number"},[s._v("92")]),t("br"),t("span",{staticClass:"line-number"},[s._v("93")]),t("br"),t("span",{staticClass:"line-number"},[s._v("94")]),t("br"),t("span",{staticClass:"line-number"},[s._v("95")]),t("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);