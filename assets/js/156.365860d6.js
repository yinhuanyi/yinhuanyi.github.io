(window.webpackJsonp=window.webpackJsonp||[]).push([[156],{1398:function(s,n,e){s.exports=e.p+"assets/img/2021-11-152.31.08.ef753d73.png"},1399:function(s,n,e){s.exports=e.p+"assets/img/2021-11-154.38.36.9c9728dc.png"},1400:function(s,n,e){s.exports=e.p+"assets/img/2021-11-165.58.16.731a9f5a.png"},2497:function(s,n,e){"use strict";e.r(n);var a=e(9),t=Object(a.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"一-vue-element-admin项目用户登录逻辑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-vue-element-admin项目用户登录逻辑"}},[s._v("#")]),s._v(" 一：Vue-element-admin项目用户登录逻辑")]),s._v(" "),a("h3",{attrs:{id:"一-用户登录逻辑流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-用户登录逻辑流程"}},[s._v("#")]),s._v(" （一）用户登录逻辑流程")]),s._v(" "),a("ul",[a("li",[s._v("用户访问所有的登录逻辑流程如下，这个逻辑其实是一个"),a("code",[s._v("用户鉴权逻辑")]),s._v("，所有的逻辑代码是写在了"),a("code",[s._v("permission.js")]),s._v("文件中，可以认为这是一个前端中间件")])]),s._v(" "),a("p",[a("img",{attrs:{src:e(1398),alt:"Alt text"}})]),s._v(" "),a("ul",[a("li",[a("code",[s._v("permission.js")]),s._v("文件代码：代码中判断用户的权限需要调用Vuex的方法")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import router from './router'\nimport store from './store'\n\n// 由于无法获取到Vue的实例，因此只能这样局部导入这个函数对象\nimport { Message } from 'element-ui'\n\n// 导入NProgress插件和样式\nimport NProgress from 'nprogress'\nimport 'nprogress/nprogress.css'\n\n// 从export function getToken 导入函数\nimport { getToken } from '@/utils/auth'\n// 从export default function getPageTitle 导入函数\nimport getPageTitle from '@/utils/get-page-title'\n\n// 关闭NProgress插件的旋转小圆环\nNProgress.configure({ showSpinner: false })\n\n// 定义路由白名单，这些白名单中的路由路径不需要进行鉴权，直接可以访问\nconst whiteList = ['/login', '/auth-redirect']\n\n// 路由守卫，所有的请求将会进入到这里\n// Todo: 为什么这里使用async关键字修饰函数呢？\nrouter.beforeEach(async(to, from, next) => {\n  debugger\n  // 这里使用了NProgress插件，显示网页的打开进度条\n  NProgress.start()\n  // 获取页面名称，并且赋值给页面的title\n  document.title = getPageTitle(to.meta.title)\n  // 获取cookie中Admin-Token对应的token\n  const hasToken = getToken()\n  // 判断是否有token\n  if (hasToken) {\n    // 如果token存在，且路由路径是/login，跳转到/\n    if (to.path === '/login') {\n\n      next({ path: '/' })\n      // 当前请求结束，必须设置NProgress为done，让进度条充满屏幕\n      NProgress.done()\n    } else {\n      // 如果路由路径不是login\n      // 从Vuex中获取角色\n      const hasRoles = store.getters.roles && store.getters.roles.length > 0\n      // 如果角色存在，放行\n      if (hasRoles) {\n        next()\n      } else {\n        // 如果角色不存在，\n        try {\n          // 触发store中 user/getInfo方法获取角色\n          const { roles } = await store.dispatch('user/getInfo')\n\n          // 触发store中 permission/generateRoutes方法获取动态路由配置\n          const accessRoutes = await store.dispatch('permission/generateRoutes', roles)\n\n          // 将动态路由配置，添加到router实例中\n          router.addRoutes(accessRoutes)\n\n          // 由于获取到角色，添加动态路由配置后，再让浏览器重新访问一次，并且replace:true，让浏览器history不记录这一条访问记录\n          next({ ...to, replace: true })\n\n        } catch (error) {\n\n          // 如果在获取角色过程中，出现异常，清除Vuex中的token\n          await store.dispatch('user/resetToken')\n          // 显示报错信息\n          Message.error(error || 'Has Error')\n          // 调整到登录页面\n          next(`/login?redirect=${to.path}`)\n          // 当前请求结束，必须设置NProgress为done，让进度条充满屏幕\n          NProgress.done()\n        }\n      }\n    }\n\n  // 如果token不存在\n  } else {\n    // 如果访问的页面在白名单中，直接放行\n    if (whiteList.indexOf(to.path) !== -1) {\n      next()\n    // 如果不在白名单中\n    } else {\n      // 修改路由路径，跳转到登录页面，且将之前路径作为redirect的参数\n      next(`/login?redirect=${to.path}`)\n      // 当前请求结束，必须设置NProgress为done，让进度条充满屏幕\n      NProgress.done()\n    }\n  }\n})\n\n// 每一次请求完毕后，再次调用一下NProgress的done方法，让进度条显示完毕\nrouter.afterEach(() => {\n  NProgress.done()\n})\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br")])]),a("h3",{attrs:{id:"二-权限判断过程中-动态路由的添加逻辑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-权限判断过程中-动态路由的添加逻辑"}},[s._v("#")]),s._v(" （二）权限判断过程中，动态路由的添加逻辑")]),s._v(" "),a("ul",[a("li",[s._v("在vue-element-admin中，是通过动态路由实现的权限控制")])]),s._v(" "),a("p",[a("img",{attrs:{src:e(1399),alt:"Alt text"}})]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1：首先判断是否是admin角色，如果是那么直接将asyncRoutes保存到Vuex中，且合并asyncRoutes和constantRoutes，让侧边栏显示\n\n2：如果不是admin角色，遍历所有路由配置，判断是否有权限，如果有权限，将其保存到res配置中，写入到Vuex中，然后合并asyncRoutes和constantRoutes，让侧边栏显示\n\n3：侧边栏显示的路由是asyncRoutes中配置的路由，但是不同用户登录之后，会判断用户的role，如果asyncRoutes中配置的路由包含用户的role，那么就显示，否则不显示\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"二-动态路由实现功能权限源码解读-未完成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-动态路由实现功能权限源码解读-未完成"}},[s._v("#")]),s._v(" 二：动态路由实现功能权限源码解读(未完成)")]),s._v(" "),a("h3",{attrs:{id:"一-动态路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-动态路由"}},[s._v("#")]),s._v(" （一）动态路由")]),s._v(" "),a("ul",[a("li",[s._v("未完成")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"三-layout组件解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-layout组件解析"}},[s._v("#")]),s._v(" 三：Layout组件解析")]),s._v(" "),a("h3",{attrs:{id:"一-路由配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-路由配置"}},[s._v("#")]),s._v(" （一）路由配置")]),s._v(" "),a("ul",[a("li",[s._v("当每一个请求经过了permission.js的路由守卫之后，此时就需要渲染视图，当用户访问"),a("code",[s._v("/")]),s._v("，会重定向到"),a("code",[s._v("/dashboard")]),s._v("，那么先会渲染Layout布局组件，再渲染"),a("code",[s._v("/dashboard")]),s._v("组件(layout组件)的内容。Layout组件中，分为两块，侧边栏和右边内容，右边内容分为面包屑和标签、自定义组件内容、设置面板")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<template>\n  \n  <div :class="classObj" class="app-wrapper">\n    \x3c!-- 这里是判断，如果访问设备是mobile，且打开了sidebar，显示这个遮罩层 --\x3e\n    <div v-if="device===\'mobile\'&&sidebar.opened" class="drawer-bg" @click="handleClickOutside" />\n    \x3c!--  侧边栏  --\x3e\n    <sidebar class="sidebar-container" />\n    \x3c!-- 右边栏 --\x3e\n    <div :class="{hasTagsView:needTagsView}" class="main-container">\n      \x3c!-- 1：导航和标签 --\x3e\n      <div :class="{\'fixed-header\':fixedHeader}">\n        \x3c!-- 1.1：面包屑 --\x3e\n        <navbar />\n        \x3c!-- 1.2：菜单tag --\x3e\n        <tags-view v-if="needTagsView" />\n      </div>\n      \x3c!-- 2：内容--\x3e\n      <app-main />\n      \x3c!-- 3：设置面板 --\x3e\n      <right-panel v-if="showSettings">\n        <settings />\n      </right-panel>\n    </div>\n\n  </div>\n\n</template>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br")])]),a("h2",{attrs:{id:"四-sidebar组件源码解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四-sidebar组件源码解析"}},[s._v("#")]),s._v(" 四：Sidebar组件源码解析")]),s._v(" "),a("h3",{attrs:{id:"一-el-menu用法解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-el-menu用法解析"}},[s._v("#")]),s._v(" （一）el-menu用法解析")]),s._v(" "),a("ul",[a("li",[s._v("el-menu相关属性说明")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<el-menu\n  default-active="1-1"  // 默认选择的菜单栏的index\n  background-color="#545c64" // 背景颜色\n  text-color="#fff"          // 文字颜色\n  active-text-color="#ffd04b"// 菜单激活文字颜色\n  mode="vertical"            // 菜单排列的模式\n  unique-opened              // 是不是只能同时打开一个菜单\n  :collapse="isCollapse"     // 是否折叠\n  :collapse-transition="false" // 是否需要有动画\n  class="el-menu-vertical-demo" // 导航栏类型\n  @open="handleOpen"\n  @close="handleClose"\n  @select="handleSelect"\n>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("ul",[a("li",[s._v("可以通过官方例子来验证el-menu的attribute")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<template>\n  <el-row class="tac">\n    \x3c!--  导航正文部分  --\x3e\n    <el-col :span="12">\n      <el-menu\n        default-active="1-1"\n        background-color="#545c64"\n        text-color="#fff"\n        active-text-color="#ffd04b"\n        mode="vertical"\n        :unique-opened="false"\n        :collapse="isCollapse"\n        :collapse-transition="false"\n        class="el-menu-vertical-demo"\n        @open="handleOpen"\n        @close="handleClose"\n        @select="handleSelect"\n      >\n\n        \x3c!-- 导航一有title，有两个子菜单组 --\x3e\n        <el-submenu index="1">\n          <template slot="title">\n            <i class="el-icon-location"></i>\n            <span>导航一</span>\n          </template>\n\n          <el-menu-item-group>\n            <template slot="title">分组一</template>\n            <el-menu-item index="1-1">选项1</el-menu-item>\n            <el-menu-item index="1-2">选项2</el-menu-item>\n          </el-menu-item-group>\n\n          <el-menu-item-group title="分组2">\n            <el-menu-item index="1-3">选项3</el-menu-item>\n          </el-menu-item-group>\n        </el-submenu>\n\n        \x3c!-- 导航二有title，有一个子菜单 --\x3e\n        <el-submenu index="2">\n          <template slot="title">\n            <i class="el-icon-menu"></i>\n            <span slot="title">导航二</span>\n          </template>\n          \x3c!--   可以只有一个菜单栏    --\x3e\n          <el-menu-item index="2-1">选项2-1</el-menu-item>\n        </el-submenu>\n\n        \x3c!-- 导航三没有title,有一个子菜单 --\x3e\n        <el-menu-item index="3">\n          <i class="el-icon-document"></i>\n          <span slot="title">导航三</span>\n        </el-menu-item>\n\n        \x3c!-- 导航四也没有title,有一个子菜单 --\x3e\n        <el-menu-item index="4">\n          <i class="el-icon-setting"></i>\n          <span slot="title">导航四</span>\n        </el-menu-item>\n\n      </el-menu>\n    </el-col>\n    \n    \x3c!--  折叠按钮  --\x3e\n    <el-col>\n      <el-button @click="isCollapse = !isCollapse">折叠</el-button>\n    </el-col>\n\n  </el-row>\n</template>\n\n<script>\nexport default {\n  name: \'Create\',\n  data: function() {\n    return {\n      isCollapse: false\n    }\n  },\n  methods: {\n    handleSelect: function(key, keyPath) {\n      console.log(\'handleSelect\', key, keyPath)\n    },\n    handleOpen: function(key, keyPath) {\n      console.log(\'handleOpen\', key, keyPath)\n    },\n    handleClose: function(key, keyPath) {\n      console.log(\'handleClose\', key, keyPath)\n    }\n  }\n}\n<\/script>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br")])]),a("ul",[a("li",[s._v("展示的效果如下")])]),s._v(" "),a("p",[a("img",{attrs:{src:e(1400),alt:"Alt text"}})]),s._v(" "),a("h3",{attrs:{id:"二-sidebar组件源码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-sidebar组件源码"}},[s._v("#")]),s._v(" （二）Sidebar组件源码")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("侧边栏的核心是将根据权限过滤后的 router 和 el-menu 组件进行映射，实现角色->功能权限映射")])]),s._v(" "),a("li",[a("p",[s._v("下面是在Sidebar组件中引入的"),a("code",[s._v("el-menu组件")]),s._v("，代码中最核心的是"),a("code",[s._v("sidebar-item子组件")]),s._v("，能够在"),a("code",[s._v("sidebar-item子组件")]),s._v("中展示的路由来自于Vuex的permission_routes")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<template>\n  <div :class="{\'has-logo\':showLogo}">\n\n    \x3c!--  用来控制导航的logo显示和隐藏  --\x3e\n    <logo v-if="showLogo" :collapse="isCollapse" />\n    \x3c!--  导航栏外面有个滚动组件，当菜单越来越多，就会出现滚动条  --\x3e\n    <el-scrollbar wrap-class="scrollbar-wrapper">\n      <el-menu\n        :default-active="activeMenu" // 控制哪个菜单被选中\n        :collapse="isCollapse"\n        :background-color="variables.menuBg"\n        :text-color="variables.menuText"\n        :unique-opened="false"\n        :active-text-color="variables.menuActiveText"\n        :collapse-transition="false"\n        mode="vertical"\n      >\n        \x3c!--菜单子组件--\x3e\n        <sidebar-item v-for="route in permission_routes" :key="route.path" :item="route" :base-path="route.path" />\n      </el-menu>\n    </el-scrollbar>\n\n  </div>\n</template>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("h3",{attrs:{id:"三-sidebar-item源码分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-sidebar-item源码分析"}},[s._v("#")]),s._v(" （三）sidebar-item源码分析")]),s._v(" "),a("ul",[a("li",[s._v("每一个从permission_routes中获取的路由，都需要进行多个条件判断，才能判断是否能够在侧边栏显示。显示的组件分为两种，一种是路由中有多个children，且children下可能还有children的情况，第二组是路由没有children或只有一个children。两种显示方法不一样")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<template>\n\n  \x3c!-- 如果item.hidden为true, 那么这个菜单就不会展示，item属性是$route，在router/index.js --\x3e\n  <div v-if="!item.hidden">\n    \x3c!-- 下面是判断只展示子路由到侧边栏，只显示template  --\x3e\n    \x3c!--  下面的template和el-submenu是互斥的，只能显示一个  --\x3e\n    \x3c!--  v-if的条件判断：hasOneShowingChild\n            1：如果路由配置没有children和redirect：那么将当前路由配置作为一个el-menu-item显示\n            2：如果路由配置只有一个children：那么将当前children路由配置作为一个el-menu-item显示\n            3：如果路由配置有多个children：那么将当前多个children路由配置作为多个el-menu-item显示\n    --\x3e\n    \x3c!--  !onlyOneChild.children||onlyOneChild.noShowingChildren：如果子路由没有children返回 true  --\x3e\n    \x3c!-- item.alwaysShow 如果路由配置了alwaysShow 返回false --\x3e\n    <template v-if="hasOneShowingChild(item.children,item) && (!onlyOneChild.children||onlyOneChild.noShowingChildren)&&!item.alwaysShow">\n      \x3c!-- app-link是在子路由有meta的时候进行展示， 如果子路由路径是a链接，那么显示a标签，如果不是显示router-link组件  --\x3e\n      <app-link v-if="onlyOneChild.meta" :to="resolvePath(onlyOneChild.path)">\n        \x3c!--这是每一个菜单--\x3e\n        <el-menu-item :index="resolvePath(onlyOneChild.path)" :class="{\'submenu-title-noDropdown\':!isNest}">\n          <item :icon="onlyOneChild.meta.icon||(item.meta&&item.meta.icon)" :title="onlyOneChild.meta.title" />\n        </el-menu-item>\n      </app-link>\n    </template>\n\n    \x3c!-- 下面是既展示路由也展示子路由到侧边栏，显示el-submenu   --\x3e\n    <el-submenu v-else ref="subMenu" :index="resolvePath(item.path)" popper-append-to-body>\n      <template slot="title">\n        <item v-if="item.meta" :icon="item.meta && item.meta.icon" :title="item.meta.title" />\n      </template>\n      \x3c!-- 这里又调用了自己 --\x3e\n      <sidebar-item\n        v-for="child in item.children"\n        :key="child.path"\n        :is-nest="true"\n        :item="child"\n        :base-path="resolvePath(child.path)"\n        class="nest-menu"\n      />\n    </el-submenu>\n\n  </div>\n\n</template>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br")])]),a("h3",{attrs:{id:"四-在scss中定义样式变量-然后导出"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四-在scss中定义样式变量-然后导出"}},[s._v("#")]),s._v(" （四）在scss中定义样式变量，然后导出")]),s._v(" "),a("ul",[a("li",[s._v("template 中需要动态定义样式，通常做法：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<template>\n  <div :style=\"{ color: textColor }\">Text</div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      textColor: '#ff5000'\n    }\n  }\n}\n<\/script>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("ul",[a("li",[s._v("还有一种比较好的做法是在scss文件中直接定义【样式变量】")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("$menuActiveText:#409EFF;\n\n:export {\n  menuActiveText: $menuActiveText;\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("在js中使用到可以直接导入【样式变量】，然后使用")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<template>\n  \x3c!-- 在HTML中使用 --\x3e\n  <div :style=\"{ color: styles.menuActiveText }\">Text</div>\n</template>\n\n<script>\n// 导入【样式变量】\nimport styles from '@/styles/variables.scss'\n\nexport default {\n  computed: {\n    // 封装为计算属性\n    styles() {\n      return styles\n    }\n  }\n}\n<\/script>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("h3",{attrs:{id:"五-类型转换"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五-类型转换"}},[s._v("#")]),s._v(" （五）类型转换")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("在Vuex中有个state，"),a("code",[s._v("Cookies.get('sidebarStatus') ? !!+Cookies.get('sidebarStatus') : true")]),s._v("这个三目运算符使用了类型转换的"),a("code",[s._v("混写方法")])])]),s._v(" "),a("li",[a("p",[s._v("字符串转换为Number数值类型")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var a = '1'\n\nconsole.log(typeof a)\nconsole.log(typeof Number(a)) // 普通写法\nconsole.log(typeof +a) // 高端写法\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("数值转换为Boolean类型")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var a = 0\n\nconsole.log(typeof a)\nconsole.log(typeof Boolean(a)) // 普通写法\nconsole.log(typeof !!a) // 高端写法\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("那么先将字符串转换为Number类型，再转换为Boolean类型")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var a = '0'\n\nconsole.log(!!a) // 直接转将得到 true，不符合预期\nconsole.log(!!+a) // 先转为 Number 再转为 Boolean，转换得到的结果为false，符合预期\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ul",[a("li",[s._v("在侧边栏中用到了这种用法")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("!!+Cookies.get('sidebarStatus')\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"五-navbar导航组件源码解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五-navbar导航组件源码解析"}},[s._v("#")]),s._v(" 五：Navbar导航组件源码解析")]),s._v(" "),a("h3",{attrs:{id:"一-navbar组件结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-navbar组件结构"}},[s._v("#")]),s._v(" （一）Navbar组件结构")]),s._v(" "),a("ul",[a("li",[s._v("在Navbar组件中，分为三部分")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1：隐藏侧边栏的字体图标 \n\n2：面包屑\n\n3：右边的小人\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"二-breadcrumb面包屑组件结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-breadcrumb面包屑组件结构"}},[s._v("#")]),s._v(" （二）breadcrumb面包屑组件结构")]),s._v(" "),a("ul",[a("li",[s._v("在breadcrumb面包屑组件中会获取到路由的匹配，根据路由的匹配完成对路由层级"),a("code",[s._v("levelList变量的初始化")]),s._v("，从而显示面包屑")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<template>\n  \x3c!-- 导航容器：分隔符为/ --\x3e\n  <el-breadcrumb class="app-breadcrumb" separator="/">\n    <transition-group name="breadcrumb">\n      \x3c!-- 循环遍历 --\x3e\n      <el-breadcrumb-item v-for="(item,index) in levelList" :key="item.path">\n\n        \x3c!-- 最后一个匹配到的路由不需要链接跳转 --\x3e\n        <span v-if="item.redirect===\'noRedirect\'||index==levelList.length-1" class="no-redirect">{{ item.meta.title }}</span>\n        \x3c!-- 如果需要导航，使用的是a标签跳转路由 --\x3e\n        <a v-else @click.prevent="handleLink(item)">{{ item.meta.title }}</a>\n\n      </el-breadcrumb-item>\n    </transition-group>\n  </el-breadcrumb>\n</template>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);