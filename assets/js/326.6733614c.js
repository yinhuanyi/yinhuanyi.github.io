(window.webpackJsonp=window.webpackJsonp||[]).push([[326],{2116:function(s,t,a){s.exports=a.p+"assets/img/2022-03-0923.30.37.a72a620e.png"},2776:function(s,t,a){"use strict";a.r(t);var n=a(9),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"一-概念"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-概念"}},[s._v("#")]),s._v(" 一：概念")]),s._v(" "),n("h3",{attrs:{id:"一-内核空间是进程通信的前提条件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-内核空间是进程通信的前提条件"}},[s._v("#")]),s._v(" (一)：内核空间是进程通信的前提条件")]),s._v(" "),n("p",[n("img",{attrs:{src:a(2116),alt:"Alt text"}})]),s._v(" "),n("ul",[n("li",[n("p",[n("strong",[s._v("每个进程的用户地址空间都是独立的")]),s._v("，一般而言是不能互相访问的，"),n("strong",[s._v("但内核空间是每个进程都共享的")]),s._v("，"),n("strong",[n("code",[s._v("所以进程之间要通信必须通过内核")])])])]),s._v(" "),n("li",[n("p",[s._v("进程间通信的方式分类")])])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("：管道\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("：消息队列\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("：共享内存\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("：信号量\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("：信号\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("：Socket\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("h2",{attrs:{id:"二-进程间通信方式详解"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二-进程间通信方式详解"}},[s._v("#")]),s._v(" 二：进程间通信方式详解")]),s._v(" "),n("h3",{attrs:{id:"一-管道"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-管道"}},[s._v("#")]),s._v(" (一)：管道")]),s._v(" "),n("ul",[n("li",[s._v("在Linux命令中，"),n("code",[s._v("「|」")]),s._v("这个竖线就是一种进程间通信方式，「|」表示的管道称为"),n("strong",[s._v("匿名管道")]),s._v("。对于"),n("strong",[s._v("匿名管道")]),s._v("，它的通信范围是存在父子关系的进程，对于"),n("strong",[s._v("命名管道")]),s._v("，它可以在不相关的进程间也能相互通信。"),n("strong",[s._v("管道这种通信方式效率低，不适合进程间频繁地交换数据")])])]),s._v(" "),n("h3",{attrs:{id:"二-消息队列"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二-消息队列"}},[s._v("#")]),s._v(" (二)：消息队列")]),s._v(" "),n("ul",[n("li",[n("p",[n("strong",[s._v("消息队列是保存在内核中的消息链表")]),s._v("，A 进程要给 B 进程发送消息，A 进程把数据放在对应的消息队列后就可以正常返回了，B 进程需要的时候再去读取数据就可以了，比较适合进程间频繁的交互数据")])]),s._v(" "),n("li",[n("p",[s._v("内核的消息队列"),n("strong",[s._v("消息传递是有大小限制")]),s._v("的，因此"),n("strong",[s._v("消息队列不适合比较大数据的传输")]),s._v("，并且消息队列通信过程中，存在"),n("strong",[s._v("用户态与内核态之间的数据拷贝开销")])])])]),s._v(" "),n("h3",{attrs:{id:"三-共享内存"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三-共享内存"}},[s._v("#")]),s._v(" (三)：共享内存")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("共享内存的机制，就是拿出一块虚拟地址空间来，映射到相同的物理内存中")]),s._v("。这样这个进程写入的数据，另外一个进程马上就能看到了，都不需要进行数据拷贝，大大提高了进程间通信的速度。因此"),n("strong",[s._v("共享内存")]),s._v("解决了数据拷贝过程中的系统开销问题")])]),s._v(" "),n("h3",{attrs:{id:"四-信号量"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#四-信号量"}},[s._v("#")]),s._v(" (四)：信号量")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("进程间通过共享内存的方式通信也存在问题，那就是临界资源的竞争问题。那么在这个过程中可以通过"),n("strong",[s._v("信号量")]),s._v("来实现进程间通信的保护机制。信号量其实是"),n("strong",[s._v("一个整型的计数器")]),s._v("，"),n("strong",[s._v("主要用于实现进程间的互斥与同步")])])]),s._v(" "),n("li",[n("p",[s._v("信号量表示资源的数量，"),n("strong",[s._v("控制信号量的方式有两种原子操作")]),s._v("："),n("code",[s._v("P操作和V操作")]),s._v("。P 操作是用在进入共享资源之前，V 操作是用在离开共享资源之后，这两个操作是必须成对出现的，信号量为1，代表的是"),n("strong",[s._v("互斥信号量")]),s._v("，具体过程如下")])])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("：进程 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("A")]),s._v(" 在访问共享内存前，先执行了 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("P")]),s._v(" 操作，由于信号量的初始值为 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("，故在进程 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("A")]),s._v(" 执行 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("P")]),s._v(" 操作后信号量变为 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("，表示共享资源可用，于是进程 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("A")]),s._v(" 就可以访问共享内存\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("：若此时，进程 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("B")]),s._v(" 也想访问共享内存，执行了 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("P")]),s._v(" 操作，结果信号量变为了 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("，这就意味着临界资源已被占用，因此进程 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("B")]),s._v(" 被阻塞\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("：直到进程 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("A")]),s._v(" 访问完共享内存，才会执行 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("V")]),s._v(" 操作，使得信号量恢复为 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("，接着就会唤醒阻塞中的线程 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("B")]),s._v("，使得进程 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("B")]),s._v(" 可以访问共享内存，最后完成共享内存的访问后，执行 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("V")]),s._v(" 操作，使信号量恢复到初始值 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("ul",[n("li",[s._v("信号初始化为 0，就代表着是"),n("strong",[s._v("同步信号量")]),s._v("。"),n("code",[s._v("A进程生产数据，B进程读取数据")]),s._v("，具体过程如下")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("：如果进程 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("B")]),s._v(" 比进程 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("A")]),s._v(" 先执行了，那么执行到 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("P")]),s._v(" 操作时，由于信号量初始值为 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("，故信号量会变为 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("，表示进程 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("A")]),s._v(" 还没生产数据，于是进程 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("B")]),s._v(" 就阻塞等待\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("：接着，当进程 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("A")]),s._v(" 生产完数据后，执行了 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("V")]),s._v(" 操作，就会使得信号量变为 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("，于是就会唤醒阻塞在 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("P")]),s._v(" 操作的进程 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("B")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("：最后，进程 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("B")]),s._v(" 被唤醒后，意味着进程 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("A")]),s._v(" 已经生产了数据，于是进程 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("B")]),s._v(" 就可以正常读取数据了\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"五-信号"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#五-信号"}},[s._v("#")]),s._v(" (五)：信号")]),s._v(" "),n("ul",[n("li",[s._v("之前的四种进程间通信机制都是常规状态下的工作模式，对于异常情况下的工作模式，就需要用 "),n("strong",[s._v("信号")]),s._v(" 的方式来通知进程。在Linux系统中，可以通过"),n("code",[s._v("kill-l")]),s._v("来查看所有的信号")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGHUP")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGINT")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGQUIT")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGILL")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGTRAP")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGABRT")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGBUS")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGFPE")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGKILL")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGUSR1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGSEGV")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGUSR2")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGPIPE")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGALRM")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGTERM")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGSTKFLT")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGCHLD")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGCONT")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGSTOP")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGTSTP")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGTTIN")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGTTOU")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGURG")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGXCPU")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGXFSZ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGVTALRM")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGPROF")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGWINCH")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGIO")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGPWR")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGSYS")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("34")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMIN")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("35")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMIN")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("36")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMIN")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("37")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMIN")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("38")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMIN")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("39")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMIN")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("40")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMIN")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("41")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMIN")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("42")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMIN")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("43")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMIN")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("44")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMIN")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("45")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMIN")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("46")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMIN")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("47")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMIN")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMIN")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("49")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMIN")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMAX")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("51")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMAX")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("52")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMAX")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMAX")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("54")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMAX")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("55")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMAX")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("56")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMAX")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("57")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMAX")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("58")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMAX")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("59")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMAX")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMAX")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("61")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMAX")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("62")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMAX")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("63")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMAX")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGRTMAX")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("ul",[n("li",[s._v("下面是对一些常见的信号的解释说明，kill -9 1001 ，表示给 PID 为 1001 的进程发送 SIGKILL 信号，用来立即结束该进程")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGHUP")]),s._v("        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("      终端退出时，此终端内的进程都将被终止\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGINT")]),s._v("        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("      中断进程，可被捕捉和忽略，几乎等同于sigterm，所以也会尽可能的释放执行clean"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("up，释放资源，保存状态等")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CTRL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("C")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGQUIT")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("从键盘发出杀死")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("终止"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("进程的信号\n\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGKILL")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("      强制杀死进程，该信号不可被捕捉和忽略，进程收到该信号后不会执行任何clean"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("up行为，所以资源不会释放，状态不会保存\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGTERM")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("杀死")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("终止"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("进程，可被捕捉和忽略，几乎等同于sigint信号，会尽可能的释放执行clean"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("up，释放资源，保存状态等\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGCHLD")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v("      当子进程中断或退出时，发送该信号告知父进程自己已完成，父进程收到信号将告知内核清理进程列表。所以该信号可以解除僵尸进程，也可以让非正常退出的进程工作得以正常的clean"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("up，释放资源，保存状态等\n \n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGSTOP")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("      该信号是不可被捕捉和忽略的进程停止信息，收到信号后会进入stopped状态\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGTSTP")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("该信号是可被忽略的进程停止信号")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CTRL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("Z")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGCONT")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v("      发送此信号使得stopped进程进入running，该信号主要用于jobs，例如bg "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" fg 都会发送该信号\n                     可以直接发送此信号给stopped进程使其运行起来  \n  \n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGUSR1")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("      用户自定义信号"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGUSR2")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("      用户自定义信号"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("ul",[n("li",[n("strong",[s._v("信号是进程间通信机制中唯一的异步通信机制")]),s._v("，用户进程对信号的处理方式如下")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("：执行默认操作：Linux 对每种信号都规定了默认操作，例如，上面列表中的 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGTERM")]),s._v(" 信号，就是终止进程的意思，进程会阻塞的清理资源\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("：捕捉信号：我们可以为信号定义一个信号处理函数。当信号发生时，我们就执行相应的信号处理函数")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("这个在fil"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("agent客户端有体现"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("：忽略信号：当我们不希望处理某些信号的时候，就可以忽略该信号，不做任何处理。有两个信号是应用进程无法捕捉和忽略的，即 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SIGKILL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("kill "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 和 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SEGSTOP")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("kill "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("，它们用于在任何时候中断或结束某一进程\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"六-socket"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#六-socket"}},[s._v("#")]),s._v(" (六)：Socket")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("Socket 是解决跨网络间的进程通信的信号")]),s._v("，根据创建 socket 类型的不同，通信的方式也就不同")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("：实现 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TCP")]),s._v(" 字节流通信：socket 类型是 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("AF_INET")]),s._v(" 和 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SOCK_STREAM")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("：实现 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("UDP")]),s._v(" 数据报通信：socket 类型是 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("AF_INET")]),s._v(" 和 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SOCK_DGRAM")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("：实现本地进程间通信：本地字节流 socket 类型是 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("AF_LOCAL")]),s._v(" 和 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SOCK_STREAM")]),s._v("，本地数据报 socket 类型是 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("AF_LOCAL")]),s._v(" 和 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SOCK_DGRAM")]),s._v("。另外，"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("AF_UNIX")]),s._v(" 和 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("AF_LOCAL")]),s._v(" 是等价的，所以 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("AF_UNIX")]),s._v(" 也属于本地 socket\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])])])}),[],!1,null,null,null);t.default=r.exports}}]);