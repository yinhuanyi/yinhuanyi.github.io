(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{1563:function(s,a,e){s.exports=e.p+"assets/img/2019-08-269.21.37.349c387f.png"},1564:function(s,a,e){s.exports=e.p+"assets/img/2019-08-269.52.18.5ad8078a.png"},1565:function(s,a,e){s.exports=e.p+"assets/img/2019-08-2610.25.13.dbc02ee0.png"},1566:function(s,a,e){s.exports=e.p+"assets/img/2019-08-2610.39.39.c06fa663.png"},2589:function(s,a,e){"use strict";e.r(a);var n=e(9),t=Object(n.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"一-hue基本概念"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-hue基本概念"}},[s._v("#")]),s._v(" 一：HUE基本概念")]),s._v(" "),n("h3",{attrs:{id:"一-概念"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-概念"}},[s._v("#")]),s._v(" (一)概念")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("HUE是基于Python的Django开发的框架，作为Hadoop可视化工具\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"二-hue配置安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二-hue配置安装"}},[s._v("#")]),s._v(" 二：HUE配置安装")]),s._v(" "),n("h3",{attrs:{id:"一-下载安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-下载安装"}},[s._v("#")]),s._v(" (一)下载安装")]),s._v(" "),n("ul",[n("li",[s._v("在node3下载hue-cdh5.11.1-release")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1：安装依赖\nyum install -y ant asciidoc cyrus-sasl-devel cyrus-sasl-gssapi cyrus-sasl-plain gcc gcc-c++ krb5-devel libffi-devel libxml2-devel libxslt-devel make mysql mysql-devel openldap-devel python-devel sqlite-devel gmp-devel\n\n2：编译\ncd  hue-cdh5.11.1-release \nmake apps\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h3",{attrs:{id:"二-配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二-配置"}},[s._v("#")]),s._v(" (二)配置")]),s._v(" "),n("ul",[n("li",[s._v("对hue进行配置")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('0: 添加环境变量\nvi /etc/profile.d/hue.sh\nexport PATH=/opt/modules/hue-3.9.0-cdh5.5.0/build/env/bin:$PATH\n. /etc/profile.d/hue.sh\n\n1: vi /opt/modules/hue-3.9.0-cdh5.5.0/desktop/conf/hue.ini\n  secret_key=lkdfn28937vnba@$%oqkn!#GSEfon\n  http_host=node3\n  http_port=8888\n  time_zone=Asia/Shanghai\n \n2: 创建hue用户,给数据文件添加权限\nchmod o+w /opt/modules/hue-3.9.0-cdh5.5.0/desktop/desktop.db \nuseradd hue\necho "yhy3426356" | passwd --stdin hue\nchown -R hue.hue /opt/modules/hue-3.9.0-cdh5.5.0\n\n3：启动服务\nsupervisor -d\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("h3",{attrs:{id:"三-访问hue的页面"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三-访问hue的页面"}},[s._v("#")]),s._v(" (三)访问hue的页面")]),s._v(" "),n("ul",[n("li",[s._v("访问页面node3:8888")])]),s._v(" "),n("p",[n("img",{attrs:{src:e(1563),alt:"Alt text"}})]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("账户为：hue\n密码为：hue\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h2",{attrs:{id:"三-hue与hdfs集成"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三-hue与hdfs集成"}},[s._v("#")]),s._v(" 三：HUE与HDFS集成")]),s._v(" "),n("h3",{attrs:{id:"一-配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-配置"}},[s._v("#")]),s._v(" (一)配置")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1：vi /opt/modules/hue-3.9.0-cdh5.5.0/desktop/conf/hue.ini\nfs_defaultfs=http://mycluster\nwebhdfs_url=http://node1:50070/webhdfs/v1\nhadoop_conf_dir=/opt/modules/hadoop-2.5.0-cdh5.3.5/etc/hadoop\n# 新添加的配置\nhadoop_bin=/opt/modules/hadoop-2.5.0-cdh5.3.5/bin\nhadoop_hdfs_home=/opt/modules/hadoop-2.5.0-cdh5.3.5\n\n2：在三台节点上：vi /opt/modules/hadoop-2.5.0-cdh5.3.5/etc/hadoop/core-site.xml \n    <property>\n        <name>hadoop.proxyuser.hue.hosts</name>\n        <value>*</value>\n    </property>\n    <property>\n        <name>hadoop.proxyuser.hue.groups</name>\n        <value>*</value>\n    </property>\n\n3: 重启hdfs\nstop-dfs.sh\nstart-dfs.sh\n\n4: 杀掉supervisor再重启\nkill 14637\nsupervisor -d\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br")])]),n("p",[n("img",{attrs:{src:e(1564),alt:"Alt text"}})]),s._v(" "),n("h2",{attrs:{id:"四-hue与yarn集成"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#四-hue与yarn集成"}},[s._v("#")]),s._v(" 四：HUE与YARN集成")]),s._v(" "),n("h3",{attrs:{id:"一-配置-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-配置-2"}},[s._v("#")]),s._v(" (一)配置")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1：vi /opt/modules/hue-3.9.0-cdh5.5.0/desktop/conf/hue.ini\nresourcemanager_host=rs\nresourcemanager_port=8032\nsubmit_to=True\nresourcemanager_api_url=http://node1:8088\nproxy_api_url=http://node1:8088\nhistory_server_api_url=http://node1:19888\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h2",{attrs:{id:"五-hue与hive集成"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#五-hue与hive集成"}},[s._v("#")]),s._v(" 五：HUE与HIVE集成")]),s._v(" "),n("h3",{attrs:{id:"一-配置-3"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-配置-3"}},[s._v("#")]),s._v(" (一)配置")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1：vi /opt/modules/hue-3.9.0-cdh5.5.0/desktop/conf/hue.ini\nhive_server_host=node3\nhive_server_port=10000\nhive_conf_dir=/opt/modules/hive-0.13.1-cdh5.3.5/conf\n\n2：启动hiveserver2\nnohup hiveserver2 &\n\n3: 杀掉supervisor再重启\nkill 14637\nsupervisor -d\n\n4: 给hdfs的tmp目录添加权限\nhadoop fs -chmod -R 777  /tmp \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("h3",{attrs:{id:"二-效果"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二-效果"}},[s._v("#")]),s._v(" (二)效果")]),s._v(" "),n("p",[n("img",{attrs:{src:e(1565),alt:"Alt text"}})]),s._v(" "),n("h2",{attrs:{id:"六-hue与mysql集成"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#六-hue与mysql集成"}},[s._v("#")]),s._v(" 六：HUE与MySQL集成")]),s._v(" "),n("h3",{attrs:{id:"一-配置-4"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-配置-4"}},[s._v("#")]),s._v(" (一)配置")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('1: vi /opt/modules/hue-3.9.0-cdh5.5.0/desktop/conf/hue.ini\n  [[[mysql]]]\n      nice_name="node1 MySQL"\n      name=metastore\n      engine=mysql\n      host=node1\n      port=3306\n      user=root\n      password=yhy3426356\n\n\n2: 杀掉supervisor再重启\nkill 14637\nsupervisor -d\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("h3",{attrs:{id:"二-效果-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二-效果-2"}},[s._v("#")]),s._v(" (二)效果")]),s._v(" "),n("p",[n("img",{attrs:{src:e(1566),alt:"Alt text"}})]),s._v(" "),n("h2",{attrs:{id:"七-hue与hbase集成"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#七-hue与hbase集成"}},[s._v("#")]),s._v(" 七：HUE与Hbase集成")]),s._v(" "),n("h3",{attrs:{id:"一-配置-5"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-配置-5"}},[s._v("#")]),s._v(" (一)配置")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1: vi /opt/modules/hue-3.9.0-cdh5.5.0/desktop/conf/hue.ini\nhbase_clusters=(Cluster|node1:9090)\nhbase_conf_dir=/opt/modules/hbase-0.98.6-cdh5.3.5/conf\n\n2: 重启hbase和启动thrift\nstop-hbase.sh\nstart-hbase.sh\nhbase-daemon.sh start thrift\n\n3: 杀掉supervisor再重启\nkill 14637\nsupervisor -d\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("h2",{attrs:{id:"八-将hue-3-9-0-cdh5-5-0改为hue-3-7-0-cdh5-3-6或hue-3-9-0-cdh5-12-1"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#八-将hue-3-9-0-cdh5-5-0改为hue-3-7-0-cdh5-3-6或hue-3-9-0-cdh5-12-1"}},[s._v("#")]),s._v(" 八：将hue-3.9.0-cdh5.5.0改为hue-3.7.0-cdh5.3.6或hue-3.9.0-cdh5.12.1")]),s._v(" "),n("h3",{attrs:{id:"一-原因"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-原因"}},[s._v("#")]),s._v(" (一)原因")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1： 原因是由于hue的版本过高，hive使用的版本较低，导致执行HQL操作的时候，因此可以将hue版本降低，也可以将hive的版本升高一些，这里使用hue版本降低的方法\n\n2: 之前使用的hive版本没有使用cdh版本的，因此在hue页面无法获取任务执行的日志，因此最好是使用cdh闭包的hive\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);