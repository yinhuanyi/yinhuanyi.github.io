(window.webpackJsonp=window.webpackJsonp||[]).push([[296],{1530:function(t,n,a){t.exports=a.p+"assets/img/2019-04-089.38.03.fdb1285b.png"},2569:function(t,n,a){"use strict";a.r(n);var s=a(9),e=Object(s.a)({},(function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h3",{attrs:{id:"一-flink-概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一-flink-概念"}},[t._v("#")]),t._v(" "),s("strong",[s("code",[t._v("（一）Flink 概念")])])]),t._v(" "),s("ul",[s("li",[t._v("数据处理")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Flink 可以处理哪些数据\n\nunbounded data: 没有边界的数据\nbounded data ： 有边界的数据\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("ul",[s("li",[t._v("API层面")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(1530),alt:"Alt text"}})]),t._v(" "),s("h3",{attrs:{id:"二-环境配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二-环境配置"}},[t._v("#")]),t._v(" "),s("strong",[s("code",[t._v("（二）环境配置")])])]),t._v(" "),s("ul",[s("li",[s("p",[t._v("JDK配置")])]),t._v(" "),s("li",[s("p",[t._v("Maven配置(二进制包安装)，修改apache-maven-3.6.0/conf/settings.xml中的仓库（依赖的jar包都会安装都这里）")])])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("<localRepository>/Users/yinhuanyi/Maven_Repository</localRepository>\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"三-统计每个文件中单词的次数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三-统计每个文件中单词的次数"}},[t._v("#")]),t._v(" "),s("strong",[s("code",[t._v("（三）统计每个文件中单词的次数")])])]),t._v(" "),s("ul",[s("li",[t._v("配置maven项目")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("mvn archetype:generate                               \\\n###       -DarchetypeGroupId=org.apache.flink              \\\n###       -DarchetypeArtifactId=flink-quickstart-java      \\\n###       -DarchetypeVersion=1.7.2  \\\n###       -DarchetpeCatalog=local\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("ul",[s("li",[t._v("flink开发流程")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("1: f\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ul",[s("li",[t._v("大数据处理流程")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("MapReduce: input -### map(reduce) -> output\nStorm: input -### Spout/Bolt -> output\nSpark: input -### transformation/action -> output\nFlink: input -### transformation/sink -> output\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("ul",[s("li",[t._v("DataSet Demo代码")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('\nimport org.apache.flink.api.common.functions.FlatMapFunction;\nimport org.apache.flink.api.java.DataSet;\nimport org.apache.flink.api.java.ExecutionEnvironment;\nimport org.apache.flink.api.java.operators.DataSource;\nimport org.apache.flink.util.Collector;\nimport org.apache.flink.api.java.tuple.Tuple2;\n\n\n\n\npublic class BatchJob {\n\n\tpublic static void main(String[] args) throws Exception {\n\n\t\tString input = "file:///Users/yinhuanyi/Java_Project/quickstart/test.txt";\n\n\t\t// 获得上下文环境\n\t\tfinal ExecutionEnvironment env = ExecutionEnvironment.getExecutionEnvironment();\n\n\t\t// 读取数据，成为数据源\n\t\tDataSource<String### text = env.readTextFile(input);\n\n\t\t// 转换\n\t\ttext.flatMap(new FlatMapFunction<String, Tuple2<String, Integer>>() {\n\t\t\t@Override\n\t\t\tpublic void flatMap(String value, Collector<Tuple2<String, Integer>### collector) throws Exception {\n\t\t\t\tString[] tokens = value.toLowerCase().split("\\t");\n\t\t\t\tfor (String token: tokens){\n\t\t\t\t\tif (token.length() ### 0){\n\t\t\t\t\t\t// 拿到每一个单词之后，创建一个Tuple2模型，(单词，1)\n\t\t\t\t\t\tcollector.collect(new Tuple2<String, Integer>(token, 1));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// 表示拿到Tuple2模型，以索引0进行分组，以索引1进行求和，最后打印到屏幕\n\t\t}).groupBy(0).sum(1).print();\n\t\t\n\t}\n}\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br")])]),s("ul",[s("li",[t._v("DataStream Demo代码")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('import org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.api.common.functions.FlatMapFunction;\nimport org.apache.flink.api.java.tuple.Tuple2;\nimport org.apache.flink.api.java.utils.ParameterTool;\nimport org.apache.flink.streaming.api.datastream.DataStreamSource;\nimport org.apache.flink.streaming.api.windowing.time.Time;\nimport org.apache.flink.util.Collector;\nimport java.lang.reflect.Parameter;\n\npublic class StreamingJob {\n\n\tpublic static void main(String[] args) throws Exception {\n\t\t// 获取参数\n\t\tint port = 0;\n\n\t\ttry {\n\t\t\tParameterTool tool = ParameterTool.fromArgs(args);\n\t\t\tport = tool.getInt("port");\n\t\t} catch (Exception e) {\n\t\t\tSystem.out.println("Use Default Port 9999");\n\t\t\tport = 9999;\n\t\t}\n\n\n\t\tfinal StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\n\n\t\tDataStreamSource<String### text = env.socketTextStream("localhost", port);\n\n\n\t\ttext.flatMap(new FlatMapFunction<String, Tuple2<String, Integer>>() {\n\t\t\t@Override\n\t\t\tpublic void flatMap(String value, Collector<Tuple2<String, Integer>### collector) throws Exception {\n\t\t\t\tString[] tokens = value.toLowerCase().split(",");\n\t\t\t\tfor (String token: tokens){\n\t\t\t\t\tif (token.length() ### 0){\n\t\t\t\t\t\t// 拿到每一个单词之后，创建一个Tuple2模型，(单词，1)\n\t\t\t\t\t\tcollector.collect(new Tuple2<String, Integer>(token, 1));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n// 表示拿到Tuple2模型，以索引0进行分组，5秒钟进行求和一次，以索引1进行求和，最后打印到屏幕\n}).keyBy(0).timeWindow(Time.seconds(5)).sum(1).print().setParallelism(1);\n\t\tenv.execute("");\n\t}\n}\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);