(window.webpackJsonp=window.webpackJsonp||[]).push([[567],{2585:function(s,n,a){"use strict";a.r(n);var e=a(9),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"一-hadoop下载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-hadoop下载"}},[s._v("#")]),s._v(" 一：hadoop下载")]),s._v(" "),a("h3",{attrs:{id:"一-下载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-下载"}},[s._v("#")]),s._v(" (一)下载")]),s._v(" "),a("ul",[a("li",[s._v("知识点说明：\n"),a("ul",[a("li",[s._v("1：在http://archive.cloudera.com/cdh5/cdh/，下载cdh的Hadoop软件")])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("\t在这里需要进行版本选择，如果选择hadoop-2.5.0-cdh5.3.5-cdh5.3.5.tar.gz,那么hbase就需要选择hbase-0.98.6-cdh5.3.5.tar.gz， 就是说其他的软件选择cdh5.3.5，这样可以保证是兼容的\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"二-hadoop安装配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-hadoop安装配置"}},[s._v("#")]),s._v(" 二：hadoop安装配置")]),s._v(" "),a("h3",{attrs:{id:"一-安装配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-安装配置"}},[s._v("#")]),s._v(" (一)安装配置")]),s._v(" "),a("ul",[a("li",[s._v("介绍")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("\tHDFS（Hadoop Distributed File System）是一种分布式文件系统，它具有高容错的特点，并且可以部署在廉价的通用硬件上，提高吞吐率的数据访问，适合那些需要处理海量数据集的应用程序，它提供了一套特有的、基于Hadoop抽象文件系统的API，支持以流的形式访问文件系统中的数据\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("知识点说明：\n"),a("ul",[a("li",[s._v("1：在node1上安装namenode、datanode")]),s._v(" "),a("li",[s._v("2：在node2上安装datanode")]),s._v(" "),a("li",[s._v("3：在node3上安装datanode")])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("0：先对node1进行配置，再将hadoop目录拷贝到其他主机\n\n1: vi /opt/modules/hadoop-2.5.0-cdh5.3.5/etc/hadoop/hadoop-env.sh\n配置JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.222.b10-0.el7_6.x86_64\n\n2: vi /opt/modules/hadoop-2.5.0-cdh5.3.5/etc/hadoop/yarn-env.sh\n配置JAVA_HOME\n\n3: vi /opt/modules/hadoop-2.5.0-cdh5.3.5/etc/hadoop/mapred-env.sh\n配置JAVA_HOME\n\n4: vi /opt/modules/hadoop-2.5.0-cdh5.3.5/etc/hadoop/core-site.xml, 配置namenode的IP和端口， 这的node1为集群中的namenodeIP\n<configuration>\n    <property>\n        <name>fs.defaultFS</name>\n        \x3c!-- 这里修改IP和端口，这里是指定namenode的地址，这里有个坑，node1必须是主机名，不能是IP，主机名会被/etc/hosts解析，解析到一个外网IP，才能让其他datanode连接到namenode --\x3e\n        <value>hdfs://node1:9000</value>\n    </property>\n    \x3c!-- 修改http用户  --\x3e\n    <property>\n        <name>hadoop.http.staticuser.user</name>\n        <value>dr.who</value>\n    </property>\n     \x3c!-- 配置hdfs数据存放目录,需要提前创建  --\x3e\n    <property>\n        <name>hadoop.tmp.dir</name>\n        <value>/opt/modules/hadoop-2.5.0-cdh5.3.5-cdh5.3.5/data/tmp</value>\n    </property>\n</configuration>\n\n5：vi /opt/modules/hadoop-2.5.0-cdh5.3.5/etc/hadoop/hdfs-site.xml，配置副本数\n\n<configuration>\n    <property>\n        <name>dfs.replication</name>\n        \x3c!-- 三个给数据设置副本数 --\x3e\n        <value>2</value>\n    </property>\n    \n    \x3c!-- 禁用hdfs检查 --\x3e\n    <property>\n        <name>dfs.permissions.enabled</name>\n        <value>false</value>\n    </property>\n</configuration>\n\n6：配置datanode, 三台机器都需要配置\nvi /opt/modules/hadoop-2.5.0-cdh5.3.5/etc/hadoop/slaves\nnode1\nnode2\nnode3\n\n7：将hadoop命令加入到环境变量\nvi /etc/profile.d/hadoop.sh\nexport PATH=/opt/modules/hadoop-2.5.0-cdh5.3.5-cdh5.3.5/bin:/opt/modules/hadoop-2.5.0-cdh5.3.5-cdh5.3.5/sbin:/opt/modules/hadoop-2.5.0-cdh5.3.5-cdh5.3.5/libexec:$PATH\n. /etc/profile.d/hadoop.sh\n\n8: 格式化hdfs, 也就是格式化namenode\nhdfs namenode -format\n\n日志输出是这样的：\n21/03/24 16:04:07 INFO namenode.NNStorageRetentionManager: Going to retain 1 images with txid >= 0\n21/03/24 16:04:07 INFO namenode.FSImage: FSImageSaver clean checkpoint: txid = 0 when meet shutdown.\n21/03/24 16:04:07 INFO namenode.NameNode: SHUTDOWN_MSG:\n/************************************************************\nSHUTDOWN_MSG: Shutting down NameNode at yw1-1/127.0.1.1\n************************************************************/\n\n9: 启动namenode、datanode(这里重启的时候，可能50070端口被占用，没有释放，要注意一下)\nhadoop-daemon.sh start namenode\nhadoop-daemon.sh start datanode\n\n10: 查看启动的进程(这里要等一段时间才能启动)\njps\n4066 DataNode\n3973 NameNode\n4154 Jps\n\n11: 访问web端口\nhttp://192.168.43.201:50070\n\n12： 将node1的hadoop拷贝到node2、node3\nscp -r hadoop-2.5.0-cdh5.3.5 node3:/opt/modules/\n\n13: 在node2、node3启动datanode\nhadoop-daemon.sh start datanode\n\n14：再次访问web端口，查看整个集群的信息，显示一个namenode，三个datanode\n\n15: 在hdfs文件系统上创建/user/root/data目录\nhdfs dfs -mkdir -p /user/root/data\n\n16：将anaconda-ks.cfg文件上传至hdfs的/user/root/data目录\nhdfs dfs -put anaconda-ks.cfg /user/root/data/\n\n17：将查看上传的文件\nhdfs dfs -text /user/root/data/anaconda-ks.cfg\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br")])]),a("ul",[a("li",[a("strong",[a("code",[s._v("出现的问题")])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("当node1将hadoop全部拷贝过去的时候，会出现监控界面只显示一个datanode节点，这是因为在/opt/modules/hadoop-2.5.0-cdh5.3.5/data/tmp/dfs/data/current/VERSION中会记录每个datanode的ID，三个ID一样的\n\n解决办法：拷贝过去之后，将node2、node3的/opt/modules/hadoop-2.5.0-cdh5.3.5/data/tmp/dfs/data/current/VERSION删除，再重启hdfs\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"二-hdfs常用命令操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-hdfs常用命令操作"}},[s._v("#")]),s._v(" (二) HDFS常用命令操作")]),s._v(" "),a("ul",[a("li",[s._v("hadoop fs、hadoop dfs、hdfs dfs 三种命令行的区别(使用hdfs dfs就好了)")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1：hadoop fs：意思是说该命令可以用于其他文件系统，不止是hdfs文件系统内，也就是说该命令的使用范围更广\n\n2：hadoop dfs：专门针对hdfs分布式文件系统\n\n3：hdfs dfs：和上面的命令作用相同，相比于上面的命令更为推荐，并且当使用hadoop dfs时内部会被转为hdfs dfs命令\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("常用操作")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1: hdfs dfs -appendToFile <localsrc### ... <dst>\n追加一个或者多个文件到hdfs制定文件中.也可以从命令行读取输入.\n举例： hdfs dfs -appendToFile localfile /user/hadoop/hadoopfile\n\n2：hdfs dfs -cat URI [URI ...] （这个需要在core-site.xml配置文件中，开启8020端口）\n查看内容 \n举例：hdfs dfs -cat hdfs://nn1.example.com/file1 hdfs://nn2.example.com/file2\n\n3：hdfs dfs -chmod [-R] <MODE[,MODE]... | OCTALMODE### URI [URI ...]\n修改目录的权限\n\n4：hdfs dfs -chown [-R] [OWNER][:[GROUP]] URI [URI ]\n修改目录所有者\n\n5：hdfs dfs -cp [-f] [-p | -p[topax]] URI [URI ...] <dest>\n拷贝文件\n\n6：没有总结完(https://blog.csdn.net/u013013225/article/details/80499366)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("h2",{attrs:{id:"三-yarn安装配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-yarn安装配置"}},[s._v("#")]),s._v(" 三：Yarn安装配置")]),s._v(" "),a("h3",{attrs:{id:"一-安装配置-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-安装配置-2"}},[s._v("#")]),s._v(" (一)安装配置")]),s._v(" "),a("ul",[a("li",[s._v("知识点说明：\n"),a("ul",[a("li",[s._v("1：在node1上安装ResourceManager、NodeManager")]),s._v(" "),a("li",[s._v("2：在node2上安装NodeManager")]),s._v(" "),a("li",[s._v("3：在node3上安装NodeManager")])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1: 修改mapred-site.xml.template名称为mapred-site.xml\nmv mapred-site.xml.template mapred-site.xml\n\n2：vi mapred-site.xml\n<configuration>\n    <property>\n        <name>mapreduce.framework.name</name>\n        <value>yarn</value>\n    </property>\n\n    <property>\n        <name>mapreduce.jobhistory.webapp.address</name>\n        <value>node1:19888</value>\n    </property>\n\n\t<property>\n        <name>mapreduce.jobhistory.address</name>\n        <value>node1:10020</value>\n    </property>\n    \n</configuration>\n\n3: vi yarn-site.xml\n<configuration>\n    <property>\n        <name>yarn.nodemanager.aux-services</name>\n        <value>mapreduce_shuffle</value>\n    </property>\n\n    \x3c!-- 指定yarn的管理节点为node1 --\x3e\n    <property>\n        <name>yarn.resourcemanager.hostname</name>\n        <value>node1</value>\n    </property>\n    \x3c!-- 让mapreduce运行的日志存储到hdfs上  --\x3e\n    <property>\n        <name>yarn.log-aggregation-enable</name>\n        <value>true</value>\n    </property>\n    \x3c!-- 指定日志存放的天数  --\x3e\n    <property>\n        <name>yarn.log-aggregation.retain-seconds</name>\n        <value>100000</value>\n    </property>\n</configuration>\n\n\n4: 将node1的hadoop的配置文件拷贝到node2、node3\nscp -r ./* node2:/opt/modules/hadoop-2.5.0-cdh5.3.5-cdh5.3.5/etc/hadoop/\nscp -r ./* node3:/opt/modules/hadoop-2.5.0-cdh5.3.5-cdh5.3.5/etc/hadoop/\n\n5: 创建一个文件wordcount.txt\njava java\npython scala\noc c++\njava python\npython python\n\n6：将文件上传至hdfs\nhdfs dfs -put wordcount.txt /user/root/data/\n\n7: node1启动yarn\nyarn-daemon.sh start resourcemanager\nyarn-daemon.sh start nodemanager    \n\n8：node2、node3启动yarn\nyarn-daemon.sh start nodemanager  \n\n9: 访问yarn的监控界面\nhttp://node1:8088/cluster\n\n10: 启动historyserver\nmr-jobhistory-daemon.sh start historyserver\n\n11: 将node2、node3的整个hadoop目录删除,将node1的Hadoop重新拷贝\n\n12: 停止掉所有的服务，再重启\n\n13：给hdfs创建目录， 且上传文件\nhdfs dfs -mkdir -p /user/root/data\nhdfs dfs -put wordcount.txt /user/root/data/\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br")])]),a("h2",{attrs:{id:"四-yarn运行mapreduce"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四-yarn运行mapreduce"}},[s._v("#")]),s._v(" 四：Yarn运行MapReduce")]),s._v(" "),a("h3",{attrs:{id:"一-安装配置-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-安装配置-3"}},[s._v("#")]),s._v(" (一)安装配置")]),s._v(" "),a("ul",[a("li",[s._v("知识点说明：\n"),a("ul",[a("li",[s._v("1：在node1上安装ResourceManager、NodeManager")]),s._v(" "),a("li",[s._v("2：在node2上安装NodeManager")]),s._v(" "),a("li",[s._v("3：在node3上安装NodeManager")])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1: 创建MapReduce数据统计输出的目录\nhdfs dfs -mkdir -p /user/root/data/output\n\n2: 基于yarn运行单词统计的mapreduce程序\ncd /opt/modules/hadoop-2.5.0-cdh5.3.5-cdh5.3.5/share/hadoop/mapreduce\n\n# wordcount是jar包的参数，表示做单词统计, /user/root/data/wordcount.txt为数据源，/user/root/data/output/1为结果输出目录，目录不能存在\nyarn jar hadoop-mapreduce-examples-2.5.0-cdh5.3.5.jar wordcount /user/root/data/wordcount.txt /user/root/data/output/1\n\n3：查看统计结果：\nhdfs dfs -text /user/root/data/output/1/part-r-00000\nc++     1\njava    3\noc      1\npython  4\nscala   1\n\n4: 在node1上停止hdfs，所有节点都会停止\n[root@node1 ~]# stop-dfs.sh\nnode1: stopping namenode\nnode1: stopping datanode\nnode3: stopping datanode\nnode2: stopping datanode\n\n5: 停止yarn\n[root@node1 ~]# stop-yarn.sh\nstopping resourcemanager\nnode1: stopping nodemanager\nnode2: stopping nodemanager\nnode3: stopping nodemanager\n\n6: 在将所有的hdfs和yarn启动\nstart-dfs.sh \nstart-yarn.sh\nmr-jobhistory-daemon.sh start historyserver\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);