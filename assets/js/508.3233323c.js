(window.webpackJsonp=window.webpackJsonp||[]).push([[508],{2484:function(s,t,a){"use strict";a.r(t);var n=a(9),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"一-概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-概念"}},[s._v("#")]),s._v(" 一：概念")]),s._v(" "),a("h3",{attrs:{id:"一-语法格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-语法格式"}},[s._v("#")]),s._v(" (一)：语法格式")]),s._v(" "),a("ul",[a("li",[s._v("第一种形式")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'BEGIN{}pattern{commands}END{}'")]),s._v(" file_name\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[s._v("语法格式")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("解释")])])]),s._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("BEGIN{}")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("正式处理数据之前执行")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("pattern")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("匹配模式")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("{commands}")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("处理命令，可能多行")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("BEGIN{}")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("处理完所有行后执行")])])])]),s._v(" "),a("ul",[a("li",[s._v("语法解释")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BEGIN")]),s._v("是处理行文本之前做的事情，也就是处理第一行文本之前\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("END")]),s._v("是处理行文本之后做的事情，也就是处理最后一行文本后执行"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("END")]),s._v("命令\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"二-awk的内置变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-awk的内置变量"}},[s._v("#")]),s._v(" 二：awk的内置变量")]),s._v(" "),a("h3",{attrs:{id:"一-awk的内置变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-awk的内置变量"}},[s._v("#")]),s._v(" (一)：awk的内置变量")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[s._v("内置变量")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("含义")])])]),s._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("$0")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("整行内容")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("$1-$n")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("当前行的几个字段")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("NF(Number Field)")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("当前行的字段个数，也就是有多少列")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("NR(Number Row)")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("当前行的行号，从1开始计数")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("FNR(File Number Row)")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("多文件处理时，每个文件行号单独计数，都是从0开始")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("FS(Field Separator)")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("输入字段分隔符，默认是空格，tab键盘分割")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("RS(Row Separator)")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("输入行分隔符，默认回车换行")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("OFS")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("输出字段分隔符，默认是空格")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("ORS")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("输出行分隔符，默认是回车")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("FILENAME")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("当前处理的文件名称")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("ARGC")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("命令行参数个数")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("ARGV")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("命令行参数数组")])])])]),s._v(" "),a("h3",{attrs:{id:"二-示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-示例"}},[s._v("#")]),s._v(" (二)：示例")]),s._v(" "),a("ul",[a("li",[s._v("$0表示当前处理的整行内容")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz988mpdr1aoZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print $0}'")]),s._v(" test\nFlinkCatalinaCatalinaloveJavascript\n     inaCatalinaloveScala\n       \nasd\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ul",[a("li",[s._v("FS指定了分隔符为"),a("code",[s._v(":")]),s._v(", $1是第一列")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz988mpdr1aoZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'BEGIN{FS=\":\"}{print $1}'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("passwd\nroot\nbin\ndaemon\nadm\nlp\nsync\nshutdown\nhalt\nmail\noperator\ngames\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("ul",[a("li",[s._v("查看文件有多少列，NF是内置变量，不需要加$符号")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print NF}'")]),s._v(" test\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("查看文件的行号")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz988mpdr1aoZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print NR}'")]),s._v(" test\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("FNR: 打印文件的行号，每个文件单独计数")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz988mpdr1aoZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print FNR}'")]),s._v(" test "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("passwd\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("  # 第二个文件开始又单独计数\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("ul",[a("li",[s._v("RS：指定行分隔符")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("# 查看原文件\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz988mpdr1aoZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# cat test\njava"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("python"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("javascript"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("ps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("css"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("html"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("robby"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("petter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("marry\n\n# 指定行分隔符为"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 列分隔符为"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 打印第一列\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz988mpdr1aoZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'BEGIN{FS=",";RS="|"}{print $1}\'')]),s._v(" test\njava\nps\nrobby\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("ul",[a("li",[s._v("ORS：指定输出行分隔符， OFS：指定输出字段分隔符（在$1和$2直接有逗号，表示输出的时候，第一列字段和第二列字段有分隔符）")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz988mpdr1aoZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'BEGIN{FS=",";RS="|";ORS="%";OFS="@"}{print $1, $2}\'')]),s._v(" test\njava@python"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("ps@css"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("robby@petter"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("NF: 表示当前行有多少列,  NF和$NF显示的意义不一样")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz988mpdr1aoZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'BEGIN{FS=\":\"}{print NF}'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("passwd\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz988mpdr1aoZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'BEGIN{FS=\":\"}{print $NF}'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("passwd\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bash\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nologin\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nologin\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nologin\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nologin\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sync\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"三-printf格式化输出"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-printf格式化输出"}},[s._v("#")]),s._v(" 三：printf格式化输出")]),s._v(" "),a("h3",{attrs:{id:"一-printf格式化输出说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-printf格式化输出说明"}},[s._v("#")]),s._v(" (一)：printf格式化输出说明")]),s._v(" "),a("ul",[a("li",[s._v("常用的格式化占位符")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[s._v("占位符")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("含义")])])]),s._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("%s")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("打印字符串")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("%d")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("打印十进制数")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("%f")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("打印一个浮点数")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("%x")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("打印十六进制数")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("%o")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("打印八进制数")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("%e")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("打印数字的科学计数形式")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("%c")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("打印单个字符的ASCII码")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("-")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("左对齐")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("+")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("右对齐")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("#")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("显示8进制在前面加上0，显示16进制在前面加上0x")])])])]),s._v(" "),a("h3",{attrs:{id:"二-示例-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-示例-2"}},[s._v("#")]),s._v(" (二)：示例")]),s._v(" "),a("ul",[a("li",[s._v("printf输出的分隔符需要使用占位符格式化")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("# 使用占位符的时候，不写分隔符\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz988mpdr1aoZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'BEGIN{FS=":"}{printf "%s", $1}\'')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("passwd\nrootbindaemonadmlpsyncshutdownhaltmailoperatorgamesftpnobodysystemd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("networkdbuspolkitdsshdpostfixchronyntptcpdumpnscdnginx\n\n\n# 使用占位符的时候，加上分隔符\\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz988mpdr1aoZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'BEGIN{FS=":"}{printf "%s\\n", $1}\'')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("passwd\nroot\nbin\ndaemon\nadm\nlp\nsync\nshutdown\nhalt\nmail\noperator\ngames\nftp\nnobody\nsystemd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("network\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("ul",[a("li",[s._v("printf输出两个字段， %-20s指定字符串的宽度是20，- 表示左对齐")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz988mpdr1aoZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'BEGIN{FS=":"}{printf "%-20s %-20s\\n", $1,$7}\'')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("passwd\nroot                 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bash           \nbin                  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nologin       \ndaemon               "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nologin       \nadm                  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nologin       \nlp                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nologin       \nsync                 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sync     \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"四-awk的pattern匹配模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四-awk的pattern匹配模式"}},[s._v("#")]),s._v(" 四：awk的pattern匹配模式")]),s._v(" "),a("h3",{attrs:{id:"一-模式匹配的两种方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-模式匹配的两种方式"}},[s._v("#")]),s._v(" (一)：模式匹配的两种方式")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("：RegExp\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("：关系运算匹配\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"二-示例-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-示例-3"}},[s._v("#")]),s._v(" (二)：示例")]),s._v(" "),a("ul",[a("li",[s._v("在/etc/passwd文件中，找到root用户的登录方式(/^root/是pattern)")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz988mpdr1aoZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'BEGIN{FS=\":\"}/^root/{print $NF}'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("passwd\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bash\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("打印系统用户中，UUID小于30的用户名, UUID是/etc/passwd的第3个字段(这个示例说明pattern可以是关系运算)（$3<30是pattern， 这里其实可以多个条件判断，例如：$3<30 && $4>20）")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz988mpdr1aoZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'BEGIN{FS=\":\"}$3<30{print $1}'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("passwd\nroot\nbin\ndaemon\nadm\nlp\nsync\nshutdown\nhalt\nmail\noperator\ngames\nftp\nnscd\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("ul",[a("li",[s._v('打印系统用户中，登录方式为/bin/bash的用户（$7=="/bin/bash"是pattern）')])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz988mpdr1aoZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'BEGIN{FS=":"}$7=="/bin/bash"{print $1}\'')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("passwd\nroot\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("打印UUID是2个数字和3个数字的用户名和UUID（$3~//：是指用第三个字段去匹配pattern）")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz988mpdr1aoZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'BEGIN{FS=\":\"}$3~/[0-9]{2,3}/{print $1, $3}'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("passwd\noperator "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("\ngames "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("\nftp "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v("\nnobody "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("99")]),s._v("\nsystemd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("network "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192")]),s._v("\ndbus "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("81")]),s._v("\npolkitd "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("999")]),s._v("\nsshd "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("74")]),s._v("\npostfix "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("89")]),s._v("\nchrony "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("998")]),s._v("\nntp "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("38")]),s._v("\ntcpdump "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72")]),s._v("\nnscd "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v("\nnginx "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("997")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h3",{attrs:{id:"三-模式匹配小结-非常重要"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-模式匹配小结-非常重要"}},[s._v("#")]),s._v(" (三)：模式匹配小结(非常重要)")]),s._v(" "),a("ul",[a("li",[s._v("分类")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),s._v(" 匹配正则\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),s._v(" 不匹配正则\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" 等于\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" 不等于\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ul",[a("li",[s._v("test文件内容")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("Java "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\nPython "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\nGolang "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\nShell "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("808080")]),s._v("\nScala "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OC")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("C")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\nJavasript ajfkj\nGroovy "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PHP")]),s._v("\nSprint boot\nLinux Docker\nNginx  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80880")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("ul",[a("li",[s._v("打印第二列"),a("code",[s._v("是以80开头和结尾")]),s._v("的行")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@mycat "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{ if($2~/^80$/) print $0 }'")]),s._v(" test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt\nJava "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\nGolang "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\nScala "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OC")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("C")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\nGroovy "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("ul",[a("li",[s._v("打印第二列"),a("code",[s._v("不是以80开头和结尾")]),s._v("的行")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@mycat "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{if($2!~/^80$/) print $0 }'")]),s._v(" test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt  \nPython "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\nShell "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("808080")]),s._v("\nJavasript ajfkj\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PHP")]),s._v("\nSprint boot\nLinux Docker\nNginx  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80880")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("ul",[a("li",[s._v("打印第二列是"),a("code",[s._v("Docker")]),s._v("的行")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@mycat "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{ if($2==\"Docker\") print $0}'")]),s._v(" test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt\nLinux Docker\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"五-awk的动作表达式的算术运算符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五-awk的动作表达式的算术运算符"}},[s._v("#")]),s._v(" 五：awk的动作表达式的算术运算符")]),s._v(" "),a("h3",{attrs:{id:"一-动作表达式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-动作表达式"}},[s._v("#")]),s._v(" (一)：动作表达式")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[s._v("运算符")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("含义")])])]),s._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("+")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("加")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("-")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("减")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("*")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("乘")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("/")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("除")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("%")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("模")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("**")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("乘方")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("++x")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("在返回x变量之前，x变量加1")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("x++")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("在返回x变量之后，x变量加1")])])])]),s._v(" "),a("h3",{attrs:{id:"二-示例-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-示例-4"}},[s._v("#")]),s._v(" (二)：示例")]),s._v(" "),a("ul",[a("li",[s._v("在BEGIN中的动作表达式")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz988mpdr1aoZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'BEGIN{var=20;var1=\"hello\";print var, var1}'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" hello\n\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz988mpdr1aoZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'BEGIN{var1=20;var2=30;print var1/var2}'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.666667")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ul",[a("li",[s._v("将下列文本输出平均值")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("Robby "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("99")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("83")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\nMarry "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("78")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("86")]),s._v("\n\n\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz988mpdr1aoZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{total=$2+$3+$4+$5;avg=total/4;printf \"%-8s%-5d%-5d%-5d%-5d%.2f\\n\",$1,$2,$3,$4,$5,avg}'")]),s._v(" test\nRobby   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("99")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("83")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("93.00")]),s._v("\nMarry   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("78")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("86")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("88.50")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h3",{attrs:{id:"六-awk的条件判断"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六-awk的条件判断"}},[s._v("#")]),s._v(" 六：awk的条件判断")]),s._v(" "),a("h3",{attrs:{id:"一-说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-说明"}},[s._v("#")]),s._v(" (一)：说明")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("在awk的"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("命令中，在处理每一行数据的时候，可以加上"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("条件判断"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"二-示例-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-示例-5"}},[s._v("#")]),s._v(" (二)：示例")]),s._v(" "),a("ul",[a("li",[s._v("打印出UUID大于50且小于100的用户和UUID")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz988mpdr1aoZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'BEGIN{FS=":"}{if ($3>50 && $3<100) printf "%-8s%5d\\n",$1,$3}\'')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("passwd\nnobody     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("99")]),s._v("\ndbus       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("81")]),s._v("\nsshd       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("74")]),s._v("\npostfix    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("89")]),s._v("\ntcpdump    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ul",[a("li",[s._v("打印出UUID 大于50且小于100的用户， 大于100且小于1000的用户和UUID(else if 后面还可以加上else)(awk的单引号中的命令，也可以写在文件中，使用-f指定命令的文件即可)")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz988mpdr1aoZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'BEGIN{FS=":"}{if ($3>50 && $3<100) {printf "%-10s%-8s%5d\\n","50~100",$1,$3} else if ($3>100 && $3<1000) {printf "%-10s%-8s%5d\\n","100~1000",$1,$3}}\'')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("passwd\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("    nobody     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("99")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("  systemd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("network  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("    dbus       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("81")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("  polkitd   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("999")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("    sshd       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("74")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("    postfix    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("89")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("  chrony    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("998")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("    tcpdump    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("  nginx     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("997")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h3",{attrs:{id:"七-awk的循环语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#七-awk的循环语句"}},[s._v("#")]),s._v(" 七：awk的循环语句")]),s._v(" "),a("h3",{attrs:{id:"一-说明-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-说明-2"}},[s._v("#")]),s._v(" (一)：说明")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("# "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v("循环\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("初始化计数器"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("计数器测试"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("计数器变更"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n# "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v("循环\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("条件表达式"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n# "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" 循环\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n\t动作\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("条件判断"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h3",{attrs:{id:"二-示例-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-示例-6"}},[s._v("#")]),s._v(" (二)：示例")]),s._v(" "),a("ul",[a("li",[s._v("使用awk从1加到100的和（是用while、do while、for三种循环方式实现）")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("# "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("循环可以写在命令行")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v("和"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v("必须将命令写在文件中"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz988mpdr1aoZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'BEGIN{for(i=0;i<=100;i++){sum+=i}print sum}'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5050")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("使用do while循环")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("# 这是awk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt文件内容\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BEGIN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            sum"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v("i \n            i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        print sum\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz988mpdr1aoZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f awk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt \n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5050")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("ul",[a("li",[s._v("使用while循环")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("# 这是awk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt的内容\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BEGIN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\tsum"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v("i\n\t\ti"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\tprint sum\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz988mpdr1aoZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f awk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt \n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5050")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h3",{attrs:{id:"三-示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-示例"}},[s._v("#")]),s._v(" (三)：示例")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("计算下列每个同学的平均分数，并且只打印平均分数大于90的同学姓名和分数信息, 最后一行打印各个科目的总分")])]),s._v(" "),a("li",[a("p",[s._v("test文件如下")])])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("Allen  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("96")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("98")]),s._v("\nMike   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("93")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("98")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("92")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("91")]),s._v("\nZhang  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("78")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("76")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("87")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("92")]),s._v("\nJerry  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("86")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("89")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("68")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("92")]),s._v("\nHan    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("85")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("95")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("75")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v("\nLi     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("78")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("88")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("98")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ul",[a("li",[s._v("awk.txt如下")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BEGIN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    printf "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%-10s%-10s%-10s%-10s%-10s%-10s\\n"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Chinese"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Math"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"English"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Physical"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Average"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    total"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n    avg"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("total"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("avg"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        printf "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%-10s%-10d%-10d%-10d%-10d%-0.2f\\n"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("avg\n        total_chinese"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n        total_math"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n        total_english"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n        total_physical"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n        total_avg"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v("avg\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("   \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("END")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    printf "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%-10s%-10d%-10d%-10d%-10d%-0.2f\\n"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" "')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("total_chinese"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("total_math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("total_english"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("total_physical"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("total_avg\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("ul",[a("li",[s._v("执行效果如下(这里只显示了3个学生的信息，其他的同学信息被if过滤了)")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f awk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt test\nName      Chinese   Math      English   Physical  Average   \nAllen     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("96")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("98")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("91.00")]),s._v("\nMike      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("93")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("98")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("92")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("91")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("93.50")]),s._v("\nLi        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("78")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("88")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("98")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("91.00")]),s._v("\nTotal     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("251")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("276")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("286")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("289")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("275.50")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ul",[a("li",[s._v("写成一行是这样的")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'BEGIN{printf "%-10s%-10s%-10s%-10s%-10s%-10s\\n","Name","Chinese","Math","English","Physical","Average"}{total=$2+$3+$4+$5;avg=total/4;if(avg>90){ printf "%-10s%-10d%-10d%-10d%-10d%-0.2f\\n",$1,$2,$3,$4,$5,avg;total_chinese+=$2;total_math+=$3;total_english+=$4;total_physical+=$5;total_avg+=avg}}END{printf "%-10s%-10d%-10d%-10d%-10d%-0.2f\\n","Total",total_chinese,total_math,total_english,total_physical,total_avg}\'')]),s._v(" test\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"八-awk的字符串函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#八-awk的字符串函数"}},[s._v("#")]),s._v(" 八：awk的字符串函数")]),s._v(" "),a("h3",{attrs:{id:"一-常见的字符串函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-常见的字符串函数"}},[s._v("#")]),s._v(" (一)：常见的字符串函数")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[s._v("函数名")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("解释")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("函数返回值")])])]),s._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("length(str)")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("计算字符串长度")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("整数长度值")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("index(str1,str2)")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("在str1中查找str2的位置")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("返回值为位置索引，从1计数")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("tolower(str)")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("转换为小写")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("小写字符串")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("toupper(str)")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("转换为大写")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("大写字符串")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("substr(str,m,n)")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("从str的m个字符开始，截取n位")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("截取后的子串")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("split(str,arr,fs)")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("按fs切割字符串，结果保存arr")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("切割后的子串的个数")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("match(str,RE)")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("在str中按照RE查找，返回位置")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("返回索引位置")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("sub(RE,RepStr,str)")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("在str中搜索符合RE的字符串，将其替换为RepStr,只替换一个")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("返回替换的个数")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("gsub(RE,RepStr,str)")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("在str中搜索符合RE的字符串，将其替换为RepStr,替换所有匹配到的字符串")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("返回替换的个数")])])])]),s._v(" "),a("h3",{attrs:{id:"二-示例-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-示例-7"}},[s._v("#")]),s._v(" (二)：示例")]),s._v(" "),a("ul",[a("li",[s._v("以"),a("code",[s._v(":")]),s._v("为分隔符，返回/etc/passwd中每行中每个字段的长度")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("例如：root"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("x"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bash 输出为：\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[a("strong",[s._v("awk.txt")])])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BEGIN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('":"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NF")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NF")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            printf "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%d"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("length")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("$i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("  \n            printf "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%d:"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("length")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("$i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("       \n        i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("     \n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("   \n    printf "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\n"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("ul",[a("li",[s._v("执行结果")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f awk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("passwd\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h3",{attrs:{id:"三-搜索字符串-i-have-a-dream-中出现-ea-子字符串的位置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-搜索字符串-i-have-a-dream-中出现-ea-子字符串的位置"}},[s._v("#")]),s._v(' (三)：搜索字符串"I have a dream"中出现"ea"子字符串的位置')]),s._v(" "),a("ul",[a("li",[s._v("命令如下")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("# 使用index\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'BEGIN{str="I have a dream";location=index(str,"ea");print location}\'')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("\n\n# 使用match\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'BEGIN{str="I have a dream";location=match(str,"ea");print location}\'')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"四-将-i-love-you-字符串转为小写"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四-将-i-love-you-字符串转为小写"}},[s._v("#")]),s._v(' (四)：将"I LOVE YOU"字符串转为小写')]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'BEGIN{str=\"I LOVE YOU\";print tolower(str)}'")]),s._v("\ni love you\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"五-将字符串-i-love-you-以空格切割-保存在arr数组中-再遍历数组-在awk中数组的下标从1开始"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五-将字符串-i-love-you-以空格切割-保存在arr数组中-再遍历数组-在awk中数组的下标从1开始"}},[s._v("#")]),s._v(' (五)：将字符串"I LOVE YOU"，以空格切割，保存在arr数组中, 再遍历数组(在awk中数组的下标从1开始)')]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'BEGIN{str="I LOVE YOU";split(str,arr," ");for(i in arr){print arr[i]}}\'')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("I")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LOVE")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("YOU")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"六-将字符串-i-love-7-7-love-1-中的数字换为"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六-将字符串-i-love-7-7-love-1-中的数字换为"}},[s._v("#")]),s._v(' (六)：将字符串"I LOVE 7 7 LOVE 1"中的数字换为#')]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'BEGIN{str="I LOVE 71 17 LOVE 10";gsub(/[0-9]+/,"#",str);print str}\'')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("I")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LOVE")]),s._v(" # # "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LOVE")]),s._v(" #\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"九-awk的常用选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#九-awk的常用选项"}},[s._v("#")]),s._v(" 九：awk的常用选项")]),s._v(" "),a("h3",{attrs:{id:"一-常用选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-常用选项"}},[s._v("#")]),s._v(" (一)：常用选项")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[s._v("选项")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("解释")])])]),s._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("strong",[a("code",[s._v("-v")])])]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("strong",[a("code",[s._v("参数传递")])])])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("-f")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("指定脚本文件")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("strong",[a("code",[s._v("-F")])])]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("strong",[a("code",[s._v("指定分隔符")])])])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("-V")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("查看awk的版本号")])])])]),s._v(" "),a("h3",{attrs:{id:"二-示例-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-示例-8"}},[s._v("#")]),s._v(" (二)：示例")]),s._v(" "),a("ul",[a("li",[s._v('awk中引用外部变量(-v选项)(由于var1是字符串，需要在awk中使用"")')])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# var1"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello world"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# var2"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$var1"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v number"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$var2  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'BEGIN{print file, number}'")]),s._v("\nhello world "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ul",[a("li",[s._v("awk中使用-F指定分隔符")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("# 以前是在"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BEGIN")]),s._v("中指定"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FS")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'BEGIN{FS=\":\"}{print $7}'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("passwd  \n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bash\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nologin\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nologin\n\n\n# 现在可以直接"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("F")]),s._v("指定分隔符\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# awk "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("F")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('":"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print $7}'")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("passwd \n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bash\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nologin\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nologin\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h3",{attrs:{id:"十-awk中的数组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#十-awk中的数组"}},[s._v("#")]),s._v(" 十：awk中的数组")]),s._v(" "),a("h3",{attrs:{id:"一-shell中的数组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-shell中的数组"}},[s._v("#")]),s._v(" (一)：shell中的数组")]),s._v(" "),a("ul",[a("li",[s._v("数组的取值")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# array"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Robby"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Marry"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Petter"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Mast"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# echo $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("array"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nRobby\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("获取数组的长度(在变量前面加上一个#号即可)")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("# 获取数组的长度\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# echo $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("#array"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n\n# 获取字符串的长度\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# str"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello world"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# echo $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("#str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("ul",[a("li",[s._v("获取一个元素的长度")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# echo "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"${#array[0]}"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("给数组中的元素赋值")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# array"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Leju"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# echo "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"${array[0]}"')]),s._v("\nLeju\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("删除数组中的元素和数组")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("# 删除元素\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# unset array"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# echo "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"${array[0]}"')]),s._v("\n\n# 清空数组\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# unset array\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# echo "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"${array[1]}"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("ul",[a("li",[s._v("数组的切片")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# echo "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"${array[*]:1:3}"')]),s._v("\nMarry Petter Mast\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("数组的遍历")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("# 写在脚本里面\n#"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bash\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" a "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("ls .")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n\techo $a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndone\n\n\n# 写成一行\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" a "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("ls .")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" echo $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" done\n\n# 删除当前所有的docker image\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" image "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("docker images | grep -v 'REPOSITORY'  | awk   'BEGIN{OFS=\":\"}{print $1,$2}'")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" docker image rm $image"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" done\n\n# 遍历数组\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" a "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("array"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" echo $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" done\nRobby\nMarry\nPetter\nMast\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("h3",{attrs:{id:"二-awk中的数组-这个非常重要"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-awk中的数组-这个非常重要"}},[s._v("#")]),s._v(" "),a("code",[s._v("(二)：awk中的数组")]),s._v("(这个非常重要)")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("统计服务器TCP连接的各个状态("),a("code",[s._v("这里的$6是状态类型，array[$6]++表示一个$6下标的元素就加1")]),s._v(")")])]),s._v(" "),a("li",[a("p",[s._v("这里的"),a("code",[s._v("for(a in array)")]),s._v("中，a表示下标，array[a]表示元素值")])])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@master "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# netstat "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("tan "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" awk "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/tcp/{array[$6]++}END{for(a in array){print a,array[a]}}'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LISTEN")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ESTABLISHED")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("34")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TIME_WAIT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"十一-awk在python中的使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#十一-awk在python中的使用"}},[s._v("#")]),s._v(" 十一：awk在Python中的使用")]),s._v(" "),a("h3",{attrs:{id:"一-python中awk的-与format格式化的-冲突"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-python中awk的-与format格式化的-冲突"}},[s._v("#")]),s._v(" (一)：python中awk的{}与format格式化的{}冲突")]),s._v(" "),a("ul",[a("li",[s._v("下面这段代码在解析awk的"),a("code",[s._v("{print $2}")]),s._v("会报错："),a("code",[s._v("KeyError: 'print $2'")]),s._v("，原因是因为："),a("code",[s._v("awk中的{}与format函数的{}冲突")])])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("subprocess"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"dpkg -l | awk '/ii/&&/{}/{print $2}' | cut -d: -f1\"")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'supervisor'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" shell"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("True"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" stdin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("subprocess"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PIPE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" stdout"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("subprocess"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PIPE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stdout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("strip")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("decode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("正确的写法如下，字符串格式化使用C语言风格，不使用format函数对字符串格式化")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("subprocess"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"dpkg -l | awk '/ii/&&/%s/{print $2}' | cut -d: -f1\"")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'supervisor'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" shell"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("True"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" stdin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("subprocess"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PIPE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" stdout"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("subprocess"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PIPE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stdout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("strip")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("decode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])}),[],!1,null,null,null);t.default=r.exports}}]);