(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{1642:function(s,a,t){s.exports=t.p+"assets/img/2021-12-3014.13.26.a9c6bc1f.png"},1643:function(s,a,t){s.exports=t.p+"assets/img/2021-12-3014.15.05.400e1c9c.png"},1644:function(s,a,t){s.exports=t.p+"assets/img/2021-12-3014.16.48.4957679c.png"},1645:function(s,a,t){s.exports=t.p+"assets/img/2021-12-3014.18.05.1d7245b3.png"},1646:function(s,a,t){s.exports=t.p+"assets/img/2021-12-3014.18.59.d90f7745.png"},2622:function(s,a,t){"use strict";t.r(a);var n=t(9),r=Object(n.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"一-mysql数据架构设计的几种基本模式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-mysql数据架构设计的几种基本模式"}},[s._v("#")]),s._v(" 一：MySQL数据架构设计的几种基本模式")]),s._v(" "),n("h3",{attrs:{id:"一-mariadb默认字符集"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-mariadb默认字符集"}},[s._v("#")]),s._v(" "),n("code",[s._v("(一) Mariadb默认字符集")])]),s._v(" "),n("ul",[n("li",[s._v("mariadb默认的字符集不是utf8, 因此，在数据库中插入中文的时候显示的是？？？？的乱码，在my.cnf配置文件中添加如下几个配置")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("client"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("character"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("set"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8\n\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysqld"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ncharacter"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("set"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("server"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8\ninit_connect"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'SET NAMES utf8'")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysql"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("character"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("set"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("ul",[n("li",[s._v("表名修改")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("rename table yhy1 to yhy2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"二-安装phpmyadmin"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二-安装phpmyadmin"}},[s._v("#")]),s._v(" "),n("code",[s._v("(二) 安装phpMyAdmin")])]),s._v(" "),n("ul",[n("li",[s._v("在centos 7上安装phpMyAdmin图形化工具")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("第一步：\n    安装服务：\n    yum install "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("y httpd php php"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("mysql mariadb"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("server\n    yum install "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("y php"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("mbstring php"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("mcrypt\n    编辑httpd的主配置文件"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 在DirectoryIndex 后面加上 index"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("php，为了让php页面作为首要文件被访问\n    DirectoryIndex index"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("php index"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("html\n\n第二步：\n    启动mariadb\n    运行 mysql_secure_installation 给root设置密码\n\n\n第三步：\n    cd "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("html\n    unzip phpMyAdmin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".10")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".20")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("all"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("languages"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("zip\n    ln "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("sv phpMyAdmin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".10")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".20")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("all"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("languages admin\n    cd admin\n    mv config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sample"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("inc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("php config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("inc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("php \n    vi config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("inc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("php， 修改如下配置\n        $cfg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'blowfish_secret'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a8b7c6d'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* User used to manipulate with storage */")]),s._v("\n         $cfg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Servers'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("$i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'controlhost'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n         $cfg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Servers'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("$i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'controluser'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n         $cfg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Servers'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("$i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'controlpass'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'123456'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n第四步：\n    启动服务\n    systemctl restart mariadb\n    systemctl restart httpd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("service\n\n第五步：\n    在浏览器访问\n    http"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".7")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".90")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("admin  \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br")])]),n("h3",{attrs:{id:"三-php以daemon方式独立运行"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三-php以daemon方式独立运行"}},[s._v("#")]),s._v(" "),n("code",[s._v("(三) PHP以daemon方式独立运行")])]),s._v(" "),n("ul",[n("li",[s._v("yum安装httpd和php-fpm")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("yum install "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("y httpd php"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("fpm php"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("mysql\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("确保在/etc/httpd/conf.modules.d/00-proxy.conf中httpd已经编译安装了proxy_fcgi_module模块，如果httpd使用中心主机，编辑/etc/httpd/conf.d/fastcgi.conf")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("# 指定默认的主页面为index"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("php\nDirectoryIndex index"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("php\n\n\n#关闭正向代理请求 \nProxyRequests "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OFF")]),s._v("\n\n\n# 通过fcgi协议将客户端的url 转发给php"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("fpm进程，$"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("为域名后面的存放在文件系统的php资源路径，这里使用"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),s._v("表明httpd和php"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("fpm必须安装在同一台主机上。\nProxyPassMatch "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\\"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("php"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("$ fcgi"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("html"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("$"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("ul",[n("li",[s._v("如果httpd使用虚拟主机，先删除/etc/httpd/conf.d/fastcgi.conf文件，再编辑/etc/httpd/conf.d/virtual_host.conf")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("DirectoryIndex index"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("php\n\n\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("VirtualHost "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    ServerName www"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com\n    DocumentRoot "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("app"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www\n    ProxyRequests Off\n    ProxyPassMatch "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\\"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("php"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("$ fcgi"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("app"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("$"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("          \n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Directory "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/app/www"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("          \n\n        Options FollowSymLinks\n        AllowOverride None\n        Require all granted\n\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Directory"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("VirtualHost"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("ul",[n("li",[s._v("注释中心主机")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("# DocumentRoot "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/www/html"')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("创建虚拟主机的站点目录，在创建一个php的首页文件")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("mkdir "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("pv "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("app"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www\n\nvi index"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("php\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("ul",[n("li",[s._v("如果是httpd和php-fpm不在同一台主机的话，那么需要修改 /etc/php-fpm.d/www.conf文件")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("# 修改监听的"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IP")]),s._v("为本机的所有的"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IP")]),s._v("\nlisten "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),s._v("\n\n# 注释允许的客户端\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("listen"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("allowed_clients "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"四-编译安装lamp架构-httpd、php、mysql发布在三台不同的主机独立运行"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#四-编译安装lamp架构-httpd、php、mysql发布在三台不同的主机独立运行"}},[s._v("#")]),s._v(" "),n("code",[s._v("(四) 编译安装LAMP架构（httpd、php、MySQL发布在三台不同的主机独立运行）")])]),s._v(" "),n("ul",[n("li",[s._v("编译安装httpd(192.168.23.8)")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("# "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("：安装包组\nyum groupinstall "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("y "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Development tools"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Server Platform Development"')]),s._v("\n\n\n# "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("：安装依赖开发包\nyum install pcre"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("devel apr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("devel apr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("util"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("devel openssl"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("devel \n\n\n# "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("：解压本地的httpd"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".25")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tar\ntar xf httpd"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".25")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tar \ncd httpd"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".25")]),s._v("\n\n\n# "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("：配置安装信息，生成make file"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" yum 安装的"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RPM")]),s._v("包一般都是在"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr目录下\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("configure "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("prefix"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("apache"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("sysconfdir"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("httpd"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("enable"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("so "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("enable"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ssl "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("enable"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("rewrite "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("enable"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("modules"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("most "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("enable"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("mpms"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("shared"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("all "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("zlib "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("pcre "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("apr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("apr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("util"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("mpm"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("prefork\n\n\n# "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("：编译安装\nmake "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("j "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" make install\n\n\n# "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("：制作软连接，便于版本管控\nln "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("sv "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("apache"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("apache\n\n\n# "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("：因为自带的Apache服务控制脚本：apachectl脚本在"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("apache"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("目录下，可以将这个目录添加到环境变量中，编辑 vi "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("profile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("httpd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sh "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 添加"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PATH")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("apache"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("$"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PATH")]),s._v("，那么启动的时候，就可以直接使用apachectl start\nvi "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("profile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("httpd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sh文件，添加如下代码\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PATH")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("apache"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("$"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PATH")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("profile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("httpd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sh\n\n\n# "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("：将头文件和库文件输出到默认的\nln "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("sv "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("apache"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("include "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("include"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("httpd\n\n\n# "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("：启动httpd2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\napachectl start\n\n\n# "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("：编写服务脚本实现 service httpd start 启动httpd \nvi "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("rc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("init"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("httpd"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),s._v(" 添加\n\n\n#"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bash\n#\n# network       Bring up"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("down networking\n#\n# chkconfig"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2345")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v("\n# description"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Activates"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Deactivates all network interfaces configured to \\\n#              start at boot time"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n#\n### "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BEGIN")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("INIT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("INFO")]),s._v("\n# Provides"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" $network\n# Should"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Start"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" iptables ip6tables NetworkManager"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("wait"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("online NetworkManager\n# Short"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Description"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Bring up"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("down networking\n# Description"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Bring up"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("down networking\n### "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("END")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("INIT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("INFO")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("rc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("init"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("functions\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sysconfig"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("httpd "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" then\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sysconfig"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("httpd\n    fi\n    "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTTPD_LANG")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTTPD_LANG")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"C"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("INITLOG_ARGS")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n    apachectl"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("apache"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("apachectl\n    httpd"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTTPD")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("apache"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("httpd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    prog"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("httpd\n    pidfile"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PIDFILE")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("apache"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("logs"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("httpd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("pid"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    lockfile"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LOCKFILE")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("lock"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("subsys"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("httpd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RETVAL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("STOP_TIMEOUT")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("STOP_TIMEOUT")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("start")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            echo "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("n $"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Starting $prog: "')]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LANG")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTTPD_LANG")]),s._v(" daemon "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("pidfile"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("pidfile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" $httpd $"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OPTIONS")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RETVAL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v("\n            echo\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" $"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RETVAL")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" touch $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("lockfile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" $"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RETVAL")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("stop")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            status "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("pidfile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" $httpd "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dev"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" $"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" then\n                    echo "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("n $"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Stopping $prog: "')]),s._v("\n                    killproc "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("pidfile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("STOP_TIMEOUT")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" $httpd\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n                    echo "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("n $"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Stopping $prog: "')]),s._v("\n                    success\n            fi\n            "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RETVAL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v("\n            echo\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" $"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RETVAL")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" rm "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("lockfile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("pidfile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("reload")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n        echo "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("n $"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Reloading $prog: "')]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LANG")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTTPD_LANG")]),s._v(" $httpd $"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OPTIONS")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("t "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dev"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" then\n\n            "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RETVAL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\n\n            echo $"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"not reloading due to configuration syntax error"')]),s._v("\n\n            failure $"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"not reloading $httpd due to configuration syntax error"')]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n\n            # Force "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LSB")]),s._v(" behaviour from killproc\n            "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LSB")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" killproc "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("pidfile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" $httpd "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HUP")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RETVAL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" $"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RETVAL")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("eq "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" then\n                failure $"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"httpd shutdown"')]),s._v("\n            fi\n        fi\n\n        echo\n\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$1"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("\n\n      start"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n            start\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n      stop"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n            stop\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n      status"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n            status "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("pidfile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" $httpd\n            "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RETVAL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n      restart"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n            stop\n            start\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n      condrestart"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("restart"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" status "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("pidfile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" $httpd "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dev"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" then\n                    stop\n                    start\n            fi\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n      force"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("reload"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("reload"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n            reload\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n      graceful"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("help"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("configtest"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("fullstatus"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n            $apachectl $@\n            "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RETVAL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n      "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n            echo $"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Usage: $prog {start|stop|restart|condrestart|try-restart|force-reload|reload|status|fullstatus|graceful|help|configtest}"')]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RETVAL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n\n    esac\n\n\n    exit $"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RETVAL")]),s._v("\n\n\n\n# "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("：让脚本可以被chkconfig管控\n\nchmod "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("x "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("rc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("init"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("httpd"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),s._v("\n\nchkconfig "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("add "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("rc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("init"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("httpd"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),s._v("\n\n\n# "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("：使用service重启服务\n\nservice httpd"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),s._v(" start\n\n\n# "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v("：编辑配置文件，配置虚拟主机，取消下面这个指令前面的注释\n\nInclude "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("httpd"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("extra"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("httpd"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vhosts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf\n\n\n# "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v("：编辑虚拟机配置文件\n\nvi "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("httpd"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("extra"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("httpd"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("vhosts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf 添加如下内容\n        ServerName www"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com\n        DocumentRoot "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("app"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www\n        ProxyRequests Off\n        ProxyPassMatch "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\\"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("php"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("$ fcgi"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".23")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".9")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("app"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("$"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/app/www"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n            Options FollowSymLinks\n            AllowOverride None\n            Require all granted\n    \n# "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v("：检测静态请求是否能够被httpd处理\n\nmkdir "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("pv "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("app"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www\n\nvi "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("app"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("index"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("html 添加如下内容    \n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"color: red"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("hello"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" i am "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" page\n\n# "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("：编辑主配置文件"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("httpd"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("httpd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 将下面两个模块启用，使得httpd可以转发动态请求给后端的php守护进程\n\nLoadModule proxy_module modules"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mod_proxy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("so\n\nLoadModule proxy_fcgi_module modules"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mod_proxy_fcgi"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("so\n\n\n# "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v("：检查下配置文件的语法是否错误\n\nhttpd "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("t \n\n\n# "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v("：重启httpd服务\n\nservice httpd"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),s._v(" restart\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br"),n("span",{staticClass:"line-number"},[s._v("99")]),n("br"),n("span",{staticClass:"line-number"},[s._v("100")]),n("br"),n("span",{staticClass:"line-number"},[s._v("101")]),n("br"),n("span",{staticClass:"line-number"},[s._v("102")]),n("br"),n("span",{staticClass:"line-number"},[s._v("103")]),n("br"),n("span",{staticClass:"line-number"},[s._v("104")]),n("br"),n("span",{staticClass:"line-number"},[s._v("105")]),n("br"),n("span",{staticClass:"line-number"},[s._v("106")]),n("br"),n("span",{staticClass:"line-number"},[s._v("107")]),n("br"),n("span",{staticClass:"line-number"},[s._v("108")]),n("br"),n("span",{staticClass:"line-number"},[s._v("109")]),n("br"),n("span",{staticClass:"line-number"},[s._v("110")]),n("br"),n("span",{staticClass:"line-number"},[s._v("111")]),n("br"),n("span",{staticClass:"line-number"},[s._v("112")]),n("br"),n("span",{staticClass:"line-number"},[s._v("113")]),n("br"),n("span",{staticClass:"line-number"},[s._v("114")]),n("br"),n("span",{staticClass:"line-number"},[s._v("115")]),n("br"),n("span",{staticClass:"line-number"},[s._v("116")]),n("br"),n("span",{staticClass:"line-number"},[s._v("117")]),n("br"),n("span",{staticClass:"line-number"},[s._v("118")]),n("br"),n("span",{staticClass:"line-number"},[s._v("119")]),n("br"),n("span",{staticClass:"line-number"},[s._v("120")]),n("br"),n("span",{staticClass:"line-number"},[s._v("121")]),n("br"),n("span",{staticClass:"line-number"},[s._v("122")]),n("br"),n("span",{staticClass:"line-number"},[s._v("123")]),n("br"),n("span",{staticClass:"line-number"},[s._v("124")]),n("br"),n("span",{staticClass:"line-number"},[s._v("125")]),n("br"),n("span",{staticClass:"line-number"},[s._v("126")]),n("br"),n("span",{staticClass:"line-number"},[s._v("127")]),n("br"),n("span",{staticClass:"line-number"},[s._v("128")]),n("br"),n("span",{staticClass:"line-number"},[s._v("129")]),n("br"),n("span",{staticClass:"line-number"},[s._v("130")]),n("br"),n("span",{staticClass:"line-number"},[s._v("131")]),n("br"),n("span",{staticClass:"line-number"},[s._v("132")]),n("br"),n("span",{staticClass:"line-number"},[s._v("133")]),n("br"),n("span",{staticClass:"line-number"},[s._v("134")]),n("br"),n("span",{staticClass:"line-number"},[s._v("135")]),n("br"),n("span",{staticClass:"line-number"},[s._v("136")]),n("br"),n("span",{staticClass:"line-number"},[s._v("137")]),n("br"),n("span",{staticClass:"line-number"},[s._v("138")]),n("br"),n("span",{staticClass:"line-number"},[s._v("139")]),n("br"),n("span",{staticClass:"line-number"},[s._v("140")]),n("br"),n("span",{staticClass:"line-number"},[s._v("141")]),n("br"),n("span",{staticClass:"line-number"},[s._v("142")]),n("br"),n("span",{staticClass:"line-number"},[s._v("143")]),n("br"),n("span",{staticClass:"line-number"},[s._v("144")]),n("br"),n("span",{staticClass:"line-number"},[s._v("145")]),n("br"),n("span",{staticClass:"line-number"},[s._v("146")]),n("br"),n("span",{staticClass:"line-number"},[s._v("147")]),n("br"),n("span",{staticClass:"line-number"},[s._v("148")]),n("br"),n("span",{staticClass:"line-number"},[s._v("149")]),n("br"),n("span",{staticClass:"line-number"},[s._v("150")]),n("br"),n("span",{staticClass:"line-number"},[s._v("151")]),n("br"),n("span",{staticClass:"line-number"},[s._v("152")]),n("br"),n("span",{staticClass:"line-number"},[s._v("153")]),n("br"),n("span",{staticClass:"line-number"},[s._v("154")]),n("br"),n("span",{staticClass:"line-number"},[s._v("155")]),n("br"),n("span",{staticClass:"line-number"},[s._v("156")]),n("br"),n("span",{staticClass:"line-number"},[s._v("157")]),n("br"),n("span",{staticClass:"line-number"},[s._v("158")]),n("br"),n("span",{staticClass:"line-number"},[s._v("159")]),n("br"),n("span",{staticClass:"line-number"},[s._v("160")]),n("br"),n("span",{staticClass:"line-number"},[s._v("161")]),n("br"),n("span",{staticClass:"line-number"},[s._v("162")]),n("br"),n("span",{staticClass:"line-number"},[s._v("163")]),n("br"),n("span",{staticClass:"line-number"},[s._v("164")]),n("br"),n("span",{staticClass:"line-number"},[s._v("165")]),n("br"),n("span",{staticClass:"line-number"},[s._v("166")]),n("br"),n("span",{staticClass:"line-number"},[s._v("167")]),n("br"),n("span",{staticClass:"line-number"},[s._v("168")]),n("br"),n("span",{staticClass:"line-number"},[s._v("169")]),n("br"),n("span",{staticClass:"line-number"},[s._v("170")]),n("br"),n("span",{staticClass:"line-number"},[s._v("171")]),n("br"),n("span",{staticClass:"line-number"},[s._v("172")]),n("br"),n("span",{staticClass:"line-number"},[s._v("173")]),n("br"),n("span",{staticClass:"line-number"},[s._v("174")]),n("br"),n("span",{staticClass:"line-number"},[s._v("175")]),n("br"),n("span",{staticClass:"line-number"},[s._v("176")]),n("br"),n("span",{staticClass:"line-number"},[s._v("177")]),n("br"),n("span",{staticClass:"line-number"},[s._v("178")]),n("br"),n("span",{staticClass:"line-number"},[s._v("179")]),n("br"),n("span",{staticClass:"line-number"},[s._v("180")]),n("br"),n("span",{staticClass:"line-number"},[s._v("181")]),n("br"),n("span",{staticClass:"line-number"},[s._v("182")]),n("br"),n("span",{staticClass:"line-number"},[s._v("183")]),n("br"),n("span",{staticClass:"line-number"},[s._v("184")]),n("br"),n("span",{staticClass:"line-number"},[s._v("185")]),n("br"),n("span",{staticClass:"line-number"},[s._v("186")]),n("br"),n("span",{staticClass:"line-number"},[s._v("187")]),n("br"),n("span",{staticClass:"line-number"},[s._v("188")]),n("br"),n("span",{staticClass:"line-number"},[s._v("189")]),n("br"),n("span",{staticClass:"line-number"},[s._v("190")]),n("br"),n("span",{staticClass:"line-number"},[s._v("191")]),n("br"),n("span",{staticClass:"line-number"},[s._v("192")]),n("br"),n("span",{staticClass:"line-number"},[s._v("193")]),n("br"),n("span",{staticClass:"line-number"},[s._v("194")]),n("br"),n("span",{staticClass:"line-number"},[s._v("195")]),n("br"),n("span",{staticClass:"line-number"},[s._v("196")]),n("br"),n("span",{staticClass:"line-number"},[s._v("197")]),n("br"),n("span",{staticClass:"line-number"},[s._v("198")]),n("br"),n("span",{staticClass:"line-number"},[s._v("199")]),n("br"),n("span",{staticClass:"line-number"},[s._v("200")]),n("br"),n("span",{staticClass:"line-number"},[s._v("201")]),n("br"),n("span",{staticClass:"line-number"},[s._v("202")]),n("br"),n("span",{staticClass:"line-number"},[s._v("203")]),n("br"),n("span",{staticClass:"line-number"},[s._v("204")]),n("br"),n("span",{staticClass:"line-number"},[s._v("205")]),n("br"),n("span",{staticClass:"line-number"},[s._v("206")]),n("br"),n("span",{staticClass:"line-number"},[s._v("207")]),n("br"),n("span",{staticClass:"line-number"},[s._v("208")]),n("br"),n("span",{staticClass:"line-number"},[s._v("209")]),n("br"),n("span",{staticClass:"line-number"},[s._v("210")]),n("br"),n("span",{staticClass:"line-number"},[s._v("211")]),n("br"),n("span",{staticClass:"line-number"},[s._v("212")]),n("br"),n("span",{staticClass:"line-number"},[s._v("213")]),n("br"),n("span",{staticClass:"line-number"},[s._v("214")]),n("br"),n("span",{staticClass:"line-number"},[s._v("215")]),n("br"),n("span",{staticClass:"line-number"},[s._v("216")]),n("br"),n("span",{staticClass:"line-number"},[s._v("217")]),n("br"),n("span",{staticClass:"line-number"},[s._v("218")]),n("br"),n("span",{staticClass:"line-number"},[s._v("219")]),n("br"),n("span",{staticClass:"line-number"},[s._v("220")]),n("br"),n("span",{staticClass:"line-number"},[s._v("221")]),n("br"),n("span",{staticClass:"line-number"},[s._v("222")]),n("br"),n("span",{staticClass:"line-number"},[s._v("223")]),n("br"),n("span",{staticClass:"line-number"},[s._v("224")]),n("br"),n("span",{staticClass:"line-number"},[s._v("225")]),n("br"),n("span",{staticClass:"line-number"},[s._v("226")]),n("br"),n("span",{staticClass:"line-number"},[s._v("227")]),n("br"),n("span",{staticClass:"line-number"},[s._v("228")]),n("br")])]),n("ul",[n("li",[s._v("编译安装PHP-5.4.26(192.168.23.9)")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1：安装包组")]),s._v("\n\nyum groupinstall -y "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Development tools"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Server Platform Development"')]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2：安装依赖开发包")]),s._v("\n\nyum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y libxml2-devel libmcrypt-devel bzip2-devel curl-devel openssl-devel pcre-devel\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3：解压php-5.4.26.tar.bz2")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xf php-5.4.26.tar.bz2 \n\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" php-5.4.26\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4：生成makefile文件")]),s._v("\n\n./configure --prefix"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/php5.4 --with-mysql"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysqlnd --with-openssl --with-mysqli"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysqlnd --with-pdo-mysql"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysqlnd --enable-mbstring --with-png-dir --with-jpeg-dir --with-freetype-dir --with-zlib --with-libxml-dir"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr --enable-xml --enable-sockets --enable-fpm --with-bz2 --with-curl --with-fpm-user"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("apache --with-fpm-group"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("apache\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 5：编译安装")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" -j "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" \n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 6：拷贝php.ini引擎到php的安装包")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -vs /usr/local/php5.4 /usr/local/php\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/profile.d/php.sh\n\n    "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/php/sbin:"),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" /etc/profile.d/php.sh\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" php.ini-production /usr/local/php/etc/php.ini\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /usr/local/php/etc/php-fpm.conf.default /usr/local/php/etc/php-fpm.conf\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 7：编辑php-fpm.conf")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /usr/local/php/etc/php-fpm.conf 修改配置如下\n\n    listen "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:9000\n\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("listen.allowed_clients "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这里要注意，可能需要让php进程有一个固定的pid文件，因此这里取消注释")]),s._v("\n\n    pid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" run/php-fpm.pid\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 8：在本地文件系统新建php站点目录 ")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -pv /app/www\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /app/www/index.php 添加php检查代码\n\n        \n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 9：对于重启和停止php-fpm服务 ")]),s._v("\n\n    （1）信号模式：\n\n        停止：kill -INT "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /usr/local/php/var/run/php-fpm.pid\n\n        重启：kill -USR2 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /usr/local/php/var/run/php-fpm.pid\n\n\n    （2）服务脚本模式（必须先确保在/usr/local/php/var/run/php-fpm.pid 中存在pid号） \n\n    "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /root/php-5.4.26\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" ./sapi/fpm/init.d.php-fpm /etc/init.d/php-fpm \n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x /etc/init.d/php-fpm\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("chkconfig")]),s._v(" --add php-fpm\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" php-fpm "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("start"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("stop"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("restart"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("reload"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 10：启动php-fpm")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" php-fpm start\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br")])]),n("ul",[n("li",[s._v("使用二进制程序包安装Mariadb")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("第一步：准备数据库目录\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -pv /mydata/data  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 所有的MySQL数据保存在这个目录下")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" -r mysql           "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果mysql用户存在就不要创建了")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R mysql.mysql /mydata/data  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 为了mysql能够向目录里面写数据，因此让mysql用户对数据目录具有读写权限")]),s._v("\n\n\n第二步：安装二进制程序包\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xf mariadb-5.5.54-linux-x86_64.tar -C /usr/local "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解压")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v("  /usr/local  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切入当前/usr/local")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -sv mariadb-5.5.54-linux-x86_64 mysql  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 制作软连接")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/mysql  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切入mysql二进制程序")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R root:mysql ./*  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改属主和属组")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" support-files/my-large.cnf /etc/my.cnf  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拷贝配置文件")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/my.cnf 在mysqld下面添加如下指令  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 编辑配置文件")]),s._v("\n\n        datadir "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /mydata/data\n\n        innodb_file_per_table "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ON\n\n        skip_name_resolve "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ON  \n\n    scripts/mysql_install_db --user"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql --datadir"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/mydata/data "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 初始化数据库")]),s._v("\n\n    ll /mydata/data  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看数据目录是否有数据")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" support-files/mysql.server /etc/rc.d/init.d/mysqld  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拷贝服务启动文件")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("chkconfig")]),s._v(" --add mysqld   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使mysqld服务被chkconfig管控 ")]),s._v("\n\n\n第三步：启动服务\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" mysqld start\n\n\n第四步：将程序路径添加到环境变量\n\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/profile.d/mysqld.sh  \n\n        "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/mysql/bin:"),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" /etc/profile.d/mysqld.sh  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行脚本")]),s._v("\n\n\n第五步：让root用户可以远程登入\n\n    mysql_secure_installation  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行安全程序")]),s._v("\n\n\n第六步：给root用户授权远程可以登入\n\n    mysql -p123456\n\n    update mysql.user "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'192.168.23.%'")]),s._v(" where "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'::1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    flush privileges"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br")])]),n("h3",{attrs:{id:"五-mysql-编译安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#五-mysql-编译安装"}},[s._v("#")]),s._v(" "),n("code",[s._v("(五) MySQL 编译安装")])]),s._v(" "),n("ul",[n("li",[n("p",[s._v("1：先定义语言环境")]),s._v(" "),n("ul",[n("li",[s._v("localectl list-locales 列出当前可以使用的语言环境")]),s._v(" "),n("li",[s._v("localectl set-locale LANG=en_US.UTF-8 定义语言环境")]),s._v(" "),n("li",[s._v("退出，重新登入一次")])])]),s._v(" "),n("li",[n("p",[s._v("2：准备开发环境")]),s._v(" "),n("ul",[n("li",[s._v("yum groupinstall 'development tools' 'Server Platform Development'")]),s._v(" "),n("li",[s._v("yum install -y ncurses-devel openssl-devel libevent-devel jemalloc-devel cmake")])])]),s._v(" "),n("li",[n("p",[s._v("3：下载mariadb的源码包，解压之后")])])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v(" # 编译\n cmake "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DCMAKE_INSTALL_PREFIX")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mariadb"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.5")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".44")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DMYSQL_DATADIR")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("data"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DSYSCONFDIR")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DWITH_INNOBASE_STORAGE_ENGINE")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DWITH_ARCHIVE_STORAGE_ENGINE")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DWITH_BLACKHOLE_STORAGE_ENGINE")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DWITH_READLINE")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DWITH_SSL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("system "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DWITH_ZLIB")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("system "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DWITH_LIBWRAP")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DMYSQL_UNIX_ADDR")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tmp"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sock "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DDEFAULT_CHARSET")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DDEFAULT_COLLATION")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8_general_ci\n\n # 安装\n make "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("j "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" make install\n\n # 创建连接文件\n ln "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("sv "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mariadb"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.5")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".44")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("ul",[n("li",[s._v("创建unit file 文件 /usr/lib/systemd/system/mariadb.service")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("# Don't forget to reload systemd daemon after you change unit configuration"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n\n# root"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" systemctl "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("system daemon"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("reload\n\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unit"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\nDescription"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("MariaDB database server\n\nAfter"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("syslog"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("target\n\nAfter"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("network"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("target\n\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Service"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\nType"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("simple\n\nUser"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql\n\nGroup"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql\n\n\n# 下面这一项是指明启动mariadb服务之前的配置阶段（不知道是干什么的）\n\n# ExecStartPre"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("libexec"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mariadb"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("prepare"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("db"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("dir "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("n\n\n\n# Note"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" we set "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("basedir to prevent probes that might trigger SELinux alarms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n# per bug #"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("547485")]),s._v("\n\n# 下面这一项是指明启动mariadb的程序路径，且指明安装路径，因此需要将"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RPM")]),s._v("包的默认安装路径修改为源码包的指定安装路径\n\n# 需要注意的是这里的"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql是连接文件的连接，因此编译安装mariadb之后需要把安装路径连接至"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql\n\n# ExecStart"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysqld_safe "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("basedir"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr\n\nExecStart"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysqld_safe "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("basedir"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql\n\n\n# 下面这一项是指明启动mariadb服务之后的配置阶段（不知道是干什么的）\n\n#ExecStartPost"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("libexec"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mariadb"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("wait"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ready $"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("MAINPID")]),s._v("\n\n\n# Give a reasonable amount "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("of")]),s._v(" time "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" the server to start up"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("shut down\n\n# 指定mariadb启动的超时时长\n\nTimeoutSec"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),s._v("\n\n\n# Place temp files "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" a secure directory"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" not "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tmp\n\n# 下面这项是说，是否启用公共的临时目录，由于编译的时候定义sock文件保存的位置在"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tmp目录下面，因此，我们需要将"),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("改为"),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n\n# 因为"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RPM")]),s._v("包安装的Mariadb的sock文件默认保存在"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("lib"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sock，数据库保存在"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("lib"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql目录下，因此这里需要改为"),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n\nPrivateTmp"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n\n\n# 下面这一项表示当我们使用systemctl enable mariadb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("service 的时候，就会在"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("systemd"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("system"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("multi"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("user"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("wants"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mariadb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("service创建一个链接文件，实现开机自启动\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Install"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nWantedBy"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("multi"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("user"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("target\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br")])]),n("ul",[n("li",[s._v("5：并且重新让系统读取unit file文件")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("systemctl daemon"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("reload\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("6：创建数据库文件目录，并且修改其属主和属组，拷贝配置文件到/etc/my.cnf, 在配置文件中添加datadir = /data/mysql ，初始化数据库文件目录")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("mkdir "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("pv "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("data"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql \n\nchown "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("R")]),s._v(" mysql"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mysql "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("data"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n\ncp "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("support"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("files"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("my"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("large"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cnf  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("my"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cnf\n\n编辑 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("my"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cnf 文件，加入 \n    datadir "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("data"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql \n    skip_name_resolve "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ON")]),s._v(" \n    innodb_file_per_table "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ON")]),s._v("\n\ncd "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql\n\nchown "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("R")]),s._v(" root"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mysql "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n\nscripts/mysql_install_db --user=mysql --datadir=/data/mysql \n\nsystemctl start mariadb.service\n")])])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("h3",{attrs:{id:"五-主键、唯一键、外键-以及-一对一查询-一对多查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#五-主键、唯一键、外键-以及-一对一查询-一对多查询"}},[s._v("#")]),s._v(" "),n("code",[s._v("(五) 主键、唯一键、外键 以及 一对一查询，一对多查询")])]),s._v(" "),n("ul",[n("li",[s._v("概念")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 什么叫键\n\n    数据库中的键（key）又称为关键字，是关系模型中的一个重要概念，它是逻辑结构，不是数据库的物理部分。\n\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("：唯一键\n\n    唯一键，即一个或者一组列，其中没有重复的记录。可以唯一标示一条记录。\n\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("：主键\n\n    属于唯一键，是一个比较特殊的唯一键。区别在于主键不可为空。\n\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("：外键\n\n    一张表外键的值一般来说是另一张表主键的值。因此，外键的存在使得表与表之间可以联系起来\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("ul",[n("li",[s._v("如何创建主键、唯一键")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("第一种方式：\n    create table "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yhy")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id int not "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),s._v(" primary key "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("name "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("250")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" unique key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" age int"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n第二种方式：这里同时也给大家演示了如何将多个字段合并起来创建一个键\n    create table "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yhy")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id int"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("250")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" age int"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" primary "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("key")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unique "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("key")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" age"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("ul",[n("li",[s._v("如何创建外键")])]),s._v(" "),n("p",[n("img",{attrs:{src:t(1642),alt:"如何创建外键"}})]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("先搞清楚几个概念，如果概念不搞清楚，请先不要动手\n    （"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("）给一张表创建外键的时候，必须要保证外键的值已经存在了。也就是说，一张表如果拥有外键，通常将其称为从表，而外键引用的那种表通常称为主表\n    （"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("）那么，现在我们就搞清楚了什么是主表，什么是从表了。就像上图所示，person表叫做从表，part表叫做主表。因为person表中的part_id字段的值来自于part表中的nid字段的值\n    （"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("）从表面上来看，有foreign key的表就叫从表，有primary key的表就叫主表\n    （"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("）那么在创建表的时候，必须先创建主表，再创建从表\n    （"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("）那么在删除表的时候，必须先删除从表，再删除主表\n    \n    \n    \n（"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("）创建主表和从表\n    create table "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("part")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nid int"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" caption "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("250")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" primary "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("key")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nid"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    create table "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("person")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nid int"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("250")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" email "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("250")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" extra "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("250")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" part_id int"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" foreign "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("key")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("part_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" references "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("part")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nid"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n（"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("）删除主表和从表\n    drop table person"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    drop table part"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("ul",[n("li",[s._v("在搞懂了如何创建主表和从表之后，我们再来搞一搞如何创建多张主表，一张从表的模型")])]),s._v(" "),n("p",[n("img",{attrs:{src:t(1643),alt:"主表和从表"}})]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("思路：先创建主表，再创建从表\n    create table "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("woman")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id int"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("250")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" primary "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("key")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    create table "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("man")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id int"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("varchar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("250")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" primary "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("key")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    create table "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("man_to_woman")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nid int"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" man_id int"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" woman_id int"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" foreign "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("key")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("man_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" references "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("man")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" foreign "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("key")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("woman_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" references "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("woman")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("ul",[n("li",[s._v("在搞懂如何创建主从表的基础上，现在我们试着开始给已经创建的表插入数据")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("思路：先给主表插入数据，再给从表插入数据，\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("：如何给part表、person表插入数据\n    insert into part "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("values")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'运维开发'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'HTML5全栈'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'python全栈'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'IOS移动端开发'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    insert into person "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("values")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'nike'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jason'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'robbie'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'marry'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jack'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("ul",[n("li",[s._v("part表、person表内容如下")])]),s._v(" "),n("p",[n("img",{attrs:{src:t(1644),alt:"内容如下"}})]),s._v(" "),n("ul",[n("li",[s._v("给woman表、man表、man_to_woman表插入数据，数据内容如下")])]),s._v(" "),n("p",[n("img",{attrs:{src:t(1645),alt:"内容如下"}})]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("insert into man "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("values")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'白子画'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'檀梵'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'太子'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ninsert into woman "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("values")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'花千骨'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'紫熏'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'秋水'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ninsert into man_to_woman "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("values")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("ul",[n("li",[s._v("效果展示")])]),s._v(" "),n("p",[n("img",{attrs:{src:t(1646),alt:"内容如下"}})]),s._v(" "),n("ul",[n("li",[s._v("连表查询")])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("一对一连接查询：找到部门为"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTML5")]),s._v("全栈的所有人的姓名\nselect person"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" part"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("caption from person left join part on person"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("part_id"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("part"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nid where part"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("caption"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'HTML5全栈'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n一对多连接查询：找到与太子有关系的所有的女人\nselect woman"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name from man_to_woman\nleft join man on man"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("man_to_woman"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("man_id\nleft join woman on woman"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("man_to_woman"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("woman_id\nwhere man"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'太子'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);