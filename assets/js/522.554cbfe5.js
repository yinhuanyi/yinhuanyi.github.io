(window.webpackJsonp=window.webpackJsonp||[]).push([[522],{2498:function(s,a,n){"use strict";n.r(a);var e=n(9),t=Object(e.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"一-项目打包流程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-项目打包流程"}},[s._v("#")]),s._v(" 一：项目打包流程")]),s._v(" "),n("h3",{attrs:{id:"一-一个简单发布的流程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-一个简单发布的流程"}},[s._v("#")]),s._v(" （一）一个简单发布的流程")]),s._v(" "),n("ul",[n("li",[s._v("在"),n("code",[s._v("package.json文件中")]),s._v("，有两个打包状态，其中stage对标"),n("code",[s._v("测试环境")]),s._v("，prod对标"),n("code",[s._v("生产环境")])])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('"build:prod": "vue-cli-service build",\n"build:stage": "vue-cli-service build --mode staging",\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("ul",[n("li",[n("p",[n("code",[s._v("生产环境")]),s._v("的配置文件是"),n("code",[s._v(".env.production")]),s._v("，开发环境的配置文件是"),n("code",[s._v(".env.development")])])]),s._v(" "),n("li",[n("p",[s._v("修改静态文件路径，编辑"),n("code",[s._v("vue.config.js文件")]),s._v("，修改publicPath为")])])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("publicPath: '.',\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("将项目打包")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("npm run build:prod\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("配置Nginx服务器，使用vhost，解析域名的方式访问前端项目")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('server {\n    charset utf-8;\n    listen  8089;\n    server_name http_host;\n    root /Users/Robby/Yinhuanyi_Project/Golang/book/data/upload;\n    autoindex on;\n    add_header Cache-Control "no-cache, must-revalidate";\n    location / {\n        add_header Access-Control-Allow-Origin *;\n    }\n}\n\nserver {\n    listen  443 ssl;\n    server_name https_host;\n    root /Users/Robby/Yinhuanyi_Project/Golang/book/data/upload;\n    autoindex on;\n    add_header Cache-Control "no-cache, must-revalidate";\n    location / {\n        add_header Access-Control-Allow-Origin *;\n    }\n    ssl_certificate       /usr/local/etc/nginx/ssl/upload.yhyblog.cn.pem;\n    ssl_certificate_key   /usr/local/etc/nginx/ssl/upload.yhyblog.cn.key;\n    ssl_session_timeout   5m;\n\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);