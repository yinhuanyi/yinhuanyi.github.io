(window.webpackJsonp=window.webpackJsonp||[]).push([[631],{2712:function(e,s,a){"use strict";a.r(s);var l=a(9),t=Object(l.a)({},(function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h3",{attrs:{id:"一-volume的数据持久化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-volume的数据持久化"}},[e._v("#")]),e._v(" 一：Volume的数据持久化")]),e._v(" "),a("h3",{attrs:{id:"一-在dockerfile指定的volume-能够在宿主机的文件系统上生成一个随机的挂载点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-在dockerfile指定的volume-能够在宿主机的文件系统上生成一个随机的挂载点"}},[e._v("#")]),e._v(" (一)：在dockerfile指定的VOLUME, 能够在宿主机的文件系统上生成一个随机的挂载点")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("# 映射到宿主机的/var/lib/docker/volumes/dkhfvdladnlfjkdnlknflkfnlkdfnlvdkf/_data目录\nVOLUME /var/lib/mysql\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("ul",[a("li",[e._v("可以通过如下命令查看映射的地址")])]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("docker volume ls\n\ndocker volume inspect dkhfvdladnlfjkdnlknflkfnlkdfnlvdkf (这个是volume的hash名称)\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("h3",{attrs:{id:"二-可以在docker-run的时候-指定-v-参数-给volume取一个名称"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-可以在docker-run的时候-指定-v-参数-给volume取一个名称"}},[e._v("#")]),e._v(" (二)：可以在docker run的时候，指定 -v 参数，给volume取一个名称")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("docker run -d --rm -v mysql:/var/lib/mysql --name test1 mysql\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("ul",[a("li",[e._v("下次创建test2容器的时候，可以挂载mysql这个volume")])]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("docker run -d --rm -v mysql:/var/lib/mysql --name test2 mysql\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("h3",{attrs:{id:"二-volume的bind-mouting"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-volume的bind-mouting"}},[e._v("#")]),e._v(" 二：Volume的Bind Mouting")]),e._v(" "),a("ul",[a("li",[e._v("这里的Bind Mouting，其实就是在docker run 的时候，将宿主机的目录挂载到/var/lib/mysql中，实现数据的持久化")])]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("docker run -d --rm -v /data:/app --name test2 django\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("ul",[a("li",[a("p",[e._v("这里就可以使得在开发过程中，直接修改/data目录的代码，不需要重启docker容器，Django的应用程序会直接变化")])]),e._v(" "),a("li",[a("p",[a("strong",[a("code",[e._v("但是这里有一个问题，就是如何基于IDE调试代码呢？")])])])])])])}),[],!1,null,null,null);s.default=t.exports}}]);