(window.webpackJsonp=window.webpackJsonp||[]).push([[348],{2183:function(s,a,n){"use strict";n.r(a);var e=n(9),t=Object(e.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"一-导入第三方包"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-导入第三方包"}},[s._v("#")]),s._v(" 一：导入第三方包")]),s._v(" "),n("h3",{attrs:{id:"一-导入第三方包-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-导入第三方包-2"}},[s._v("#")]),s._v(" (一)：导入第三方包")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("1：建立项目的时候，选择【go modules】创建项目，并且填写好https://goproxy.cn")])]),s._v(" "),n("li",[n("p",[s._v("2："),n("code",[s._v("在项目的【reference>tools>watchers中】选择【go fmt】和【goimports】")]),s._v("方便在项目中自动导入依赖和格式化代码。使用第三方包时候（这里如果是拷贝源代码进来，goimports会自动在imports中加入依赖，并且在go.mod文件中加入对应的依赖版本），在go.mod文件中加入依赖包地址，然后在命令行使用：go mod tidy，下载依赖包")])])]),s._v(" "),n("h2",{attrs:{id:"二-导入git私有包"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二-导入git私有包"}},[s._v("#")]),s._v(" 二：导入git私有包")]),s._v(" "),n("h3",{attrs:{id:"一-添加go-proxy"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-添加go-proxy"}},[s._v("#")]),s._v(" (一)：添加go proxy")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('# direct 表示代理走不通时，使用直接连接\ngo env -w GOPROXY="https://goproxy.cn,direct"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"二-设置私有库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二-设置私有库"}},[s._v("#")]),s._v(" (二)：设置私有库")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('# go env -w GOPRIVATE="gitee.com/ipfsmain-*"\ngo env -w GOPRIVATE="github.com/myprivate/*,gitlab.ce/*"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"三-设置默认的账户密码-避免重复输入账户密码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三-设置默认的账户密码-避免重复输入账户密码"}},[s._v("#")]),s._v(" (三)：设置默认的账户密码，避免重复输入账户密码")]),s._v(" "),n("ul",[n("li",[s._v("go 1.13.3及之后的版本，则可以在用户的家目录下编辑.netrc文件（这玩意也可以用来保存github的账号密码，避免每次都要输入账号密码），没有则创建，输入以下文本，并保存")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("machine gitlab.mydomain\nlogin username \npassword mypassword\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h2",{attrs:{id:"三-导入本地包"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三-导入本地包"}},[s._v("#")]),s._v(" 三：导入本地包")]),s._v(" "),n("ul",[n("li",[s._v("这里介绍的导入本地包有三种体现形式")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1：本地包中没有go.mod，也就是说，此包不是一个go module\n\n2：本地包中有go.mod，go.mod中定义的module名称不是一个互联网地址\n\n3：本地包中有go.mod，go.mod中定义的module名称是一个互联网地址\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"一-本地包中没有go-mod"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-本地包中没有go-mod"}},[s._v("#")]),s._v(" (一)：本地包中没有go.mod")]),s._v(" "),n("ul",[n("li",[s._v("项目结构如下（此时mypackage包中没有go.mod，不是一个module）")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("├── go.mod\n├── main.go\n└── mypackage\n    └── mypackage.go\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("ul",[n("li",[s._v("main.go中的代码")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('package  main\n\nimport "mytestbendibao/mypackage"\n\nfunc main() {\n\tmypackage.Add()\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h3",{attrs:{id:"二-本地包中有go-mod-go-mod中定义的module名称不是一个互联网地址"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二-本地包中有go-mod-go-mod中定义的module名称不是一个互联网地址"}},[s._v("#")]),s._v(" (二)：本地包中有go.mod，go.mod中定义的module名称不是一个互联网地址")]),s._v(" "),n("ul",[n("li",[s._v("项目结构如下（此时mypackage包中有go.mod，是一个module）")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v(".\n├── go.mod\n├── moduledemo\n│   ├── go.mod\n│   └── main.go\n└── mypackage\n    ├── go.mod\n    └── mypackage.go\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("ul",[n("li",[s._v("mypackage/go.mod代码如下")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('module "mypackage"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("mypackage/mypackage.go代码如下")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('package mypackage\n\nimport "fmt"\n\nfunc New(){\n\tfmt.Println("mypackage.New")\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("ul",[n("li",[s._v("moduledemo/go.mod代码如下")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("module moduledemo\n\ngo 1.14\n\n// 2：由于导入的包都需要版本号，这里不是从互联网导入的，不会自动填写版本号，因此需要指定一个\nrequire mypackage v1.0.0\n\n// 1：导入module，这个module是在本地的，因此需要先找到其路径，就像从互联网导入的包一样\nreplace mypackage => ../mypackage\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("ul",[n("li",[s._v("moduledemo/main.go代码如下")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('package main\n\n\nimport (\n\t"fmt"\n\t"mypackage"\n)\nfunc main() {\n\tmypackage.New()\n\tfmt.Println("main")\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("h3",{attrs:{id:"三-本地包中有go-mod-go-mod中定义的module名称是一个互联网地址"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三-本地包中有go-mod-go-mod中定义的module名称是一个互联网地址"}},[s._v("#")]),s._v(" (三)：本地包中有go.mod，go.mod中定义的module名称是一个互联网地址")]),s._v(" "),n("ul",[n("li",[s._v("项目结构如下（此时mypackage包中有go.mod，是一个module，module名称是一个互联网地址）")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("├── go.mod\n├── p1\n│   ├── go.mod\n│   └── main.go\n└── p2\n    ├── go.mod\n    └── p2.go\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("ul",[n("li",[s._v("p2/go.mod代码如下")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("// 这个module名称是一个互联网地址\nmodule ipfsmain.com/robby/p2\n\ngo 1.14\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("ul",[n("li",[s._v("p2/p2.go代码如下")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('package p2\n\nimport "fmt"\n\nfunc New(){\n\tfmt.Println("mypackage.New")\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("ul",[n("li",[s._v("p1/go.mod代码如下，这里的module名称是一个互联网地址")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("module bendibao2\n\ngo 1.14\n\n// 指定module的版本号\nrequire ipfsmain.com/robby/p2 v1.0.0\n\n// 找module\nreplace ipfsmain.com/robby/p2 => ../p2\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("ul",[n("li",[s._v("p1/main.go代码如下")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('package main\n\n\nimport (\n\t"fmt"\n\t"ipfsmain.com/robby/p2"\n)\nfunc main() {\n\tp2.New()\n\tfmt.Println("main")\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("h3",{attrs:{id:"三-go-run-和-go-build-和-go-install-命令区别"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三-go-run-和-go-build-和-go-install-命令区别"}},[s._v("#")]),s._v(" (三)：go run 和 go build 和 go install 命令区别")]),s._v(" "),n("ul",[n("li",[s._v("go run")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("\tgo run 编译并直接运行程序，直接命令行输出结果，会产生一个临时文件，但是会在程序执行完毕之后删除\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("go build")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("\tgo build 用于测试编译包，主要检查是否会有编译错误，如果是一个可执行文件的源码（即是 main 包），就会在当前目录直接生成一个可执行文件\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("go install")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("\tgo install 的作用有两步：\n　　　　第一步是编译导入的包文件，所有导入的包文件编译完才会编译主程序\n　　　　第二步是将编译后生成的可执行文件放到 bin 目录下（$GOPATH/bin），编译后的包文件放到 pkg 目录下（$GOPATH/pkg）。（$GOPATH为Go的工作目录）\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);