(window.webpackJsonp=window.webpackJsonp||[]).push([[244],{2221:function(s,n,a){"use strict";a.r(n);var e=a(9),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"一-go-redis介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一-go-redis介绍"}},[s._v("#")]),s._v(" 一：go-redis介绍")]),s._v(" "),e("h3",{attrs:{id:"一-redis概念"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一-redis概念"}},[s._v("#")]),s._v(" (一)：Redis概念")]),s._v(" "),e("p",[e("img",{attrs:{src:a(743),alt:"Alt text"}})]),s._v(" "),e("ul",[e("li",[s._v("Redis支持的数据结构 (依然还是前面5中数据结构用的多)")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1：字符串（strings）\n2：哈希表（hashes）\n3：列表（lists）\n4：集合（sets）\n5：排序集合(zset)\n6：位图（bitmaps）\n7：hyperloglogs\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("ul",[e("li",[s._v("具备的功能")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("内置复制、Lua脚本、LRU收回、事务以及不同级别磁盘持久化功能\n\n同时通过Redis Sentinel提供高可用，通过Redis Cluster提供自动分区\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("ul",[e("li",[s._v("Redis应用场景")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1：缓存系统，减轻主数据库（MySQL）的压力\n\n2：计数场景，比如微博、抖音中的关注数和粉丝数\n\n3：热门排行榜，需要排序的场景特别适合使用ZSET\n\n4：利用LIST可以实现队列的功能\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h3",{attrs:{id:"二-go-redis库安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二-go-redis库安装"}},[s._v("#")]),s._v(" (二)：go-redis库安装")]),s._v(" "),e("ul",[e("li",[s._v("安装")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("go get -u github.com/go-redis/redis\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"三-连接redis单节点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三-连接redis单节点"}},[s._v("#")]),s._v(" (三)：连接Redis单节点")]),s._v(" "),e("ul",[e("li",[s._v("V8之前的版本，操作Redis不需要传递context上下文参数")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('// 声明一个全局的rdb变量\nvar client *redis.Client\n\n// 初始化连接\nfunc Init(cfg *settings.RedisConfig) (err error) {\n\n\tclient = redis.NewClient(&redis.Options{\n\t\tAddr:     fmt.Sprintf("%s:%d", cfg.Host, cfg.Port),\n\t\tPassword: cfg.Password,\n\t\tDB:       cfg.Db,\n\t\tPoolSize: cfg.PoolSize,\n\t})\n\n\t_, err = client.Ping().Result()\n\tif err != nil {\n\t\tlog.Fatalf("Redis连接失败: %v\\n", err)\n\t}\n\n\treturn nil\n}\n\nfunc Close() {\n\t_ = client.Close()\n}\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br")])]),e("ul",[e("li",[s._v("V8之后的版本，操作Redis需要传递context上下文参数")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('package main\n\nimport (\n\t"context"\n\t"fmt"\n\t"time"\n\n\t"github.com/go-redis/redis/v8" // 注意导入的是新版本\n)\n\nvar (\n\trdb *redis.Client\n)\n\n// 初始化连接\nfunc initClient() (err error) {\n\trdb = redis.NewClient(&redis.Options{\n\t\tAddr:     "localhost:16379",\n\t\tPassword: "",  // no password set\n\t\tDB:       0,   // use default DB\n\t\tPoolSize: 100, // 连接池大小\n\t})\n\n\tctx, cancel := context.WithTimeout(context.Background(), 5*time.Second)\n\tdefer cancel()\n\t\n\t// 对Redis的操作都需要传递ctx参数\n\t_, err = rdb.Ping(ctx).Result()\n\treturn err\n}\n\n\n\n// 包括对Redis的数据类型的CRUD操作都需要传递ctx参数\nctx := context.Background()\nif err := initClient(); err != nil {\n\treturn\n}\n\nerr := rdb.Set(ctx, "key", "value", 0).Err()\nif err != nil {\n\tpanic(err)\n}\n\nval, err := rdb.Get(ctx, "key").Result()\nif err != nil {\n\tpanic(err)\n}\nfmt.Println("key", val)\n\nval2, err := rdb.Get(ctx, "key2").Result()\nif err == redis.Nil {\n\tfmt.Println("key2 does not exist")\n} else if err != nil {\n\tpanic(err)\n} else {\n\tfmt.Println("key2", val2)\n}\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br"),e("span",{staticClass:"line-number"},[s._v("40")]),e("br"),e("span",{staticClass:"line-number"},[s._v("41")]),e("br"),e("span",{staticClass:"line-number"},[s._v("42")]),e("br"),e("span",{staticClass:"line-number"},[s._v("43")]),e("br"),e("span",{staticClass:"line-number"},[s._v("44")]),e("br"),e("span",{staticClass:"line-number"},[s._v("45")]),e("br"),e("span",{staticClass:"line-number"},[s._v("46")]),e("br"),e("span",{staticClass:"line-number"},[s._v("47")]),e("br"),e("span",{staticClass:"line-number"},[s._v("48")]),e("br"),e("span",{staticClass:"line-number"},[s._v("49")]),e("br"),e("span",{staticClass:"line-number"},[s._v("50")]),e("br"),e("span",{staticClass:"line-number"},[s._v("51")]),e("br"),e("span",{staticClass:"line-number"},[s._v("52")]),e("br"),e("span",{staticClass:"line-number"},[s._v("53")]),e("br"),e("span",{staticClass:"line-number"},[s._v("54")]),e("br"),e("span",{staticClass:"line-number"},[s._v("55")]),e("br"),e("span",{staticClass:"line-number"},[s._v("56")]),e("br"),e("span",{staticClass:"line-number"},[s._v("57")]),e("br"),e("span",{staticClass:"line-number"},[s._v("58")]),e("br")])]),e("h3",{attrs:{id:"四-连接redis哨兵模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四-连接redis哨兵模式"}},[s._v("#")]),s._v(" (四)：连接Redis哨兵模式")]),s._v(" "),e("ul",[e("li",[s._v("Redis的sentinel模式类似于主从模式，但是不是master-slave模式")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('func initClient()(err error){\n\trdb := redis.NewFailoverClient(&redis.FailoverOptions{\n\t\tMasterName:    "master",\n\t\tSentinelAddrs: []string{"x.x.x.x:26379", "xx.xx.xx.xx:26379", "xxx.xxx.xxx.xxx:26379"},\n\t})\n\t_, err = rdb.Ping().Result()\n\tif err != nil {\n\t\treturn err\n\t}\n\treturn nil\n}\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("h3",{attrs:{id:"五-连接redis集群模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#五-连接redis集群模式"}},[s._v("#")]),s._v(" (五)：连接Redis集群模式")]),s._v(" "),e("ul",[e("li",[s._v("Redis在3.0版本以后，新增了Redis集群模式")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('func initClient() (err error) {\n\trdb := redis.NewClusterClient(&redis.ClusterOptions{\n\t\tAddrs: []string{"127.0.0.1:7000", "127.0.0.1:7001", "127.0.0.1:7002", "127.0.0.1:7003", "127.0.0.1:7004", "127.0.0.1:7005"},\n\t})\n\t_, err = rdb.Ping().Result()\n\tif err != nil {\n\t\treturn err\n\t}\n\treturn nil\n}\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("h2",{attrs:{id:"二-redis的命令列表-参考文档"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二-redis的命令列表-参考文档"}},[s._v("#")]),s._v(" 二：Redis的命令列表 "),e("a",{attrs:{href:"https://www.redis.net.cn/order/",target:"_blank",rel:"noopener noreferrer"}},[s._v("参考文档"),e("OutboundLink")],1)]),s._v(" "),e("h3",{attrs:{id:"一-键-key-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一-键-key-命令"}},[s._v("#")]),s._v(" (一)：键(key) 命令")]),s._v(" "),e("ul",[e("li",[s._v("在key的命令主要是在命令行对key的临时查看，修改等操作")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1：Type：返回 key 所储存的值的类型\n\n2：Pexpireat：设置 key 的过期时间以毫秒计\n\n3：Pexpireat：设置 key 过期时间的时间戳(unix timestamp) 以毫秒计\n\n4：Rename：修改 key 的名称\n\n5：Persist：移除 key 的过期时间，key 将持久保持\n\n6：Move：将当前数据库的 key 移动到给定的数据库 db 当中\n\n7：Randomkey：从当前数据库中随机返回一个 key \n\n8：Dump：序列化给定 key ，并返回被序列化的值\n\n9：Ttl：以秒为单位，返回给定 key 的剩余生存时间(TTL, time to live)\n\n10：Expire：seconds 为给定 key 设置过期时间\n\n11：DEL：删除 key\n\n12：Pttl：以毫秒为单位返回 key 的剩余的过期时间\n\n13：Renamenx：仅当 newkey 不存在时，将 key 改名为 newkey \n\n14：Exists：检查给定 key 是否存在\n\n15：Expireat：EXPIREAT 的作用和 EXPIRE 类似，都用于为 key 设置过期时间 不同在于 EXPIREAT：接受的时间参数是 UNIX 时间戳(unix timestamp)\n\n16：Keys：查找所有符合给定模式( pattern)的 key \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br")])]),e("h3",{attrs:{id:"二-字符串-string-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二-字符串-string-命令"}},[s._v("#")]),s._v(" (二)：字符串(String) 命令")]),s._v(" "),e("ul",[e("li",[s._v("下面是String类型的命令")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1：Setnx：只有在 key 不存在时设置 key 的值\n\n2：Getrange：返回 key 中字符串值的子字符\n\n3：Mset：同时设置一个或多个 key-value 对。\n\n4：Setex：将值 value 关联到 key ，并将 key 的过期时间设为 seconds (以秒为单位)。\n\n5：SET：设置指定 key 的值\n\n6：Get：获取指定 key 的值\n\n7：Getbit：对 key 所储存的字符串值，获取指定偏移量上的位(bit)\n\n8：Setbit：对 key 所储存的字符串值，设置或清除指定偏移量上的位(bit)\n\n9：Decr：将 key 中储存的数字值减一\n\n10：Decrby：key 所储存的值减去给定的减量值（decrement） \n\n11：Strlen：返回 key 所储存的字符串值的长度\n\n12：Msetnx：同时设置一个或多个 key-value 对，当且仅当所有给定 key 都不存在\n\n13：Incrby：将 key 所储存的值加上给定的增量值（increment）\n\n14：Incrbyfloat：将 key 所储存的值加上给定的浮点增量值（increment） \n\n15：Setrange：用 value 参数覆写给定 key 所储存的字符串值，从偏移量 offset 开始\n\n16：Psetex：这个命令和 SETEX 命令相似，但它以毫秒为单位设置 key 的生存时间，而不是像 SETEX 命令那样，以秒为单位\n\n17：Append：如果 key 已经存在并且是一个字符串， APPEND 命令将 value 追加到 key 原来的值的末尾\n\n18：Getset：将给定 key 的值设为 value ，并返回 key 的旧值(old value)\n\n19：Mget：获取所有(一个或多个)给定 key 的值\n\n20：Incr：将 key 中储存的数字值增一\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br")])]),e("h3",{attrs:{id:"三-哈希表-hash-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三-哈希表-hash-命令"}},[s._v("#")]),s._v(" (三)：哈希表(Hash) 命令")]),s._v(" "),e("ul",[e("li",[s._v("下面是Hash类型的命令")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1：Hmset：同时将多个 field-value (域-值)对设置到哈希表 key 中\n\n2：Hmget：获取所有给定字段的值\n\n3：Hset：将哈希表 key 中的字段 field 的值设为 value \n\n4：Hgetall：获取在哈希表中指定 key 的所有字段和值\n\n5：Hget：获取存储在哈希表中指定字段的值\n\n6：Hexists：查看哈希表 key 中，指定的字段是否存在\n\n7：Hincrby：为哈希表 key 中的指定字段的整数值加上增量 increment \n\n8：Hlen：获取哈希表中字段的数量\n\n9：Hdel：删除一个或多个哈希表字段\n\n10：Hvals：获取哈希表中所有值\n\n11：Hincrbyfloat：为哈希表 key 中的指定字段的浮点数值加上增量 increment \n\n12：Hkeys：获取所有哈希表中的字段\n\n13：Hsetnx：只有在字段 field 不存在时，设置哈希表字段的值。\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br")])]),e("h3",{attrs:{id:"四-列表-list-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四-列表-list-命令"}},[s._v("#")]),s._v(" (四)：列表(List) 命令")]),s._v(" "),e("ul",[e("li",[s._v("下面是List类型的命令")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1：Lindex：通过索引获取列表中的元素\n\n2：Rpush：在列表中添加一个或多个值\n\n3：Lrange：获取列表指定范围内的元素\n\n4：Rpoplpush：移除列表的最后一个元素，并将该元素添加到另一个列表并返回\n\n5：Blpop：移出并获取列表的第一个元素， 如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止\n\n6：Brpop：移出并获取列表的最后一个元素， 如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止\n\n7：Brpoplpush：从列表中弹出一个值，将弹出的元素插入到另外一个列表中并返回它； 如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止\n\n8：Lrem：移除列表元素\n\n9：Llen：获取列表长度\n\n10：Ltrim：对一个列表进行修剪(trim)，就是说，让列表只保留指定区间内的元素，不在指定区间之内的元素都将被删除\n\n11：Lpop：移出并获取列表的第一个元素\n\n12：Lpushx：将一个或多个值插入到已存在的列表头部\n\n13：Linsert：在列表的元素前或者后插入元素\n\n14：Rpop：移除并获取列表最后一个元素\n\n15：Lset：通过索引设置列表元素的值\n\n16：Lpush：将一个或多个值插入到列表头部\n\n17：Rpushx：为已存在的列表添加值\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br")])]),e("h3",{attrs:{id:"五-集合-set-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#五-集合-set-命令"}},[s._v("#")]),s._v(" (五)：集合(Set) 命令")]),s._v(" "),e("ul",[e("li",[s._v("下面是Set类型的命令")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1：Sunion：返回所有给定集合的并集\n\n2：Scard：获取集合的成员数\n\n3：Srandmember：返回集合中一个或多个随机数\n\n4：Smembers：返回集合中的所有成员\n\n5：Sinter：返回给定所有集合的交集\n\n6：Srem：移除集合中一个或多个成员\n\n7：Smove：将 member 元素从 source 集合移动到 destination 集合\n\n8：Sadd：向集合添加一个或多个成员\n\n9：Sismember：判断 member 元素是否是集合 key 的成员\n\n10：Sdiffstore：返回给定所有集合的差集并存储在 destination 中\n\n11：Sdiff：返回给定所有集合的差集\n\n12：Sscan：迭代集合中的元素\n\n13：Sinterstore：返回给定所有集合的交集并存储在 destination 中\n\n14：Sunionstore：所有给定集合的并集存储在 destination 集合中\n\n15：Spop：移除并返回集合中的一个随机元素\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br")])]),e("h3",{attrs:{id:"六-有序集合-sorted-set-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#六-有序集合-sorted-set-命令"}},[s._v("#")]),s._v(" (六)：有序集合(sorted set) 命令")]),s._v(" "),e("ul",[e("li",[s._v("下面是ZSet类型的命令")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1：Zrevrank：返回有序集合中指定成员的排名，有序集成员按分数值递减(从大到小)排序\n\n2：Zlexcount：在有序集合中计算指定字典区间内成员数量\n\n3：Zunionstore：计算给定的一个或多个有序集的并集，并存储在新的 key 中\n\n4：Zremrangebyrank：移除有序集合中给定的排名区间的所有成员\n\n5：Zcard：获取有序集合的成员数\n\n6：Zrem：移除有序集合中的一个或多个成员\n\n7：Zinterstore：计算给定的一个或多个有序集的交集并将结果集存储在新的有序集合 key 中\n\n8：Zrank：返回有序集合中指定成员的索引\n\n9：Zincrby：有序集合中对指定成员的分数加上增量 increment\n\n10：Zrangebyscore：通过分数返回有序集合指定区间内的成员\n\n11：Zrangebylex：通过字典区间返回有序集合的成员\n\n12：Zscore：返回有序集中，成员的分数值\n\n13：Zremrangebyscore：移除有序集合中给定的分数区间的所有成员\n\n14：Zscan：迭代有序集合中的元素（包括元素成员和元素分值）\n\n15：Zrevrangebyscore：返回有序集中指定分数区间内的成员，分数从高到低排序\n\n16：Zremrangebylex：移除有序集合中给定的字典区间的所有成员\n\n17：Zrevrange：返回有序集中指定区间内的成员，通过索引，分数从高到底\n\n18：Zrange：通过索引区间返回有序集合成指定区间内的成员\n\n19：Zcount：计算在有序集合中指定区间分数的成员数\n\n20：Zadd：向有序集合添加一个或多个成员，或者更新已存在成员的分数\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br")])]),e("h3",{attrs:{id:"七-连接-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#七-连接-命令"}},[s._v("#")]),s._v(" (七)：连接 命令")]),s._v(" "),e("ul",[e("li",[s._v("下面是连接相关命令")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1：Echo：打印字符串\n\n2：Select：切换到指定的数据库\n\n3：Ping：查看服务是否运行\n\n4：Quit：关闭当前连接\n\n5：Auth：验证密码是否正确\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("h3",{attrs:{id:"八-服务器-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#八-服务器-命令"}},[s._v("#")]),s._v(" (八)：服务器 命令")]),s._v(" "),e("ul",[e("li",[s._v("服务器相关命令")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1：Client Pause：在指定时间内终止运行来自客户端的命令\n\n2：Debug Object：获取 key 的调试信息\n\n3：Flushdb：删除当前数据库的所有key\n\n4：Save：异步保存数据到硬盘\n\n5：Showlog：管理 redis 的慢日志\n\n6：Lastsave：返回最近一次 Redis 成功将数据保存到磁盘上的时间，以 UNIX 时间戳格式表示\n\n7：Config Get：获取指定配置参数的值\n\n8：Command：获取 Redis 命令详情数组\n\n9：Slaveof：将当前服务器转变为指定服务器的从属服务器(slave server)\n\n10：Debug Segfault：让 Redis 服务崩溃\n\n11：Flushall：删除所有数据库的所有key\n\n12：Dbsize：返回当前数据库的 key 的数量\n\n13：Bgrewriteaof：异步执行一个 AOF（AppendOnly File） 文件重写操作\n\n14：Cluster Slots：获取集群节点的映射数组\n\n15：Config Set：修改 redis 配置参数，无需重启\n\n16：Command Info：获取指定 Redis 命令描述的数组\n\n17：Shutdown：异步保存数据到硬盘，并关闭服务器\n\n18：Sync：用于复制功能(replication)的内部命令\n\n19：Client Kill：关闭客户端连接\n\n20：Role：返回主从实例所属的角色\n\n21：Monitor：实时打印出 Redis 服务器接收到的命令，调试用\n\n22：Command Getkeys：获取给定命令的所有键\n\n23：Client Getname：获取连接的名称\n\n24：Config Resetstat：重置 INFO 命令中的某些统计数据\n\n25：Command Count：获取 Redis 命令总数\n\n26：Time：返回当前服务器时间\n\n27：Info：获取 Redis 服务器的各种信息和统计数值\n\n28：Config rewrite：对启动 Redis 服务器时所指定的 redis.conf 配置文件进行改写\n\n29：Client List：获取连接到服务器的客户端连接列表\n\n30：Client Setname：设置当前连接的名称\n\n31：Bgsave：在后台异步保存当前数据库的数据到磁盘\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br"),e("span",{staticClass:"line-number"},[s._v("40")]),e("br"),e("span",{staticClass:"line-number"},[s._v("41")]),e("br"),e("span",{staticClass:"line-number"},[s._v("42")]),e("br"),e("span",{staticClass:"line-number"},[s._v("43")]),e("br"),e("span",{staticClass:"line-number"},[s._v("44")]),e("br"),e("span",{staticClass:"line-number"},[s._v("45")]),e("br"),e("span",{staticClass:"line-number"},[s._v("46")]),e("br"),e("span",{staticClass:"line-number"},[s._v("47")]),e("br"),e("span",{staticClass:"line-number"},[s._v("48")]),e("br"),e("span",{staticClass:"line-number"},[s._v("49")]),e("br"),e("span",{staticClass:"line-number"},[s._v("50")]),e("br"),e("span",{staticClass:"line-number"},[s._v("51")]),e("br"),e("span",{staticClass:"line-number"},[s._v("52")]),e("br"),e("span",{staticClass:"line-number"},[s._v("53")]),e("br"),e("span",{staticClass:"line-number"},[s._v("54")]),e("br"),e("span",{staticClass:"line-number"},[s._v("55")]),e("br"),e("span",{staticClass:"line-number"},[s._v("56")]),e("br"),e("span",{staticClass:"line-number"},[s._v("57")]),e("br"),e("span",{staticClass:"line-number"},[s._v("58")]),e("br"),e("span",{staticClass:"line-number"},[s._v("59")]),e("br"),e("span",{staticClass:"line-number"},[s._v("60")]),e("br"),e("span",{staticClass:"line-number"},[s._v("61")]),e("br")])]),e("h3",{attrs:{id:"九-脚本-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#九-脚本-命令"}},[s._v("#")]),s._v(" (九)：脚本 命令")]),s._v(" "),e("ul",[e("li",[s._v("脚本相关命令")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1：Script kill：杀死当前正在运行的 Lua 脚本。\n\n2：Script Load：将脚本 script 添加到脚本缓存中，但并不立即执行这个脚本。\n\n3：Eval：执行 Lua 脚本。\n\n4：Evalsha：执行 Lua 脚本。\n\n5：Script Exists：查看指定的脚本是否已经被保存在缓存当中。\n\n6：Script Flush：从脚本缓存中移除所有脚本。\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("h3",{attrs:{id:"十-事务-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#十-事务-命令"}},[s._v("#")]),s._v(" (十)：事务 命令")]),s._v(" "),e("ul",[e("li",[s._v("事务相关命令")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1：Exec：执行所有事务块内的命令。\n\n2：Watch：监视一个(或多个) key ，如果在事务执行之前这个(或这些) key 被其他命令所改动，那么事务将被打断。\n\n3：Discard：取消事务，放弃执行事务块内的所有命令。\n\n4：Unwatch：取消 WATCH 命令对所有 key 的监视。\n\n5：Multi：标记一个事务块的开始。\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("h2",{attrs:{id:"三-redis的crud操作-参考文档"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三-redis的crud操作-参考文档"}},[s._v("#")]),s._v(" 三：Redis的CRUD操作 "),e("a",{attrs:{href:"https://pkg.go.dev/github.com/go-redis/redis#section-readme",target:"_blank",rel:"noopener noreferrer"}},[s._v("参考文档"),e("OutboundLink")],1)]),s._v(" "),e("h3",{attrs:{id:"一-string数据类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一-string数据类型"}},[s._v("#")]),s._v(" (一)：String数据类型")]),s._v(" "),e("ul",[e("li",[s._v("redis中最基本的数据类型，一个key对应一个value，"),e("code",[s._v("string数据类型表示key是string，value可以是任意值，例如数字，字符串，jpg图片或者序列化的对象。但是在Redis里面都是以字符串的方式体现的")])])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('func main() {\n\t\n\t// 初始化连接对象\n\t_ = initClient()\n\n\terr := rdb.Set("score", 100, 0).Err()\n\tif err != nil {\n\t\tfmt.Printf("set score failed, err:%v\\n", err)\n\t\treturn\n\t}\n\n\tval, err := rdb.Get("score").Result()\n\tif err != nil {\n\t\tfmt.Printf("get score failed, err:%v\\n", err)\n\t\treturn\n\t}\n\tfmt.Println("score", val)\n\n}\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br")])]),e("ul",[e("li",[s._v("String类型的set操作有多个API方法，表示不同的设置值的方式")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('1：只设置过期时间\nfunc (c *cmdable) Set(key string, value interface{}, expiration time.Duration) *StatusCmd\n示例：ok, err := rdb.Set("score", 1000, 0).Result() \n\n\n2：只有key不存在的时候，才会设置值，可以作为分布式锁\nfunc (c *cmdable) SetNX(key string, value interface{}, expiration time.Duration) *BoolCmd\n示例：ok ,err := rdb.SetNX("score", 1000, 0).Result()\n\n\n3：只有key存在的时候，才会设置值\nfunc (c *cmdable) SetXX(key string, value interface{}, expiration time.Duration) *BoolCmd\n示例：ok, err := rdb.SetXX("score", 1000, 0).Result()\n\n\n4：从offset开始，使用value覆盖\nfunc (c *cmdable) SetRange(key string, offset int64, value string) *IntCmd\n示例：ok, err := rdb.SetRange("score1", 1, "ss").Result()\n\n\n5：一次性设置多个值\nfunc (c *cmdable) MSet(pairs ...interface{}) *StatusCmd\n示例：ok, err := rdb.MSet("score1", 100, "score2", 200).Result()\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br")])]),e("ul",[e("li",[s._v("String类型的get操作有多个API方法，表示不同的获取值的方式")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('1：获取单个值\nfunc (c *cmdable) Get(key string) *StringCmd\n示例：val, err := rdb.Get("score").Result()\n\n2：获取多个值\nfunc (c *cmdable) MGet(keys ...string) *SliceCmd\n示例：val, err := rdb.MGet("score1", "score2").Result()\n\n3：获取key对应的值的某个范围\nfunc (c *cmdable) GetRange(key string, start, end int64) *StringCmd\n示例：val, _ := rdb.GetRange("score1", 0, 3).Result()\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("ul",[e("li",[s._v("String类型的自增和自减方法")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('1：自增1，value的值必须是数值类型\nfunc (c *cmdable) Incr(key string) *IntCmd\n示例：val, _ := rdb.Incr("score2").Result()\n\n2：自增一个值\nfunc (c *cmdable) IncrBy(key string, value int64) *IntCmd\n示例：val, _ := rdb.IncrBy("score1", 100).Result()\n\n3：自增浮点数\nfunc (c *cmdable) IncrByFloat(key string, value float64) *FloatCmd\n示例：val, _ := rdb.IncrByFloat("score1", 0.123).Result()\n\n4：自减与自增类似\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])]),e("h3",{attrs:{id:"二-zset数据类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二-zset数据类型"}},[s._v("#")]),s._v(" (二)：zset数据类型")]),s._v(" "),e("ul",[e("li",[s._v("zset类型可以理解为是一个集合带score分数的类型，下面是一些zset类型相关操作示例")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('func redisZsetExample() {\n\tzsetKey := "language_rank"\n\n\tlanguages := []redis.Z{\n\t\tredis.Z{Score: 90.0, Member: "Golang"},\n\t\tredis.Z{Score: 98.0, Member: "Java"},\n\t\tredis.Z{Score: 95.0, Member: "Python"},\n\t\tredis.Z{Score: 97.0, Member: "JavaScript"},\n\t\tredis.Z{Score: 99.0, Member: "C/C++"},\n\t}\n\n\t// ZADD\n\tnum, err := rdb.ZAdd(zsetKey, languages...).Result()\n\tif err != nil {\n\t\tfmt.Printf("zadd failed, err:%v\\n", err)\n\t\treturn\n\t}\n\n\tfmt.Printf("zadd %d succ.\\n", num)\n\n\t// 把Golang的分数加10\n\tnewScore, err := rdb.ZIncrBy(zsetKey, 10.0, "Golang").Result()\n\tif err != nil {\n\t\tfmt.Printf("zincrby failed, err:%v\\n", err)\n\t\treturn\n\t}\n\tfmt.Printf("Golang\'s score is %f now.\\n", newScore)\n\n\t// 取分数最高的3个\n\tret, err := rdb.ZRevRangeWithScores(zsetKey, 0, 2).Result()\n\tif err != nil {\n\t\tfmt.Printf("zrevrange failed, err:%v\\n", err)\n\t\treturn\n\t}\n\n\tfor _, z := range ret {\n\t\tfmt.Println(z.Member, z.Score)\n\t}\n\n\t// 取95~100分的成员\n\top := redis.ZRangeBy{\n\t\tMin: "95",\n\t\tMax: "100",\n\t}\n\tret, err = rdb.ZRangeByScoreWithScores(zsetKey, op).Result()\n\tif err != nil {\n\t\tfmt.Printf("zrangebyscore failed, err:%v\\n", err)\n\t\treturn\n\t}\n\tfor _, z := range ret {\n\t\tfmt.Println(z.Member, z.Score)\n\t}\n}\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br"),e("span",{staticClass:"line-number"},[s._v("40")]),e("br"),e("span",{staticClass:"line-number"},[s._v("41")]),e("br"),e("span",{staticClass:"line-number"},[s._v("42")]),e("br"),e("span",{staticClass:"line-number"},[s._v("43")]),e("br"),e("span",{staticClass:"line-number"},[s._v("44")]),e("br"),e("span",{staticClass:"line-number"},[s._v("45")]),e("br"),e("span",{staticClass:"line-number"},[s._v("46")]),e("br"),e("span",{staticClass:"line-number"},[s._v("47")]),e("br"),e("span",{staticClass:"line-number"},[s._v("48")]),e("br"),e("span",{staticClass:"line-number"},[s._v("49")]),e("br"),e("span",{staticClass:"line-number"},[s._v("50")]),e("br"),e("span",{staticClass:"line-number"},[s._v("51")]),e("br"),e("span",{staticClass:"line-number"},[s._v("52")]),e("br"),e("span",{staticClass:"line-number"},[s._v("53")]),e("br")])]),e("h3",{attrs:{id:"三-redis执行自定义命令-这个方法需要理解一下"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三-redis执行自定义命令-这个方法需要理解一下"}},[s._v("#")]),s._v(" (三)：Redis执行自定义命令（这个方法需要理解一下）")]),s._v(" "),e("ul",[e("li",[s._v("执行自定义命令")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('// 这就是string类型，执行set操作，相当于【set key value】\nres, err := rdb.Do("set", "key", "value").Result()\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"四-redis其他数据类型的方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四-redis其他数据类型的方法"}},[s._v("#")]),s._v(" (四)：Redis其他数据类型的方法")]),s._v(" "),e("ul",[e("li",[s._v("Redis其他数据类型的方法与命令行保持一致，主要是属性五种常用数据类型")])]),s._v(" "),e("h2",{attrs:{id:"四-redis的pipeline、事务、watch相关操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四-redis的pipeline、事务、watch相关操作"}},[s._v("#")]),s._v(" 四：Redis的Pipeline、事务、Watch相关操作")]),s._v(" "),e("h3",{attrs:{id:"一-redis的pipeline操作-当我们有多条命令要执行时-就可以考虑使用pipeline来优化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一-redis的pipeline操作-当我们有多条命令要执行时-就可以考虑使用pipeline来优化"}},[s._v("#")]),s._v(" (一)：Redis的Pipeline操作：当我们有多条命令要执行时，就可以考虑使用pipeline来优化")]),s._v(" "),e("ul",[e("li",[s._v("Pipeline 主要是一种网络优化，它本质上意味着客户端缓冲一堆命令并一次性将它们发送到服务器，这些命令不能保证在事务中执行。这样做的好处是节省了每个命令的网络往返时间（RTT）")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('// 创建一个pipeline\npipe := rdb.Pipeline()\n\n\nincr := pipe.Incr("pipeline_counter") // 第一条Redis命令\npipe.Expire("pipeline_counter", time.Hour) // 第二条Redis命令\n\n_, err := pipe.Exec() // 两条命令同时发送给服务器\n\nfmt.Println(incr.Val(), err)\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("ul",[e("li",[s._v("也可以使用Pipelined方法，但是更推荐使用上面的pipe.Exec()方式")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('pipe := rdb.Pipeline()\nvar incr *redis.IntCmd\nrdb.Pipelined(func(pipeliner redis.Pipeliner) error {\n\tincr = pipe.Incr("pipelined_counter")\n\tpipe.Expire("pipelined_counter", time.Hour)\n\treturn nil\n})\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h3",{attrs:{id:"二-redis的事务操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二-redis的事务操作"}},[s._v("#")]),s._v(" (二)：Redis的事务操作")]),s._v(" "),e("ul",[e("li",[s._v("Redis是单线程的，因此单个命令始终是原子的，但是来自不同客户端的两个给定命令可以依次执行，例如在它们之间交替执行，因此在并发情况下，Redis需要TxPipeline来保证多个命令的原子性。TxPipeline与Pipeline使用方法类似，但是TxPipeline保证了多个命令的原子性")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('pipe := rdb.TxPipeline()\n\nincr := pipe.Incr("tx_pipeline_counter")\npipe.Expire("tx_pipeline_counter", time.Hour)\n\n_, err := pipe.Exec()\nfmt.Println(incr.Val(), err)\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h3",{attrs:{id:"三-redis的watch操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三-redis的watch操作"}},[s._v("#")]),s._v(" (三)：Redis的Watch操作")]),s._v(" "),e("ul",[e("li",[s._v("在某些场景下，"),e("code",[s._v("我们除了要使用TxPipeline()命令外，还需要配合使用Watch命令")]),s._v("。在用户使用Watch命令监视某个键之后，直到该用户执行事务的这段时间里，"),e("code",[s._v("如果有其他用户抢先对被监视的键进行了替换、更新、删除等操作，那么当用户尝试执行事务的时候，事务将失败并返回一个错误，用户可以根据这个错误选择重试事务或者放弃事务")])])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("// 定义一个事务函数\ntxf := func(tx *redis.Tx) error {\n\t\n\t// 先获取一下key的值，如果key的值有变化，那么err会有值\n\tn, err := tx.Get(key).Int()\n\tif err != nil && err != redis.Nil {\n\t\treturn err\n\t}\n\t\n\t// 在err没有值的情况下，执行下面的事务操作\n\t_, err = tx.Pipelined(func(pipe redis.Pipeliner) error {\n\t\tpipe.Set(key, n+1, 0)\n\t\treturn nil\n\t})\n\treturn err\n}\n\n// 监控key的变化的过程中，执行txf事务函数，如果key有变化，事务函数立即返回err\nerr := rdb.Watch(txf, key)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br")])]),e("ul",[e("li",[s._v("下面的代码是，模拟多个goroutine，对Redis中的某个key的值进行修改，如果在修改的过程中，key的值发生了变化，会返回err，然后再次重试")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('func transactionDemo() {\n\tvar (\n\t\tmaxRetries   = 1000\n\t\troutineCount = 10\n\t)\n\n\t// Increment 使用GET和SET命令以事务方式递增Key的值\n\tincrement := func(key string) error {\n\t\t// 事务函数\n\t\ttxf := func(tx *redis.Tx) error {\n\t\t\t// 获得key的当前值或零值\n\t\t\tn, err := tx.Get(key).Int()\n\t\t\tif err != nil && err != redis.Nil {\n\t\t\t\treturn err\n\t\t\t}\n\n\t\t\t// 实际的操作代码（乐观锁定中的本地操作）\n\t\t\tn++\n\n\t\t\t// 操作仅在 Watch 的 Key 没发生变化的情况下提交\n\t\t\t_, err = tx.TxPipelined(func(pipe redis.Pipeliner) error {\n\t\t\t\tpipe.Set(key, n, 0)\n\t\t\t\treturn nil\n\t\t\t})\n\n\t\t\treturn err\n\t\t}\n\n\t\t// 最多重试 maxRetries 次\n\t\tfor i := 0; i < maxRetries; i++ {\n\n\t\t\t// 监控key的同事，执行txf函数\n\t\t\terr := rdb.Watch(txf, key)\n\t\t\tif err == nil {\n\t\t\t\t// 成功\n\t\t\t\treturn nil\n\t\t\t}\n\n\t\t\t// 如果事务执行失败，也就是说，再这个过程中key发生变化了，直接continue，重新执行事务操作\n\t\t\tif err == redis.TxFailedErr {\n\t\t\t\t// 乐观锁丢失 重试\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\t// 返回其他的错误\n\t\t\treturn err\n\t\t}\n\n\t\treturn errors.New("increment reached maximum number of retries")\n\t}\n\n\t// 模拟 routineCount 个并发同时去修改 counter3 的值\n\tvar wg sync.WaitGroup\n\twg.Add(routineCount)\n\n\tfor i := 0; i < routineCount; i++ {\n\t\tgo func() {\n\t\t\tdefer wg.Done()\n\t\t\tif err := increment("counter3"); err != nil {\n\t\t\t\tfmt.Println("increment error:", err)\n\t\t\t}\n\t\t}()\n\t}\n\n\twg.Wait()\n\n\tn, err := rdb.Get("counter3").Int()\n\tfmt.Println("ended with", n, err)\n}\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br"),e("span",{staticClass:"line-number"},[s._v("40")]),e("br"),e("span",{staticClass:"line-number"},[s._v("41")]),e("br"),e("span",{staticClass:"line-number"},[s._v("42")]),e("br"),e("span",{staticClass:"line-number"},[s._v("43")]),e("br"),e("span",{staticClass:"line-number"},[s._v("44")]),e("br"),e("span",{staticClass:"line-number"},[s._v("45")]),e("br"),e("span",{staticClass:"line-number"},[s._v("46")]),e("br"),e("span",{staticClass:"line-number"},[s._v("47")]),e("br"),e("span",{staticClass:"line-number"},[s._v("48")]),e("br"),e("span",{staticClass:"line-number"},[s._v("49")]),e("br"),e("span",{staticClass:"line-number"},[s._v("50")]),e("br"),e("span",{staticClass:"line-number"},[s._v("51")]),e("br"),e("span",{staticClass:"line-number"},[s._v("52")]),e("br"),e("span",{staticClass:"line-number"},[s._v("53")]),e("br"),e("span",{staticClass:"line-number"},[s._v("54")]),e("br"),e("span",{staticClass:"line-number"},[s._v("55")]),e("br"),e("span",{staticClass:"line-number"},[s._v("56")]),e("br"),e("span",{staticClass:"line-number"},[s._v("57")]),e("br"),e("span",{staticClass:"line-number"},[s._v("58")]),e("br"),e("span",{staticClass:"line-number"},[s._v("59")]),e("br"),e("span",{staticClass:"line-number"},[s._v("60")]),e("br"),e("span",{staticClass:"line-number"},[s._v("61")]),e("br"),e("span",{staticClass:"line-number"},[s._v("62")]),e("br"),e("span",{staticClass:"line-number"},[s._v("63")]),e("br"),e("span",{staticClass:"line-number"},[s._v("64")]),e("br"),e("span",{staticClass:"line-number"},[s._v("65")]),e("br"),e("span",{staticClass:"line-number"},[s._v("66")]),e("br"),e("span",{staticClass:"line-number"},[s._v("67")]),e("br"),e("span",{staticClass:"line-number"},[s._v("68")]),e("br")])]),e("h2",{attrs:{id:"五-执行lua脚本操作redis"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#五-执行lua脚本操作redis"}},[s._v("#")]),s._v(" 五：执行lua脚本操作Redis")]),s._v(" "),e("h3",{attrs:{id:"一-redis中执行lua脚本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一-redis中执行lua脚本"}},[s._v("#")]),s._v(" (一)：Redis中执行lua脚本")]),s._v(" "),e("ul",[e("li",[s._v("Redis允许执行lua脚本来操作Redis中的数据，使用lua脚本操作Redis有如下知识点")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1：Lua脚本可以实现原子性操作，避免并发情况下造成临界资源争抢，造成数据不一致问题\n\n2：如果Redis需要原子性操作，将多个操作捆绑为一个事务操作，可以使用txPipeline，也可以使用lua脚本，如果操作细节较多推荐使用lua脚本\n\n3：为了保证安全性，在 Lua 脚本中不要定义自己的全局变量\n\n4：Lua 脚本不要进行高耗时操作\n\n5：通过lua脚本生成的sha值，可以在Redis中进行缓存，多次执行，减少了通信成本\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("h3",{attrs:{id:"二-在高并发情况下-4个用户发送6个请求抢购商品"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二-在高并发情况下-4个用户发送6个请求抢购商品"}},[s._v("#")]),s._v(" (二)：在高并发情况下，4个用户发送6个请求抢购商品")]),s._v(" "),e("ul",[e("li",[s._v("这是一个扣减库存的操作，扣减库存必须是事务性的，因此使用lua脚本操作redis，"),e("code",[s._v("下面代码保证了一个用户只能购买一次商品")])])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('func createScript() *redis.Script {\n\tscript := redis.NewScript(`\n\t\t\n\t\t\t-- 声明局部变量\n\t\t\tlocal goodsSurplus\n\t\t\tlocal flag\n\t\t\t\n\t\t\t-- existUserIds：hadBuyUids\n\t\t\t-- goodsSurplusKey：goodsSurplus\n\t\t\tlocal existUserIds    = tostring(KEYS[1])\n\t\t\tlocal goodsSurplusKey = tostring(KEYS[2])\n\t\t\t\n\t\t\t-- memberUid：5824742984\n\t\t\tlocal memberUid       = tonumber(ARGV[1])\n\t\t\t\n\t\t\t-- 执行Redis命令：查看existUserIds集合中是否存在memberUid\n\t\t\tlocal hasBuy = redis.call("sIsMember", existUserIds, memberUid)\n\t\t\t\n\t\t\t-- 判断用户是否买了商品，如果为0，说明没有买，如果不为0，说明买了，那么直接结束脚本\n\t\t\tif hasBuy ~= 0 then\n\t\t\t  return 0\n\t\t\tend\n\t\t\t\n\t\t\t-- 如果用户买有买，获取goodsSurplusKey商品的库存，如果库存不存在，那么直接结束脚本\n\t\t\tgoodsSurplus =  redis.call("GET", goodsSurplusKey)\n\t\t\tif goodsSurplus == false then\n\t\t\t  return 0\n\t\t\tend\n\t\t\t\n\t\t\t-- 如果库存存在，且库存为0，那么直接结束脚本\n\t\t\tgoodsSurplus = tonumber(goodsSurplus)\n\t\t\tif goodsSurplus <= 0 then\n\t\t\t  return 0\n\t\t\tend\n\t\t\t\n\t\t\t-- 扣减库存：先将用户的id加入到已买集合，再让库存减一\n\t\t\tflag = redis.call("SADD", existUserIds, memberUid)\n\t\t\tflag = redis.call("DECR", goodsSurplusKey)\n\t\t\t\n\t\t\t-- 最后返回1，表示扣减库存成功\n\t\t\treturn 1\n\t`)\n\treturn script\n}\n\n// evalScript 执行lua脚本\nfunc evalScript(client *redis.Client, userId string, wg *sync.WaitGroup) {\n\tdefer wg.Done()\n\n\t// 获取脚本对象\n\tscript := createScript()\n\n\t// 创建sha值与脚本的对应关系\n\tsha, err := script.Load(client).Result()\n\tif err != nil {\n\t\tlog.Fatalln(err)\n\t}\n\n\t// 执行sha值对应的脚本，key是"hadBuyUids", "goodsSurplus"，args是userId，例如5824742984，keys和args会传递到Redis脚本中\n\tret := client.EvalSha(sha, []string{"hadBuyUids", "goodsSurplus"}, userId)\n\n\t// 获取Redis的返回结果\n\tif result, err := ret.Result(); err != nil {\n\t\tlog.Fatalf("Execute Redis fail: %v\\n", err.Error())\n\t} else {\n\t\tif result.(int64) == 1 {\n\t\t\tfmt.Printf("userId：%s，第一次抢购商品，扣减库存成功\\n", userId)\n\t\t} else {\n\t\t\tfmt.Printf("userId：%s，已经抢购过商品，扣减库存失败\\n", userId)\n\t\t}\n\t}\n\n}\n\nfunc main() {\n\tvar wg sync.WaitGroup\n\tclient := redis.NewClient(&redis.Options{\n\t\tAddr:     "localhost:6379",\n\t\tPassword: "",\n\t\tDB:       0,\n\t})\n\n\t// 这里假设4个用户发送了6个请求去扣减库存\n\tfor _, v := range []string{"5824742984", "5824742984", "5824742983", "5824742983", "5824742982", "5824742980"} {\n\t\twg.Add(1)\n\t\tgo evalScript(client, v, &wg)\n\t}\n\twg.Wait()\n\n}\n\n\n// 输出结果：\nuserId：5824742982，第一次抢购商品，扣减库存成功\nuserId：5824742980，第一次抢购商品，扣减库存成功\nuserId：5824742984，已经抢购过商品，扣减库存失败\nuserId：5824742983，已经抢购过商品，扣减库存失败\nuserId：5824742983，第一次抢购商品，扣减库存成功\nuserId：5824742984，第一次抢购商品，扣减库存成功\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br"),e("span",{staticClass:"line-number"},[s._v("40")]),e("br"),e("span",{staticClass:"line-number"},[s._v("41")]),e("br"),e("span",{staticClass:"line-number"},[s._v("42")]),e("br"),e("span",{staticClass:"line-number"},[s._v("43")]),e("br"),e("span",{staticClass:"line-number"},[s._v("44")]),e("br"),e("span",{staticClass:"line-number"},[s._v("45")]),e("br"),e("span",{staticClass:"line-number"},[s._v("46")]),e("br"),e("span",{staticClass:"line-number"},[s._v("47")]),e("br"),e("span",{staticClass:"line-number"},[s._v("48")]),e("br"),e("span",{staticClass:"line-number"},[s._v("49")]),e("br"),e("span",{staticClass:"line-number"},[s._v("50")]),e("br"),e("span",{staticClass:"line-number"},[s._v("51")]),e("br"),e("span",{staticClass:"line-number"},[s._v("52")]),e("br"),e("span",{staticClass:"line-number"},[s._v("53")]),e("br"),e("span",{staticClass:"line-number"},[s._v("54")]),e("br"),e("span",{staticClass:"line-number"},[s._v("55")]),e("br"),e("span",{staticClass:"line-number"},[s._v("56")]),e("br"),e("span",{staticClass:"line-number"},[s._v("57")]),e("br"),e("span",{staticClass:"line-number"},[s._v("58")]),e("br"),e("span",{staticClass:"line-number"},[s._v("59")]),e("br"),e("span",{staticClass:"line-number"},[s._v("60")]),e("br"),e("span",{staticClass:"line-number"},[s._v("61")]),e("br"),e("span",{staticClass:"line-number"},[s._v("62")]),e("br"),e("span",{staticClass:"line-number"},[s._v("63")]),e("br"),e("span",{staticClass:"line-number"},[s._v("64")]),e("br"),e("span",{staticClass:"line-number"},[s._v("65")]),e("br"),e("span",{staticClass:"line-number"},[s._v("66")]),e("br"),e("span",{staticClass:"line-number"},[s._v("67")]),e("br"),e("span",{staticClass:"line-number"},[s._v("68")]),e("br"),e("span",{staticClass:"line-number"},[s._v("69")]),e("br"),e("span",{staticClass:"line-number"},[s._v("70")]),e("br"),e("span",{staticClass:"line-number"},[s._v("71")]),e("br"),e("span",{staticClass:"line-number"},[s._v("72")]),e("br"),e("span",{staticClass:"line-number"},[s._v("73")]),e("br"),e("span",{staticClass:"line-number"},[s._v("74")]),e("br"),e("span",{staticClass:"line-number"},[s._v("75")]),e("br"),e("span",{staticClass:"line-number"},[s._v("76")]),e("br"),e("span",{staticClass:"line-number"},[s._v("77")]),e("br"),e("span",{staticClass:"line-number"},[s._v("78")]),e("br"),e("span",{staticClass:"line-number"},[s._v("79")]),e("br"),e("span",{staticClass:"line-number"},[s._v("80")]),e("br"),e("span",{staticClass:"line-number"},[s._v("81")]),e("br"),e("span",{staticClass:"line-number"},[s._v("82")]),e("br"),e("span",{staticClass:"line-number"},[s._v("83")]),e("br"),e("span",{staticClass:"line-number"},[s._v("84")]),e("br"),e("span",{staticClass:"line-number"},[s._v("85")]),e("br"),e("span",{staticClass:"line-number"},[s._v("86")]),e("br"),e("span",{staticClass:"line-number"},[s._v("87")]),e("br"),e("span",{staticClass:"line-number"},[s._v("88")]),e("br"),e("span",{staticClass:"line-number"},[s._v("89")]),e("br"),e("span",{staticClass:"line-number"},[s._v("90")]),e("br"),e("span",{staticClass:"line-number"},[s._v("91")]),e("br"),e("span",{staticClass:"line-number"},[s._v("92")]),e("br"),e("span",{staticClass:"line-number"},[s._v("93")]),e("br"),e("span",{staticClass:"line-number"},[s._v("94")]),e("br"),e("span",{staticClass:"line-number"},[s._v("95")]),e("br"),e("span",{staticClass:"line-number"},[s._v("96")]),e("br"),e("span",{staticClass:"line-number"},[s._v("97")]),e("br"),e("span",{staticClass:"line-number"},[s._v("98")]),e("br"),e("span",{staticClass:"line-number"},[s._v("99")]),e("br")])])])}),[],!1,null,null,null);n.default=t.exports},743:function(s,n,a){s.exports=a.p+"assets/img/2021-10-185.52.41.cb9edbe6.png"}}]);