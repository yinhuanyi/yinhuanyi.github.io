(window.webpackJsonp=window.webpackJsonp||[]).push([[155],{1380:function(s,a,t){s.exports=t.p+"assets/img/2020-06-075.36.50.ecd8b225.png"},1381:function(s,a,t){s.exports=t.p+"assets/img/2020-06-075.37.11.fe3f7d16.png"},1382:function(s,a,t){s.exports=t.p+"assets/img/2020-06-075.47.19.d747fe3d.png"},2462:function(s,a,t){"use strict";t.r(a);var e=t(9),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h3",{attrs:{id:"一-安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一-安装"}},[s._v("#")]),s._v(" (一)：安装")]),s._v(" "),e("ul",[e("li",[s._v("从 PYPI 安装")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("pip install -U  zabbix-feishu-alert\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("从 Github 安装")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("pip isntall git+https://github.com/yinhuanyi/zabbix-feishu-alert.git\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"二-使用方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二-使用方法"}},[s._v("#")]),s._v(" (二)：使用方法")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("from zabbix_feishu_alert import FeishuMessage\n\n# 第一个参数：100.99.1.3为你的zabbix serverIP地址\n# 第二个参数：Admin为你的zabbix web登录用户名\n# 第三个参数：zabbix为你的zabbix web登录密码\n# 第四个参数：13970236751为被@人的手机号码\n# 第五个参数：36836为监控item的item id\n# 第六个参数：zabbix graph存储路径\n# 第七个参数：飞书机器人的app_id\n# 第八个参数：飞书机器人的app_secret\nfeishu = FeishuMessage('100.99.1.3',\n                       'Admin',\n                       'zabbix',\n                       '13970236751',\n                       36836,\n                       './',\n                       'cli_9e44d8e26dbb500d',\n                       '8X4jX9MLwg6AXIEVJh0lC8oeHNDBfbnd')\n\n# 第五个和第六个参数为：发送告警信息的时候，需要获取到zabbix中的title信息和message信息\n# 第七个参数：38524是此次告警的event_id\n# 第八个参数：100.112.2.11是[立即处理]按钮的调整地址\nfeishu.send_alarm_message(feishu.user_id,\n                          feishu.chat_id,\n                          feishu.tenant_access_token,\n                          feishu.image_key,\n                          \"Zabbix Alert Title\",\n                          \"Zabbix Alert Content\",\n                          38524,\n                          '100.112.2.11')\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br")])]),e("h3",{attrs:{id:"三-告警效果"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三-告警效果"}},[s._v("#")]),s._v(" (三)：告警效果")]),s._v(" "),e("ul",[e("li",[s._v("测试效果")])]),s._v(" "),e("p",[e("img",{attrs:{src:t(1380),alt:"Alt text"}})]),s._v(" "),e("ul",[e("li",[s._v("真实接入zabbix之后的效果")])]),s._v(" "),e("p",[e("img",{attrs:{src:t(1381),alt:"Alt text"}})]),s._v(" "),e("h3",{attrs:{id:"四-点击-立即处理-按钮"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四-点击-立即处理-按钮"}},[s._v("#")]),s._v(" (四)：点击[立即处理]按钮")]),s._v(" "),e("ul",[e("li",[s._v("当值班人被@后，需要点击立即处理，立即处理会跳转到企业内部的运维平台，记录告警人的基本信息，例如：姓名，处理告警的时间等")])]),s._v(" "),e("p",[e("img",{attrs:{src:t(1382),alt:"Alt text"}})]),s._v(" "),e("h3",{attrs:{id:"二-介绍飞书机器人的创建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二-介绍飞书机器人的创建"}},[s._v("#")]),s._v(" （二）介绍飞书机器人的创建")]),s._v(" "),e("h3",{attrs:{id:"一-登录飞书开放平台"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一-登录飞书开放平台"}},[s._v("#")]),s._v(" (一)：登录飞书开放平台")]),s._v(" "),e("ul",[e("li",[s._v("登录飞书开放")])]),s._v(" "),e("p",[e("a",{attrs:{href:"https://open.feishu.cn/",target:"_blank",rel:"noopener noreferrer"}},[s._v("飞书开放平台"),e("OutboundLink")],1)]),s._v(" "),e("ul",[e("li",[s._v("在我的应用中，点击创建企业自建应用")])])])}),[],!1,null,null,null);a.default=n.exports}}]);